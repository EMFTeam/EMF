
# Map-specific parts of emf_core (SWMH version)

namespace = emf_core

# emf_core.50
#
# Deactivate and destroy HRE titular duchy-level stem duchies when their
# holders gain the corresponding kingdom-level titles.
#
# See SWMH/common/landed_titles/stemduchies_titles.txt
character_event = {
	id = emf_core.50
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			AND = {
				FROM = { title = k_schwaben }
				has_landed_title = d_swabia
			}
			AND = {
				FROM = { title = k_lower_lorraine }
				has_landed_title = d_lower_lorraine
			}
			AND = {
				FROM = { title = k_bavaria }
				has_landed_title = d_bavaria
			}
			AND = {
				FROM = { title = k_saxony }
				has_landed_title = d_saxony
			}
			AND = {
				FROM = { title = k_franconia }
				has_landed_title = d_franconia
			}
		}
	}

	immediate = {
		if = {
			limit = { FROM = { title = k_schwaben } }
			activate_title = {
				title = d_swabia
				status = no
			}
			destroy_landed_title = d_swabia
			break = yes
		}
		if = {
			limit = { FROM = { title = k_lower_lorraine } }
			activate_title = {
				title = d_lower_lorraine
				status = no
			}
			destroy_landed_title = d_lower_lorraine
			break = yes
		}
		if = {
			limit = { FROM = { title = k_bavaria } }
			activate_title = {
				title = d_bavaria
				status = no
			}
			destroy_landed_title = d_bavaria
			break = yes
		}
		if = {
			limit = { FROM = { title = k_saxony } }
			activate_title = {
				title = d_saxony
				status = no
			}
			destroy_landed_title = d_saxony
			break = yes
		}
		if = {
			limit = { FROM = { title = k_franconia } }
			activate_title = {
				title = d_franconia
				status = no
			}
			destroy_landed_title = d_franconia
		}
	}
}
