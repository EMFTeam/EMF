# -*- ck2.events -*-

# Written by Flavio

namespace=HF
# Possible Sponsor receives mass baptism request
letter_event = {
	id = HF.20000
	desc = EVTDESCHF20000
	border = GFX_event_letter_frame_religion
	show_from_from = yes
	
	is_triggered_only = yes

	option = { #Accept request, start preparation for mass conversion
		name = EVTOPTAHF20000
		custom_tooltip = { text = accept_baptism_request }
		hidden_tooltip = {
			set_character_flag = flag_sponsoring_baptism
			FROMFROM = { set_character_flag = flag_converting_baptism }
			save_event_target_as = sponsoring_king
			FROMFROM = { save_event_target_as = converting_king } 
		}
		FROMFROM = { hidden_tooltip = { letter_event = { id = HF.20002 days = 5 random = 5 } } }
		ai_chance = {
			factor = 100 # Acceptance added in the decision itself.
		}
	}
	option = { #Deny request, end event chain
		name = EVTOPTBHF20000
		custom_tooltip = { text = refuse_baptism_request }
		FROMFROM = {
			opinion = {
				modifier = opinion_denied_request
				years = 10
				who = ROOT
			}
		}
		hidden_tooltip = { 
			remove_opinion = {  
				who = FROMFROM
				modifier = opinion_baptism_sponsor_target
			}
			FROMFROM = { 
				remove_opinion = {  
					who = ROOT
					modifier = opinion_baptism_sponsor_target
				}
			}
		}

		FROMFROM = { hidden_tooltip = { letter_event = { id = HF.20001 days = 5 random = 5 } } }
		ai_chance = { #Only for Multiplayer
			factor = 0
		}
	}
}

#Converter: Sponsor refused your request to Baptism. Chain ENDS.
letter_event = {
	id = HF.20001
	desc = EVTDESCHF20001
	border = GFX_event_letter_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF20001 
		tooltip = {
			opinion = {
				modifier = opinion_denied_request
				years = 10
				who = FROM
			}
		}
	}
}

#Converter: Sponsor accepted your request. Non-aggression pact remains, prepare for ceremony.
letter_event = {
	id = HF.20002
	desc = EVTDESCHF20002
	border = GFX_event_letter_frame_religion

	trigger = {
		has_character_flag = flag_converting_baptism
		event_target:sponsoring_king = { is_alive = yes } 
	}

	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF20002
		prestige = -500
		if = { 
			limit = { trait = zealous }
			piety = -100
		}
		narrative_event = { id = HF.20003 days = 12 random = 11 tooltip = EVTTOOLTIPHF20003 } #Big fluff event
		custom_tooltip = {  #Have vassals make their own choice as well.
			text = EVTTOOLTIPHF20005
			hidden_tooltip = {
				any_vassal = { letter_event = { id = HF.20005 days = 2 random = 8 } }
			}
		}
	}
}

#The Baptism itself happens. Converter, his courtiers and provinces are converted.
narrative_event = {
	id = HF.20003
	title = EVTTITLE20003
	desc = {
		trigger = {
			event_target:sponsoring_king = { religion_group = christian }
		}
		text = EVTDESCHFA20003
	}
	desc = {
		trigger = {
			event_target:sponsoring_king = { religion_group = muslim }
		}
		text = EVTDESCHFB20003
	}
	desc = {
		trigger = {
			event_target:sponsoring_king = { religion = norse_pagan_reformed }
		}
		text = EVTDESCHFC20003
	}
	desc = {
		trigger = {
			event_target:sponsoring_king = { religion = tengri_pagan_reformed }
		}
		text = EVTDESCHFD20003
	}
	desc = {
		trigger = {
			event_target:sponsoring_king = { religion = baltic_pagan_reformed }
		}
		text = EVTDESCHFE20003
	}
	desc = {
		trigger = {
			event_target:sponsoring_king = { religion = finnish_pagan_reformed }
		}
		text = EVTDESCHFF20003
	}
	desc = {
		trigger = {
			event_target:sponsoring_king = { religion = slavic_pagan_reformed }
		}
		text = EVTDESCHFG20003
	}
	desc = {
		trigger = {
			event_target:sponsoring_king = { religion = aztec_reformed }
		}
		text = EVTDESCHFH20003
	}
	desc = {
		trigger = {
			event_target:sponsoring_king = { religion = west_african_pagan_reformed }
		}
		text = EVTDESCHFI20003
	}
	desc = {
		trigger = {
			event_target:sponsoring_king = { religion = zun_pagan_reformed }
		}
		text = EVTDESCHFL20003
	}
	desc = {
		trigger = {
			event_target:sponsoring_king = { religion = hellenic_pagan_reformed }
		}
		text = EVTDESCHFM20003
	}
	desc = {
		trigger = {
			event_target:sponsoring_king = { religion_group = zoroastrian_group }
		}
		text = EVTDESCHFN20003
	}
	desc = {
		trigger = {
			event_target:sponsoring_king = { religion_group = jewish_group }
		}
		text = EVTDESCHFO20003
	}
	desc = {
		trigger = {
			event_target:sponsoring_king = { OR = { religion_group = indian_group religion = bon_reformed } }
		}
		text = EVTDESCHFP20003
	}


	picture = GFX_evt_mass_baptism
	border = GFX_event_narrative_frame_religion
	sound = mass_conversion_baptism
	show_from_from = yes

	trigger = { 
		event_target:sponsoring_king = { #FROMFROM
			#is_alive = yes
			has_character_flag = flag_sponsoring_baptism 
		}
	}
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF20003
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				higher_real_tier_than = DUKE
				event_target:sponsoring_king = { religion_group = christian }
			}
			ROOT = { give_nickname = nick_the_confessor }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				higher_real_tier_than = DUKE
				event_target:sponsoring_king = { 
					OR = { 
						religion_group = muslim 
						religion_group = zoroastrian_group
						religion = zun_pagan_reformed
					} 
				}
			}
			ROOT = { give_nickname = nick_the_submissive }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				higher_real_tier_than = DUKE
				event_target:sponsoring_king = { religion_group = jewish_group }
			}
			ROOT = { give_nickname = nick_the_deliverer }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				higher_real_tier_than = DUKE
				event_target:sponsoring_king = { 
					religion_group = indian_group 
					NOT = { religion = buddhist }
				}
			}
			ROOT = { give_nickname = nick_the_purified }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				higher_real_tier_than = DUKE
				event_target:sponsoring_king = { OR = { religion = buddhist religion = bon_reformed } }
			}
			ROOT = { give_nickname = nick_the_illuminated }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				higher_real_tier_than = DUKE
				event_target:sponsoring_king = { 
					religion_group = pagan_group 
					NOT = { religion = west_african_pagan_reformed }
					NOT = { religion = tengri_pagan_reformed }
					NOT = { religion = zun_pagan_reformed }
					NOT = { religion = aztec_reformed }
					NOT = { religion = hellenic_pagan_reformed }
				}
			}
			ROOT = { give_nickname = nick_the_exalted }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				higher_real_tier_than = DUKE
				event_target:sponsoring_king = { religion = west_african_pagan_reformed }
			}
			ROOT = { give_nickname = nick_the_awoken }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				higher_real_tier_than = DUKE
				event_target:sponsoring_king = { religion = aztec_reformed }
			}
			ROOT = { give_nickname = nick_the_bleeding_eyes }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				higher_real_tier_than = DUKE
				event_target:sponsoring_king = { religion = tengri_pagan_reformed }
			}
			ROOT = { give_nickname = nick_the_sky_rider }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				higher_real_tier_than = DUKE
				event_target:sponsoring_king = { religion = hellenic_pagan_reformed }
			}
			ROOT = { give_nickname = nick_the_civilized }
		}
		if = { #Increase tribal organization.
			limit = { 
				primary_title = { 
					has_law = tribal_organization_3
				}
			}
			ROOT = {
				show_scope_change = no 
				any_demesne_title = { 
					show_scope_change = no
					limit = { higher_tier_than = COUNT }
					add_law = {
						law = tribal_organization_4
						cooldown = no
						opinion_effect = no
					}
				}
			} 
		}
		if = { #Increase tribal organization.
			limit = { 
				primary_title = { 
					has_law = tribal_organization_2
				}
			}
			ROOT = {
				show_scope_change = no 
				any_demesne_title = { 
					show_scope_change = no
					limit = { higher_tier_than = COUNT }
					add_law = {
						law = tribal_organization_3
						cooldown = no
						opinion_effect = no
					}
				}
			} 
		}
		if = { #Increase tribal organization.
			limit = { 
				primary_title = { 
					has_law = tribal_organization_1
				}
			}
			ROOT = {
				show_scope_change = no 
				any_demesne_title = { 
					show_scope_change = no
					limit = { higher_tier_than = COUNT }
					add_law = {
						law = tribal_organization_2
						cooldown = no
						opinion_effect = no
					}
				}
			} 
		}
		if = { #Increase tribal organization.
			limit = { 
				primary_title = { 
					has_law = tribal_organization_0
				}
			}
			ROOT = {
				show_scope_change = no 
				any_demesne_title = { 
					show_scope_change = no
					limit = { higher_tier_than = COUNT }
					add_law = {
						law = tribal_organization_1
						cooldown = no
						opinion_effect = no
					}
				}
			} 
		}
		hidden_tooltip = { 
			if = { 
				limit = { higher_real_tier_than = COUNT }
				any_playable_ruler = { 
					limit = { 
						ai = no
						NOT = { character = ROOT }
						NOT = { vassal_of = ROOT }
						OR = {
							is_within_diplo_range = ROOT
							religion =  event_target:converting_king
						}
						OR = { 
							religion_group =  event_target:sponsoring_king
							religion_group =  event_target:converting_king
						}
					 }
					narrative_event = { id = HF.20090 } #Notify all other rulers if Converter is King or above
				} 
			}
		}
		hidden_tooltip = { 
			chronicle = {
				entry = CHRONICLE_MASS_CONVERSION_CONVERTER
				portrait = [sponsoring_king.GetID]
			}
			any_realm_character = { clr_character_flag = flag_vassal_asked_baptism }
			if = { #If leader of society of same religion, convert all secret provinces, disband society.
				limit = { 
					society_member_of = secret_religious_cult 
					society_rank == 4
					true_religion = event_target:sponsoring_king
					}
					root_secret_religion_provinces_convert_effect = yes
					any_realm_character = {
						limit = {
							NOT = { character = ROOT }
							same_society_as = ROOT
						}
						leave_society = yes
					}
					any_realm_character = {
						limit = { has_character_flag = currently_part_of_secret_religion_uncovering	}
						clr_character_flag = currently_part_of_secret_religion_uncovering
					}
				any_society_member = {
					limit = {
						NOT = { character = ROOT }
						same_society_as = ROOT
					}
					leave_society = yes
				}
				leave_society = yes
			}
			if = { #If leader of society of other religion, disband society.
				limit = { 
					society_member_of = secret_religious_cult 
					society_rank == 4
					NOT = { true_religion = event_target:sponsoring_king }
					}
					any_realm_character = {
						limit = {
							NOT = { character = ROOT }
							same_society_as = ROOT
						}
						leave_society = yes
					}
					any_realm_character = {
						limit = { has_character_flag = currently_part_of_secret_religion_uncovering	}
						clr_character_flag = currently_part_of_secret_religion_uncovering
					}
				any_society_member = {
					limit = {
						NOT = { character = ROOT }
						same_society_as = ROOT
					}
					leave_society = yes
				}
				leave_society = yes
			}
			if = { #If member of society of same religion, convert all secret provinces inside realm, then leave society.
				limit = { 
					society_member_of = secret_religious_cult 
					NOT = { society_rank == 4 }
					true_religion = event_target:sponsoring_king
					}
					root_secret_religion_provinces_convert_effect = yes
				leave_society = yes
			}
			if = { #If member of society of other religion, leave society.
				limit = { 
					society_member_of = secret_religious_cult 
					NOT = { society_rank == 4 }
					NOT = { true_religion = event_target:sponsoring_king }
				}
				leave_society = yes
			}
		}
		if = { 
			limit = { 
				OR = { 
					tier = COUNT
					tier = DUKE 
				}
			}
			religion_authority = {
				modifier = ruler_converted_from
				years = 20
			}
		}
		if = { 
			limit = { tier = KING }
			religion_authority = {
				modifier = baptized_king_from
				years = 20
			}
		}
		if = { 
			limit = { tier = EMPEROR }
			religion_authority = {
				modifier = baptized_emperor_from
				years = 30
			}
		}
		religion = event_target:sponsoring_king
		custom_tooltip = { text = ALL_PROVINCES_CONVERT_TOOLTIP } 
		hidden_tooltip = { any_demesne_province = { religion = event_target:sponsoring_king } } 
		
		if = { 
			limit = { 
				trait = zealous
			}
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #Notification
			piety = -20
		}
		random = { 
			chance = 40 
			add_trait = sympathy_pagans
		}
		if = { #Give Baptised Trait if Christian and a bishop is available. 
			limit = { 
				event_target:sponsoring_king = { 
					religion_group = christian 
					any_realm_character = { 
						is_theocracy = yes
						liege = { character = event_target:sponsoring_king }
						religion = event_target:sponsoring_king
						NOT = { block_general_event_trigger = yes }
						OR = { 
							higher_tier_than = BARON  
							has_minor_title = title_cardinal
							has_minor_title = title_fraticelli_cardinal
							any_claim = { title = k_papal_state } #Antipope
							any_claim = { title = k_orthodox } #Antipope
						}
					}
				}
			}
			hidden_tooltip = { 
				event_target:sponsoring_king = { 
					random_realm_character = { 
						limit = { 
							liege = { character = event_target:sponsoring_king }
							is_theocracy = yes
							religion = event_target:sponsoring_king
							NOT = { block_general_event_trigger = yes }
							OR = { 
								higher_tier_than = BARON  
								has_minor_title = title_cardinal
								has_minor_title = title_fraticelli_cardinal
								any_claim = { title = k_papal_state } #Antipope
								any_claim = { title = k_orthodox } #Antipope
							}
						}
						save_event_target_as = scoped_baptizer
					}
				}
				save_persistent_event_target = { name = baptizing_bishop_per scope = event_target:scoped_baptizer } 
			}
			ROOT = { custom_tooltip = { text = tooltip_gain_baptized_by_bishop } }
			hidden_tooltip = { add_trait = baptized_by_bishop }
			if = { #AND Crowned by Bishop if Catholic/Fraticelli
				limit = {
					ROOT = { higher_real_tier_than = DUKE }
					event_target:sponsoring_king = {
						OR = {
							religion = catholic
							religion = fraticelli
						}
					}
				}
				hidden_tooltip = { save_persistent_event_target = { name = coronation_priest_per scope = event_target:scoped_baptizer } }
				ROOT = { custom_tooltip = { text = tooltip_gain_crowned_by_bishop } }
				hidden_tooltip = { add_trait = crowned_by_bishop }
			}
		}
		clr_character_flag = flag_converting_baptism
		set_character_flag = flag_converted_baptism
		hidden_tooltip = { # Notify Sponsor of the event
			event_target:sponsoring_king = {
				narrative_event = { id = HF.20004 }  
			}
			any_realm_character = { limit = { NOT = { character = ROOT } }
				narrative_event = { id = HF.20008 }  #Convert vassals and their courtiers
			}
		character_event = { id = HF.20036 days = 3 random = 3 } #A new priest arrives. (also starts the post-ceremony events) 
		}
		hidden_tooltip = { #Chance of true_religion vassals revolting.
			if = { 
				limit = { 
					event_target:converting_king = { 
						OR = {
							any_vassal = { 
								has_character_flag = ai_flag_refuse_conversion
								higher_real_tier_than = BARON
								count = 4
							}
							any_vassal = { 
								has_character_flag = ai_flag_refuse_conversion
								higher_real_tier_than = COUNT
								count = 2
							}
							any_vassal = { 
								has_character_flag = ai_flag_refuse_conversion
								higher_real_tier_than = DUKE
								count = 1
							}
						}
					}
				}
				if = { 
					limit =	{ 
						event_target:converting_king = { 
							any_vassal = { 
								NOT = { religion = event_target:converting_king }
								has_character_flag = ai_flag_refuse_conversion
							}
						}
					}
					event_target:converting_king = { 
						random_vassal = { 
							limit = { 
								NOT = { religion = event_target:converting_king }
								has_character_flag = ai_flag_refuse_conversion
							}
							preferred_limit = { 
								ai = no 
								trait = brave
								trait = zealous
								is_powerful_vassal = yes
							}
							preferred_limit = { 
								ai = no 
								is_powerful_vassal = yes
							}
							preferred_limit = { 
								is_powerful_vassal = yes
							}
							long_character_event = { id = HF.20029 days = 5 random = 5 }
						}
					}
				}
			}
			if = {
				limit = {
					ai = no
					culture_group = east_slavic
					higher_tier_than = DUKE
					capital_scope = {
						region = world_europe_east
					}
					event_target:sponsoring_king = {
						has_landed_title = e_byzantium
					}
				}
				set_character_flag = achievement_baptism_of_rus
			}
		}
	}
}

#The Baptism itself happens (Sponsor version)
narrative_event = {
	id = HF.20004
	title = EVTTITLE20004
	desc = {
		trigger = {
			religion_group = christian
		}
		text = EVTDESCHFA20004
	}
	desc = {
		trigger = {
			religion_group = muslim
		}
		text = EVTDESCHFB20004
	}
	desc = {
		trigger = {
			religion = norse_pagan_reformed
		}
		text = EVTDESCHFC20004
	}
	desc = {
		trigger = {
			religion = tengri_pagan_reformed
		}
		text = EVTDESCHFD20004
	}
	desc = {
		trigger = {
			religion = baltic_pagan_reformed
		}
		text = EVTDESCHFE20004
	}
	desc = {
		trigger = {
			religion = finnish_pagan_reformed
		}
		text = EVTDESCHFF20004
	}
	desc = {
		trigger = {
			religion = slavic_pagan_reformed
		}
		text = EVTDESCHFG20004
	}
	desc = {
		trigger = {
			religion = aztec_reformed
		}
		text = EVTDESCHFH20004
	}
	desc = {
		trigger = {
			religion = west_african_pagan_reformed
		}
		text = EVTDESCHFI20004
	}
	desc = {
		trigger = {
			religion = zun_pagan_reformed
		}
		text = EVTDESCHFL20004
	}
	desc = {
		trigger = {
			religion = hellenic_pagan_reformed
		}
		text = EVTDESCHFM20004
	}
	desc = {
		trigger = {
			religion_group = zoroastrian_group
		}
		text = EVTDESCHFN20004
	}
	desc = {
		trigger = {
			religion_group = jewish_group
		}
		text = EVTDESCHFO20004
	}
	desc = {
		trigger = {
			OR = { religion_group = indian_group religion = bon_reformed }
		}
		text = EVTDESCHFP20004
	}


	picture = GFX_evt_mass_baptism
	border = GFX_event_narrative_frame_religion
	sound = mass_conversion_baptism
	show_from_from = yes

	trigger = { 
		has_character_flag = flag_sponsoring_baptism
		event_target:converting_king = { is_alive = yes }
	}

	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF20004
		clr_character_flag = flag_sponsoring_baptism
		set_character_flag = flag_sponsored_baptism 
		hidden_tooltip = {
			chronicle = {
				entry = CHRONICLE_MASS_CONVERSION_SPONSOR
				portrait = [converting_king.GetID]
			}	
		}
		if = { 
			limit = { 
				trait = excommunicated
				religion_head = { 
					is_alive = yes
					NOT = { character = ROOT } #Just to be safe.
				}
			}
			hidden_tooltip = { religion_head = { character_event = { id = HF.20093 days = 15 random = 15 } } }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				religion_group = christian
			}
			ROOT = { give_nickname = nick_the_missionary }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				OR = { 
					religion_group = muslim 
					religion_group = zoroastrian_group
					religion = zun_pagan_reformed
				}
			}
			ROOT = { give_nickname = nick_the_proselytizer }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				religion_group = jewish_group
			}
			ROOT = { give_nickname = nick_the_adjudicator }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				religion_group = indian_group
			}
			ROOT = { give_nickname = nick_the_enlightened }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				religion_group = pagan_group
				NOT = { religion = west_african_pagan_reformed }
				NOT = { religion = tengri_pagan_reformed }
				NOT = { religion = zun_pagan_reformed }
				NOT = { religion = aztec_reformed }
				NOT = { religion = hellenic_pagan_reformed }
			}
			ROOT = { give_nickname = nick_the_legendary }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				religion = west_african_pagan_reformed
			}
			ROOT = { give_nickname = nick_the_waking_teacher }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				religion = aztec_reformed
			}
			ROOT = { give_nickname = nick_the_whirling_spell }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				religion = tengri_pagan_reformed
			}
			ROOT = { give_nickname = nick_the_horse_shepherd }
		}
		if = { 
			limit = { 
				NOT = { has_nickname = yes }
				religion = hellenic_pagan_reformed
			}
			ROOT = { give_nickname = nick_the_educator }
		}
		if = { 
			limit = { 
				event_target:converting_king = { lower_tier_than = COUNT }
			}
			piety = 100
		}
		if = { 
			limit = { 
				event_target:converting_king = { 
					OR = { 
						tier = COUNT
						tier = DUKE 
					}
				}
			}
			piety = 200
			religion_authority = {
				modifier = ruler_converted_to
				years = 10
			}
		}
		if = { 
			limit = { 
				event_target:converting_king = { tier = KING }
				}
			piety = 300
			religion_authority = {
				modifier = baptized_king_to
				years = 10
			}
		}
		if = { 
			limit = { 
				event_target:converting_king = { tier = EMPEROR }
				}
			piety = 400
			religion_authority = {
				modifier = baptized_emperor_to
				years = 20
			}
		}

	}
}
#Pope notified of your actions.
letter_event = {
	id = HF.20093
	desc = EVTDESCHFA20093
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	trigger = { 
		FROM = { 
			is_alive = yes
			trait = excommunicated
			religion = ROOT
		}
	}
	option = { #Lift excommunication
		name = EVTOPTAHF20093
		FROM = { character_event = { id = HF.20094 } }
	}
}

#Pope notified of your actions.
letter_event = {
	id = HF.20094
	desc = EVTDESCHFA20094
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes
	
	option = { 
		name = EVTOPTAHF20094
		remove_trait = excommunicated
		FROM = {
			opinion = {
				modifier = opinion_converted_heathens
				years = 25
				who = ROOT
			}
		}
	}
}	

#Vassals receive news of the mass baptism and decide what they want to do.
letter_event = {
	id = HF.20005
	desc = {
		trigger = {
			NOT = { religion = event_target:sponsoring_king }
		}
		text = EVTDESCHFA20005
	}
	desc = {
		trigger = {
			religion = event_target:sponsoring_king
		}
		text = EVTDESCHFB20005
	}
	border = GFX_event_letter_frame_religion

	trigger = { 
		event_target:sponsoring_king = { 
			is_alive = yes
			has_character_flag = flag_sponsoring_baptism
		}
	}
	immediate = { 
		if = { 
			limit = { ai = no }
			set_character_flag = flag_vassal_asked_baptism 
		}
	}
	
	is_triggered_only = yes
	
	option = { #Character is already of the converting religion 
		name = EVTOPTAHF20005 
		trigger = { religion = event_target:sponsoring_king }
		if = { 
			limit = { higher_real_tier_than = BARON }
			custom_tooltip = { text = EVTTOOLTIPHFA20006 }
			hidden_tooltip = { FROM = { letter_event = { id = HF.20006 } } } #Inform liege of acceptance. No Baron spamming, since they will almost always all accept.
		}
		hidden_tooltip = { 
		#	any_realm_character = { 
		#		limit = { 
		#			OR = { liege = { character = ROOT } 
		#				liege = { vassal_of = ROOT }
		#				liege = { liege = { vassal_of = ROOT } }
		#			}
		#		} 
		#		letter_event = { id = HF.20009 days = 1 }		#Inform vassals of vassal that vassal will convert.
		#	}
			any_vassal = { 
				letter_event = { id = HF.20009 }		#Inform vassals of vassal that vassal will convert.
			}
		}
		
		opinion = {
			who = FROM
			modifier = opinion_enlightened
			months = 60
		}

		ai_chance = {
			factor = 100
		} 
	}
	option = { #Character is already secretly of the converting religion
		name = EVTOPTBHF20005 
		trigger = { NOT = { religion = event_target:sponsoring_king }
			true_religion = event_target:sponsoring_king
		}
		clr_character_flag = ai_flag_refuse_conversion
		if = { 
			limit = { higher_real_tier_than = BARON }
			custom_tooltip = { text = EVTTOOLTIPHFC20006 }
			hidden_tooltip = { FROM = { letter_event = { id = HF.20006 } } } #Inform liege of acceptance. No Baron spamming, since they will almost always all accept.
		}
		hidden_tooltip = { 
			any_vassal = { 
				letter_event = { id = HF.20009 }		#Inform vassals of vassal that vassal will convert.
			}
		}
		
		opinion = {
			who = FROM
			modifier = opinion_enlightened
			months = 60
		}

		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT =  { religion = event_target:sponsoring_king }
				any_demesne_title =  { 
					OR = { 
						holy_order = yes
						mercenary = yes
						controls_religion = yes 
					}
				}
			}
		} 
	}
	option = { #Fake Baptism - Player only choice to convert officially but secretly remain pagan.
		name = EVTOPTCHF20005 
		trigger = { 
			ai = no
			NOT = { religion = event_target:sponsoring_king }
			NOT = { true_religion = event_target:sponsoring_king }
			NOT = { trait = honest }
		}
		set_character_flag = flag_deceitful_baptism
		random = { chance = 50
			add_trait = deceitful
			hidden_tooltip = { character_event = { id = 38255 } }
		}
		if = { 
			limit = { higher_real_tier_than = BARON }
			custom_tooltip = { text = EVTTOOLTIPHFC20006 }
			hidden_tooltip = { FROM = { letter_event = { id = HF.20006 } } } #Inform liege of acceptance. No Baron spamming, since they will almost always all accept.
		}
		hidden_tooltip = { 
			any_vassal = { 
				letter_event = { id = HF.20028 }		#Inform vassals of vassal that vassal will pretend to convert.
			}
			any_dynasty_member = { 
				limit = { 
					religion = ROOT 
					is_landed = no
					liege = { character = ROOT }
				}
				letter_event = { id = HF.20028 }		#Make sure relatives of fake converter also will just pretend to convert.
			}
		} 
		ai_chance = { factor = 0 } 
	}
	option = { #Pagan vassal decides to convert with liege
		name = EVTOPTDHF20005 
		trigger = { 
			NOT = { religion = event_target:sponsoring_king }
			NOT = { true_religion = event_target:sponsoring_king }
			NOT = { has_character_flag = ai_flag_refuse_conversion }
		}
		if = { 
			limit = { higher_real_tier_than = BARON }
			custom_tooltip = { text = EVTTOOLTIPHFD20006 }
			hidden_tooltip = { FROM = { letter_event = { id = HF.20006 } } } #Inform liege of acceptance. No Baron spamming, since they will almost always all accept.
		}
		hidden_tooltip = { 
			any_vassal = { 
				letter_event = { id = HF.20009 }		#Inform vassals of vassal that vassal will convert.
			}
		}

		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				NOT =  { religion = event_target:sponsoring_king }
				any_demesne_title =  { 
					OR = { 
						holy_order = yes
						mercenary = yes
						controls_religion = yes 
					}
				}
			}
			modifier = {
				factor = 0
				NOT = { opinion = { who = from value = 20 } }
				trait = zealous
			}
			modifier = {
				factor = 0
				NOT = { opinion = { who = from value = -40 } }
			}
			modifier = {
				factor = 0.5
				FROM = {
					any_vassal = { 
						leads_faction = faction_lower_tribal_organization
						faction_power = {
							faction = faction_lower_tribal_organization
							power = 1.0
						}
					}
				}
			} 
			modifier = {
				factor = 0.25
				FROM = {
					any_vassal = { 
						leads_faction = faction_lower_tribal_organization
						faction_power = {
							faction = faction_lower_tribal_organization
							power = 1.5
						}
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					any_vassal = { 
						leads_faction = faction_lower_tribal_organization
						faction_power = {
							faction = faction_lower_tribal_organization
							power = 2.0
						}
					}
				}
			}
		}
	}
	option = { #Pagan vassal decides he will not convert
		name = EVTOPTEHF20005 
		trigger = { 
			NOT = { religion = event_target:sponsoring_king }
		}
		set_character_flag = ai_flag_refuse_conversion
		hidden_tooltip = { 
		#	any_realm_character = { 
		#		limit = { 
		#			OR = { liege = { character = ROOT } 
		#				liege = { vassal_of = ROOT }
		#				liege = { liege = { vassal_of = ROOT } }
		#			}
		#		} 
		#		letter_event = { id = HF.20025 days = 1 }		#Inform vassals of vassal that vassal won't convert.
		#	}
			any_vassal = { 
				letter_event = { id = HF.20025 }		#Inform vassals of vassal that vassal won't convert.
			}
		}
		custom_tooltip = { text = EVTTOOLTIPHFE20007 }
		hidden_tooltip = { FROM = { letter_event = { id = HF.20007 } } } #Inform liege of refusal
		FROM = {
			opinion = {
				who = ROOT
				modifier = opinion_denied_request
				months = 60
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				true_religion = event_target:sponsoring_king
			}
			modifier = {
				factor = 10
				NOT = { FROM = { primary_title = { has_law = tribal_organization_3 } } }
				NOT = { FROM = { primary_title = { has_law = tribal_organization_4 } } }
			}
			modifier = {
				factor = 5
				FROM = { primary_title = { has_law = tribal_organization_3 } }
				NOT = { FROM = { primary_title = { has_law = tribal_organization_4 } } }
			}
			modifier = {
				factor = 0
				lower_tier_than = COUNT
				NOT = { trait = zealous }
			}
			modifier = {
				factor = 0.8
				NOT = { age = 30 }
			}
			modifier = {
				factor = 1.25
				age = 40
			}
			modifier = {
				factor = 1.25
				tier = DUKE
			}
			modifier = {
				factor = 1.45
				tier = KING
			}
			modifier = {
				factor = 0.75
				owes_favor_to = event_target:converting_king
			}
			modifier = {
				factor = 1.5
				NOT =  { religion = event_target:sponsoring_king }
				is_reformed_religion = yes
			}
			modifier = {
				factor = 1.5
				NOT =  { religion = event_target:sponsoring_king }
				NOT =  { religion_group = pagan_group }
			}
			modifier = {
				factor = 0.3
				opinion = { who = from value = 100 }
			}
			modifier = {
				factor = 0.4
				opinion = { who = from value = 80 }
			}
			modifier = {
				factor = 0.5
				opinion = { who = from value = 60 }
			}
			modifier = {
				factor = 0.65
				opinion = { who = from value = 40 }
			}
			modifier = {
				factor = 0.75
				opinion = { who = from value = 20 }
			}
			modifier = {
				factor = 0.85
				opinion = { who = from value = 0 }
			}
			modifier = {
				factor = 1.15
				NOT = { opinion = { who = from value = 0 } }
			}
			modifier = {
				factor = 1.25
				NOT = { opinion = { who = from value = -20 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = from value = -40 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = from value = -60 } }
			}
			modifier = {
				factor = 2
				NOT = { opinion = { who = from value = -80 } }
			}
			modifier = {
				factor = 3
				NOT = { opinion = { who = from value = -100 } }
			}
			modifier = {
				factor = 2
				is_foe = FROM
			}
			modifier = {
				factor = 0.5
				is_friend = FROM
			}
			modifier = {
				factor = 0.5
				any_spouse = { character = FROM }
			}
			modifier = {
				factor = 0.75
				is_close_relative = FROM
			}
			modifier = {
				factor = 0.85
				dynasty = FROM
			}
			modifier = {
				factor = 0.5
				is_child_of = FROM
			}
			modifier = {
				factor = 0
				NOT  = { trait = zealous }
				is_child_of = FROM
			}
			modifier = {
				factor = 0.9
				FROM = { prestige = 300 }
			}
			modifier = {
				factor = 0.85
				FROM = { prestige = 500 }
			}
			modifier = {
				factor = 0.75
				FROM = { prestige = 700 }
			}
			modifier = {
				factor = 0.5
				FROM = { prestige = 1000 }
			}
			modifier = {
				factor = 1.25
				higher_real_tier_than = COUNT
			}
			modifier = {
				factor = 1.25
				higher_real_tier_than = DUKE
			}
			modifier = {
				factor = 0.75
				trait = cynical
			}
			modifier = {
				factor = 1.5
				trait = zealous
			}
			modifier = {
				factor = 0.75
				event_target:sponsoring_king  = { religion = catholic }
			}
			modifier = {
				factor = 0.75
				event_target:sponsoring_king  = { religion = orthodox }
			}
			modifier = {
				factor = 0.75
				event_target:sponsoring_king  = { religion = sunni }
			}
			modifier = {
				factor = 0.75
				event_target:sponsoring_king  = { religion = shiite }
			}
			modifier = {
				factor = 1.15
				NOT  = { religion = FROM }
				NOT  = { is_reformed_religion = yes }
			}
			modifier = {
				factor = 1.35
				NOT  = { religion = FROM }
				OR  = { 
					is_reformed_religion = yes
					NOT = { religion_group = pagan_group }
				}
			}
			modifier = {
				factor = 0.5
				NOT = { religion_authority = 0.9 }
			}
			modifier = {
				factor = 0.75
				NOT = { religion_authority = 0.7 }
			}
			modifier = {
				factor = 0.75
				NOT = { religion_authority = 0.5 }
			}
			modifier = {
				factor = 1.25
				religion_authority = 0.5
			}
			modifier = {
				factor = 1.25
				religion_authority = 0.7
			}
			modifier = {
				factor = 1.5
				religion_authority = 1.0
			}
			modifier = {
				factor = 1.5
				OR = { 
					trait = wroth
					trait = impaler
					trait = hunter 
					trait = viking
					trait = pirate
					trait = ravager
					trait = seaking
					trait = sea_queen
					trait = shieldmaiden
				}
				event_target:sponsoring_king = { pacifist = yes }
			}
			modifier = {
				factor = 1.5
				OR = { 
					trait = lustful
					trait = gluttonous
					trait = drunkard
					trait = hedonist
					trait = seducer
					trait = seductress
				}
				event_target:sponsoring_king = { 
					OR = { 
						religion_group = christian
						religion_group = muslim
						religion = buddhist
						religion = jain
					}
				}
			}
			modifier = {
				factor = 1.5
				OR = { 
					trait = chaste
					trait = humble
					trait = shy
					trait = kind
				}
				event_target:sponsoring_king = { religion_group = pagan_group }
			}
			modifier = {
				factor = 0.4
				OR = {
					AND = {
						trait = sympathy_christendom
						event_target:sponsoring_king = { religion_group = christian }
					}
					AND = {
						trait = sympathy_islam
						event_target:sponsoring_king = { religion_group = muslim }
					}
					AND = {
						trait = sympathy_pagans
						event_target:sponsoring_king = { religion_group = pagan_group }
					}
					AND = {
						trait = sympathy_zoroastrianism
						event_target:sponsoring_king = { religion_group = zoroastrian_group }
					}
					AND = {
						trait = sympathy_judaism
						event_target:sponsoring_king = { religion_group = jewish_group }
					}
					AND = {
						trait = sympathy_indian
						event_target:sponsoring_king = { religion_group = indian_group }
					}
				}
			}
		} 
	}
}

#Notification: Vassal will baptize (or is already of the converting faith, or was secretly already of converting faith)
letter_event = {
	id = HF.20006
	desc = { #Already a convert
		trigger = { FROM = { religion = event_target:sponsoring_king } }
		text = EVTDESCHFA20006
	}
	desc = { #Already secretly a convert
		trigger = { 
			NOT = { FROM = { religion = event_target:sponsoring_king } }
				FROM = { true_religion = event_target:sponsoring_king }
		}
		text = EVTDESCHFB20006
	}
	desc = { #Will be a convert
		trigger = { 
			NOT = { FROM = { religion = event_target:sponsoring_king } }
			NOT = { FROM = { true_religion = event_target:sponsoring_king }	}
		}
		text = EVTDESCHFC20006
	}
	border = GFX_event_letter_frame_religion

	notification = yes
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF20006
	}
}
#Notification: Vassal will not baptize
letter_event = {
	id = HF.20007
	desc = EVTDESCHF20007
	border = GFX_event_letter_frame_religion

	notification = yes
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF20007
	}
}

#The Baptism itself happens (Vassals version, convert vassals, their courtiers and provinces when appropriate)
narrative_event = {
	id = HF.20008
	title = EVTTITLE20008
	desc = {
		trigger = {
			NOT  = { has_character_flag = ai_flag_refuse_conversion }
			event_target:sponsoring_king = { religion_group = christian }
		}
		text = EVTDESCHFA20008
	}
	desc = {
		trigger = {
			NOT  = { has_character_flag = ai_flag_refuse_conversion }
			event_target:sponsoring_king = { religion_group = muslim }
		}
		text = EVTDESCHFB20008
	}
	desc = {
		trigger = {
			NOT  = { has_character_flag = ai_flag_refuse_conversion }
			event_target:sponsoring_king = { religion = norse_pagan_reformed }
		}
		text = EVTDESCHFC20008
	}
	desc = {
		trigger = {
			NOT  = { has_character_flag = ai_flag_refuse_conversion }
			event_target:sponsoring_king = { religion = tengri_pagan_reformed }
		}
		text = EVTDESCHFD20008
	}
	desc = {
		trigger = {
			NOT  = { has_character_flag = ai_flag_refuse_conversion }
			event_target:sponsoring_king = { religion = baltic_pagan_reformed }
		}
		text = EVTDESCHFE20008
	}
	desc = {
		trigger = {
			NOT  = { has_character_flag = ai_flag_refuse_conversion }
			event_target:sponsoring_king = { religion = finnish_pagan_reformed }
		}
		text = EVTDESCHFF20008
	}
	desc = {
		trigger = {
			NOT  = { has_character_flag = ai_flag_refuse_conversion }
			event_target:sponsoring_king = { religion = slavic_pagan_reformed }
		}
		text = EVTDESCHFG20008
	}
	desc = {
		trigger = {
			NOT  = { has_character_flag = ai_flag_refuse_conversion }
			event_target:sponsoring_king = { religion = aztec_reformed }
		}
		text = EVTDESCHFH20008
	}
	desc = {
		trigger = {
			NOT  = { has_character_flag = ai_flag_refuse_conversion }
			event_target:sponsoring_king = { religion = west_african_pagan_reformed }
		}
		text = EVTDESCHFI20008
	}
	desc = {
		trigger = {
			NOT  = { has_character_flag = ai_flag_refuse_conversion }
			event_target:sponsoring_king = { religion = zun_pagan_reformed }
		}
		text = EVTDESCHFL20008
	}
	desc = {
		trigger = {
			NOT  = { has_character_flag = ai_flag_refuse_conversion }
			event_target:sponsoring_king = { religion = hellenic_pagan_reformed }
		}
		text = EVTDESCHFM20008
	}
	desc = {
		trigger = {
			NOT  = { has_character_flag = ai_flag_refuse_conversion }
			event_target:sponsoring_king = { religion_group = zoroastrian_group }
		}
		text = EVTDESCHFN20008
	}
	desc = {
		trigger = {
			NOT  = { has_character_flag = ai_flag_refuse_conversion }
			event_target:sponsoring_king = { religion_group = jewish_group }
		}
		text = EVTDESCHFO20008
	}
	desc = {
		trigger = {
			NOT  = { has_character_flag = ai_flag_refuse_conversion }
			event_target:sponsoring_king = { OR = { religion_group = indian_group religion = bon_reformed } }
		}
		text = EVTDESCHFP20008
	}
	desc = {
		trigger = {
			has_character_flag = ai_flag_refuse_conversion
			event_target:sponsoring_king = { religion_group = christian }
		}
		text = EVTDESCHFQ20008
	}
	desc = {
		trigger = {
			has_character_flag = ai_flag_refuse_conversion
			event_target:sponsoring_king = { religion_group = muslim }
		}
		text = EVTDESCHFQQ20008
	}
	desc = {
		trigger = {
			has_character_flag = ai_flag_refuse_conversion
			event_target:sponsoring_king = { religion = norse_pagan_reformed }
		}
		text = EVTDESCHFR20008
	}
	desc = {
		trigger = {
			has_character_flag = ai_flag_refuse_conversion
			event_target:sponsoring_king = { religion = tengri_pagan_reformed }
		}
		text = EVTDESCHFRR20008
	}
	desc = {
		trigger = {
			has_character_flag = ai_flag_refuse_conversion
			event_target:sponsoring_king = { religion = baltic_pagan_reformed }
		}
		text = EVTDESCHFS20008
	}
	desc = {
		trigger = {
			has_character_flag = ai_flag_refuse_conversion
			event_target:sponsoring_king = { religion = finnish_pagan_reformed }
		}
		text = EVTDESCHFSS20008
	}
	desc = {
		trigger = {
			has_character_flag = ai_flag_refuse_conversion
			event_target:sponsoring_king = { religion = slavic_pagan_reformed }
		}
		text = EVTDESCHFT20008
	}
	desc = {
		trigger = {
			has_character_flag = ai_flag_refuse_conversion
			event_target:sponsoring_king = { religion = aztec_reformed }
		}
		text = EVTDESCHFTT20008
	}
	desc = {
		trigger = {
			has_character_flag = ai_flag_refuse_conversion
			event_target:sponsoring_king = { religion = west_african_pagan_reformed }
		}
		text = EVTDESCHFU20008
	}
	desc = {
		trigger = {
			has_character_flag = ai_flag_refuse_conversion
			event_target:sponsoring_king = { religion = zun_pagan_reformed }
		}
		text = EVTDESCHFUU20008
	}
	desc = {
		trigger = {
			has_character_flag = ai_flag_refuse_conversion
			event_target:sponsoring_king = { religion = hellenic_pagan_reformed }
		}
		text = EVTDESCHFV20008
	}
	desc = {
		trigger = {
			has_character_flag = ai_flag_refuse_conversion
			event_target:sponsoring_king = { religion_group = zoroastrian_group }
		}
		text = EVTDESCHFVV20008
	}
	desc = {
		trigger = {
			has_character_flag = ai_flag_refuse_conversion
			event_target:sponsoring_king = { religion_group = jewish_group }
		}
		text = EVTDESCHFW20008
	}
	desc = {
		trigger = {
			has_character_flag = ai_flag_refuse_conversion
			event_target:sponsoring_king = { OR = { religion_group = indian_group religion = bon_reformed } }
		}
		text = EVTDESCHFWW20008
	}


	picture = GFX_evt_mass_baptism
	border = GFX_event_narrative_frame_religion
	sound = mass_conversion_baptism
	show_from_from_from = yes

	trigger = { top_liege = { character = FROM } }

	is_triggered_only = yes
	
	option = {
		name = EVTOPTCHF20008 #Fake conversion (same option, different localization)
		hidden_tooltip = {
			chronicle = {
				entry = CHRONICLE_MASS_CONVERSION_VASSAL
				portrait = [converting_king.GetID]
			}	
		}
		trigger = { 
			has_character_flag = flag_deceitful_baptism
			NOT = { has_character_flag = ai_flag_refuse_conversion }
			NOT = { has_character_flag = liege_is_truebeliever } 
			NOT = { religion_group = event_target:sponsoring_king } 
			OR  = { 
				is_ruler = yes 
				liege = { 
					NOR = { has_character_flag = ai_flag_refuse_conversion 
						has_character_flag = liege_is_truebeliever } 
				}
			} 
		}
		hidden_tooltip = { 
			if = { #If leader of society of same religion, convert all secret provinces, disband society.
				limit = { 
					society_member_of = secret_religious_cult 
					society_rank == 4
					true_religion = event_target:sponsoring_king
					}
					root_secret_religion_provinces_convert_effect = yes
					any_realm_character = {
						limit = {
							NOT = { character = ROOT }
							same_society_as = ROOT
						}
						leave_society = yes
					}
					any_realm_character = {
						limit = { has_character_flag = currently_part_of_secret_religion_uncovering	}
						clr_character_flag = currently_part_of_secret_religion_uncovering
					}
				any_society_member = {
					limit = {
						NOT = { character = ROOT }
						same_society_as = ROOT
					}
					leave_society = yes
				}
				leave_society = yes
			}
			if = { #If leader of society of other religion, disband society.
				limit = { 
					society_member_of = secret_religious_cult 
					society_rank == 4
					NOT = { true_religion = event_target:sponsoring_king }
					}
					any_realm_character = {
						limit = {
							NOT = { character = ROOT }
							same_society_as = ROOT
						}
						leave_society = yes
					}
					any_realm_character = {
						limit = { has_character_flag = currently_part_of_secret_religion_uncovering	}
						clr_character_flag = currently_part_of_secret_religion_uncovering
					}
				any_society_member = {
					limit = {
						NOT = { character = ROOT }
						same_society_as = ROOT
					}
					leave_society = yes
				}
				leave_society = yes
			}
			if = { #If member of society of same religion, convert all secret provinces inside realm, then leave society.
				limit = { 
					society_member_of = secret_religious_cult 
					NOT = { society_rank == 4 }
					true_religion = event_target:sponsoring_king
					}
					root_secret_religion_provinces_convert_effect = yes
				leave_society = yes
			}
		}
		if = { 
			limit = { 
				NOT = { trait = zealous }
				NOT = { trait = cynical }
				religion_group = christian
				NOT = { religion_group = event_target:sponsoring_king }
			}
			random = { chance = 60
				add_trait = sympathy_christendom
			}
		}
		if = { 
			limit = { 
				NOT = { trait = zealous }
				NOT = { trait = cynical }
				religion_group = muslim
				NOT = { religion_group = event_target:sponsoring_king }
			}
			random = { chance = 60
				add_trait = sympathy_islam
			}
		}
		if = { 
			limit = { 
				NOT = { trait = zealous }
				NOT = { trait = cynical }
				religion_group = pagan_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			random = { chance = 60
				add_trait = sympathy_pagans
			}
		}
		if = { 
			limit = { 
				NOT = { trait = zealous }
				NOT = { trait = cynical }
				religion_group = zoroastrian_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			random = { chance = 60
				add_trait = sympathy_zoroastrianism
			}
		}
		if = { 
			limit = { 
				NOT = { trait = zealous }
				NOT = { trait = cynical }
				religion_group = jewish_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			random = { chance = 60
				add_trait = sympathy_judaism
			}
		}
		if = { 
			limit = { 
				NOT = { trait = zealous }
				NOT = { trait = cynical }
				religion_group = indian_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			random = { chance = 60
				add_trait = sympathy_indian
			}
		}
		if = { 
			limit = { 
				trait = zealous
				religion_group = christian
				NOT = { religion_group = event_target:sponsoring_king }
			}
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #Notification
			piety = -20
			add_trait = sympathy_christendom
		}
		if = { 
			limit = { 
				trait = zealous
				religion_group = muslim
				NOT = { religion_group = event_target:sponsoring_king }
			}
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #Notification
			piety = -20
			add_trait = sympathy_islam
		}
		if = { 
			limit = { 
				trait = zealous
				religion_group = pagan_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #Notification
			piety = -20
			add_trait = sympathy_pagans
		}
		if = { 
			limit = { 
				trait = zealous
				religion_group = zoroastrian_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #Notification
			piety = -20
			add_trait = sympathy_zoroastrianism
		}
		if = { 
			limit = { 
				trait = zealous
				religion_group = jewish_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #Notification
			piety = -20
			add_trait = sympathy_judaism
		}
		if = { 
			limit = { 
				trait = zealous
				religion_group = indian_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #Notification
			piety = -20
			add_trait = sympathy_indian
		}
		if = { 
			limit = { 
				trait = zealous
				religion_group = event_target:sponsoring_king
				NOT = { religion = event_target:sponsoring_king }
				NOT = { has_character_flag = flag_deceitful_baptism }
			}
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #Notification
			piety = -20
		}
		if = { 
			limit = { NOT = { has_character_flag = flag_deceitful_baptism } }
			tooltip = {
				religion = event_target:sponsoring_king					#Show it only to vassals that are not secretly remaining pagans.
			}	
		}
		hidden_tooltip = { religion = event_target:sponsoring_king }

		if = { 
			limit = { 
				higher_real_tier_than = BARON
				NOT = { has_character_flag = flag_deceitful_baptism } 
			}
			custom_tooltip = { text = ALL_PROVINCES_CONVERT_TOOLTIP } 		#Show it only to vassals that are not secretly remaining pagans.
		}
		if = { 
			limit = { higher_real_tier_than = BARON }	
			hidden_tooltip = { any_demesne_province = { religion = event_target:sponsoring_king } } 
		}
		if = { limit = { has_character_flag = flag_deceitful_baptism }
			custom_tooltip = {
				text = vassal_tooltip_deceitful_baptism
			}	
		}
		hidden_tooltip = { 
			any_realm_character = { 
				limit = { has_character_flag = liege_is_truebeliever }
				character_event = { id = HF.20026 days = 2 }
			}
		}
	}
	option = {
		name = EVTOPTAHF20008
		hidden_tooltip = {
			chronicle = {
				entry = CHRONICLE_MASS_CONVERSION_VASSAL
				portrait = [converting_king.GetID]
			}	
		}
		trigger = { 
			NOT = { has_character_flag = flag_deceitful_baptism }
			NOT = { has_character_flag = ai_flag_refuse_conversion }
			NOT = { has_character_flag = liege_is_truebeliever } 
			NOT = { religion_group = event_target:sponsoring_king } 
			OR  = { 
				is_ruler = yes 
				liege = { 
					NOR = { has_character_flag = ai_flag_refuse_conversion 
						has_character_flag = liege_is_truebeliever } 
				}
			} 
		}
		if = { #Increase tribal organization.
			limit = { 
				primary_title = { 
					has_law = tribal_organization_3
				}
			}
			ROOT = {
				show_scope_change = no 
				any_demesne_title = { 
					show_scope_change = no
					limit = { higher_tier_than = COUNT }
					add_law = {
						law = tribal_organization_4
						cooldown = no
						opinion_effect = no
					}
				}
			} 
		}
		if = { #Increase tribal organization.
			limit = { 
				primary_title = { 
					has_law = tribal_organization_2
				}
			}
			ROOT = {
				show_scope_change = no 
				any_demesne_title = { 
					show_scope_change = no
					limit = { higher_tier_than = COUNT }
					add_law = {
						law = tribal_organization_3
						cooldown = no
						opinion_effect = no
					}
				}
			} 
		}
		if = { #Increase tribal organization.
			limit = { 
				primary_title = { 
					has_law = tribal_organization_1
				}
			}
			ROOT = {
				show_scope_change = no 
				any_demesne_title = { 
					show_scope_change = no
					limit = { higher_tier_than = COUNT }
					add_law = {
						law = tribal_organization_2
						cooldown = no
						opinion_effect = no
					}
				}
			} 
		}
		if = { #Increase tribal organization.
			limit = { 
				primary_title = { 
					has_law = tribal_organization_0
				}
			}
			ROOT = {
				show_scope_change = no 
				any_demesne_title = { 
					show_scope_change = no
					limit = { higher_tier_than = COUNT }
					add_law = {
						law = tribal_organization_1
						cooldown = no
						opinion_effect = no
					}
				}
			} 
		}
		hidden_tooltip = { 
			if = { #If leader of society of same religion, convert all secret provinces, disband society.
				limit = { 
					society_member_of = secret_religious_cult 
					society_rank == 4
					true_religion = event_target:sponsoring_king
					}
					root_secret_religion_provinces_convert_effect = yes
					any_realm_character = {
						limit = {
							NOT = { character = ROOT }
							same_society_as = ROOT
						}
						leave_society = yes
					}
					any_realm_character = {
						limit = { has_character_flag = currently_part_of_secret_religion_uncovering	}
						clr_character_flag = currently_part_of_secret_religion_uncovering
					}
				any_society_member = {
					limit = {
						NOT = { character = ROOT }
						same_society_as = ROOT
					}
					leave_society = yes
				}
				leave_society = yes
			}
			if = { #If leader of society of other religion, disband society.
				limit = { 
					society_member_of = secret_religious_cult 
					society_rank == 4
					NOT = { true_religion = event_target:sponsoring_king }
					}
					any_realm_character = {
						limit = {
							NOT = { character = ROOT }
							same_society_as = ROOT
						}
						leave_society = yes
					}
					any_realm_character = {
						limit = { has_character_flag = currently_part_of_secret_religion_uncovering	}
						clr_character_flag = currently_part_of_secret_religion_uncovering
					}
				any_society_member = {
					limit = {
						NOT = { character = ROOT }
						same_society_as = ROOT
					}
					leave_society = yes
				}
				leave_society = yes
			}
			if = { #If member of society of same religion, convert all secret provinces inside realm, then leave society.
				limit = { 
					society_member_of = secret_religious_cult 
					NOT = { society_rank == 4 }
					true_religion = event_target:sponsoring_king
					}
					root_secret_religion_provinces_convert_effect = yes
				leave_society = yes
			}
			if = { #If member of society of other religion, leave society.
				limit = { 
					society_member_of = secret_religious_cult 
					NOT = { society_rank == 4 }
					NOT = { true_religion = event_target:sponsoring_king }
				}
				leave_society = yes
			}
		}
		if = { 
			limit = { 
				NOT = { trait = zealous }
				NOT = { trait = cynical }
				religion_group = christian
				NOT = { religion_group = event_target:sponsoring_king }
			}
			random = { chance = 60
				add_trait = sympathy_christendom
			}
		}
		if = { 
			limit = { 
				NOT = { trait = zealous }
				NOT = { trait = cynical }
				religion_group = muslim
				NOT = { religion_group = event_target:sponsoring_king }
			}
			random = { chance = 60
				add_trait = sympathy_islam
			}
		}
		if = { 
			limit = { 
				NOT = { trait = zealous }
				NOT = { trait = cynical }
				religion_group = pagan_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			random = { chance = 60
				add_trait = sympathy_pagans
			}
		}
		if = { 
			limit = { 
				NOT = { trait = zealous }
				NOT = { trait = cynical }
				religion_group = zoroastrian_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			random = { chance = 60
				add_trait = sympathy_zoroastrianism
			}
		}
		if = { 
			limit = { 
				NOT = { trait = zealous }
				NOT = { trait = cynical }
				religion_group = jewish_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			random = { chance = 60
				add_trait = sympathy_judaism
			}
		}
		if = { 
			limit = { 
				NOT = { trait = zealous }
				NOT = { trait = cynical }
				religion_group = indian_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			random = { chance = 60
				add_trait = sympathy_indian
			}
		}
		if = { 
			limit = { 
				trait = zealous
				religion_group = christian
				NOT = { religion_group = event_target:sponsoring_king }
			}
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #Notification
			piety = -20
			add_trait = sympathy_christendom
		}
		if = { 
			limit = { 
				trait = zealous
				religion_group = muslim
				NOT = { religion_group = event_target:sponsoring_king }
			}
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #Notification
			piety = -20
			add_trait = sympathy_islam
		}
		if = { 
			limit = { 
				trait = zealous
				religion_group = pagan_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #Notification
			piety = -20
			add_trait = sympathy_pagans
		}
		if = { 
			limit = { 
				trait = zealous
				religion_group = zoroastrian_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #Notification
			piety = -20
			add_trait = sympathy_zoroastrianism
		}
		if = { 
			limit = { 
				trait = zealous
				religion_group = jewish_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #Notification
			piety = -20
			add_trait = sympathy_judaism
		}
		if = { 
			limit = { 
				trait = zealous
				religion_group = indian_group
				NOT = { religion_group = event_target:sponsoring_king }
			}
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #Notification
			piety = -20
			add_trait = sympathy_indian
		}
		if = { 
			limit = { 
				trait = zealous
				religion_group = event_target:sponsoring_king
				NOT = { religion = event_target:sponsoring_king }
				NOT = { has_character_flag = flag_deceitful_baptism }
			}
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #Notification
			piety = -20
		}
		if = { 
			limit = { NOT = { has_character_flag = flag_deceitful_baptism } }
			tooltip = {
				religion = event_target:sponsoring_king					#Show it only to vassals that are not secretly remaining pagans.
			}	
		}
		hidden_tooltip = { religion = event_target:sponsoring_king }
		if = { #Give Baptised Trait if Christian and a bishop is available. 
			limit = { 
				event_target:sponsoring_king = { 
					religion_group = christian 
					any_realm_character = { 
						is_theocracy = yes
						liege = { character = event_target:sponsoring_king }
						religion = event_target:sponsoring_king
						NOT = { block_general_event_trigger = yes }
						OR = { 
							higher_tier_than = BARON  
							has_minor_title = title_cardinal
							has_minor_title = title_fraticelli_cardinal
							any_claim = { title = k_papal_state } #Antipope
							any_claim = { title = k_orthodox } #Antipope
						}
					}
				}
			}
			hidden_tooltip = { 
				event_target:sponsoring_king = { 
					random_realm_character = { 
						limit = { 
							liege = { character = event_target:sponsoring_king }
							is_theocracy = yes
							religion = event_target:sponsoring_king
							NOT = { block_general_event_trigger = yes }
							OR = { 
								higher_tier_than = BARON  
								has_minor_title = title_cardinal
								has_minor_title = title_fraticelli_cardinal
								any_claim = { title = k_papal_state } #Antipope
								any_claim = { title = k_orthodox } #Antipope
							}
						}
						save_event_target_as = scoped_baptizer
					}
				}
				save_persistent_event_target = { name = baptizing_bishop_per scope = event_target:scoped_baptizer } 
			}
			ROOT = { custom_tooltip = { text = tooltip_gain_baptized_by_bishop } }
			hidden_tooltip = { add_trait = baptized_by_bishop }
		}

		if = { 
			limit = { 
				higher_real_tier_than = BARON
				NOT = { has_character_flag = flag_deceitful_baptism } 
			}
			custom_tooltip = { text = ALL_PROVINCES_CONVERT_TOOLTIP } 		#Show it only to vassals that are not secretly remaining pagans.
		}
		if = { 
			limit = { higher_real_tier_than = BARON }	
			hidden_tooltip = { any_demesne_province = { religion = event_target:sponsoring_king } } 
		}
		if = { limit = { has_character_flag = flag_deceitful_baptism }
			custom_tooltip = {
				text = vassal_tooltip_deceitful_baptism
			}	
		}
		hidden_tooltip = { 
			any_realm_character = { 
				limit = { has_character_flag = liege_is_truebeliever }
				character_event = { id = HF.20026 days = 2 }
			}
		}
	}
	option = { #True believers won't convert
		name = EVTOPTBHF20008
		hidden_tooltip = {
			chronicle = {
				entry = CHRONICLE_MASS_CONVERSION_VASSAL
				portrait = [converting_king.GetID]
			}	
		}
		trigger = {
			OR = { 
				has_character_flag = ai_flag_refuse_conversion
				has_character_flag = liege_is_truebeliever
				AND = { is_ruler = no
					liege = { 
						OR = { 
							has_character_flag = ai_flag_refuse_conversion 
							has_character_flag = liege_is_truebeliever
						} 
					}
				}
			}
		}
		piety = 30
		if = { 
			limit = { 
				NOT = { trait = zealous }
			}
			random = { 
			chance = 20
			add_trait = zealous
			hidden_tooltip = { character_event = { id = 38269 } } #Notification
			}
		}
		hidden_tooltip = { #Chance of becoming rival with ruler after not baptizing
			random_list = { 
				99 = {
					modifier = {
						factor = 1.75
						opinion = { who = from value = 100 }
					}
					modifier = {
						factor = 1.5
						opinion = { who = from value = 80 }
					}
					modifier = {
						factor = 1.25
						opinion = { who = from value = 60 }
					}
					modifier = {
						factor = 1.15
						opinion = { who = from value = 40 }
					}
					modifier = {
						factor = 1.15
						opinion = { who = from value = 20 }
					}
					modifier = {
						factor = 1.15
						opinion = { who = from value = 0 }
					}
					modifier = {
						factor = 0.9
						NOT = { opinion = { who = from value = 0 } }
					}
					modifier = {
						factor = 0.9
						NOT = { opinion = { who = from value = -20 } }
					}
					modifier = {
						factor = 0.9
						NOT = { opinion = { who = from value = -40 } }
					}
					modifier = {
						factor = 0.7
						NOT = { opinion = { who = from value = -60 } }
					}
					modifier = {
						factor = 0.5
						NOT = { opinion = { who = from value = -80 } }
					}
					modifier = { 
						factor = 1.75
						trait = cynical
					}
					modifier = { 
						factor = 0.75
						trait = zealous
					}
				}
				1 = { 
					modifier = { 
						factor = 0
						lower_tier_than = COUNT
					}
					modifier = { 
						factor = 0
					event_target:converting_king = { num_of_rivals = 3 } 
					}
					character_event = { id = HF.20010 days = 12 random = 20 } 
				}
			}
		}
		hidden_tooltip = { 
			any_realm_character = { 
				limit = { has_character_flag = liege_is_truebeliever }
				character_event = { id = HF.20026 days = 2 }
			}
		}
	}
}

#Courtiers\Vassals of Vassals: your direct liege will convert
letter_event = {
	id = HF.20009
	desc = EVTDESCHF20009
	border = GFX_event_letter_frame_religion

	
	is_triggered_only = yes

	immediate = { set_character_flag = flag_vassal_asked_baptism }
	
	option = { #Will convert
		name = EVTOPTAHF20009 
		ai_chance = { factor = 90
			modifier = { factor = 0 
				OR = { has_character_flag = ai_flag_refuse_conversion
					liege = { has_character_flag = ai_flag_refuse_conversion 
						NOT = { religion = event_target:sponsoring_king }
					}
					liege = { has_character_flag = liege_is_truebeliever } 
				}
			}
		}
		hidden_tooltip = {
			if = { 
				limit = { higher_real_tier_than = BARON }
				any_vassal = { character_event = { id = HF.20009 } }
			}
		}
	}
	option = { #Won't convert
		name = EVTOPTBHF20009 
		set_character_flag = ai_flag_refuse_conversion
		hidden_tooltip = {
			if = { 
				limit = { higher_real_tier_than = BARON }
				any_vassal = { letter_event = { id = HF.20025 } }
			}
		}
		ai_chance = { factor = 10
			modifier = { factor = 0 
				NOT = { has_character_flag = ai_flag_refuse_conversion }
				NOT = { 
					liege = { 
						has_character_flag = ai_flag_refuse_conversion 
						NOT = { religion = event_target:sponsoring_king }
					} 
				}
				NOT = { liege = { has_character_flag = liege_is_truebeliever } } 
			}
		}
	}
}

#A Vassal has become Rival of his liege because of the baptism
character_event = {
	id = HF.20010
	desc = EVTDESCHF20010
	picture = GFX_evt_viking_battle_oldgods
	border = GFX_event_normal_frame_religion

	trigger = { event_target:converting_king = { NOT = { num_of_rivals = 3 } } } 
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF20010
		add_rival = FROMFROM
		hidden_tooltip = { event_target:converting_king = { character_event = { id = HF.20011 } } }
	}
}

#Liege is notified of Rivalry
character_event = {
	id = HF.20011
	desc = EVTDESCHF20011
	picture = GFX_evt_viking_battle_oldgods
	border = GFX_event_normal_frame_religion

	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF20011
		add_rival = FROM
	}
}

########################### On_actions notifications


#On_conversion: sponsor changes religion in the middle of baptism
character_event = {
	id = HF.20012
	hide_window = yes
	#desc = EVTDESCHF20012

	has_character_flag = flag_sponsoring_baptism

	trigger = { has_any_opinion_modifier = opinion_baptism_sponsor_target } 

	is_triggered_only = yes
	
	immediate = {
		any_playable_ruler = { 
			limit = { 
				has_character_flag = flag_converting_baptism
				has_opinion_modifier = { 
					who = ROOT 
					modifier = opinion_baptism_sponsor_target 
				}
			}
			character_event = { id = HF.20013 }
		}
	}
}

#Converter be warned! Your sponsor is no longer of the same religion.
character_event = {
	id = HF.20013
	desc = EVTDESCHF20013
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_religion

	
	is_triggered_only = yes
	
	option = { #Stop the ceremony
		name = EVTOPTAHF20013
		clr_character_flag = flag_converting_baptism
		any_realm_character = {	
			limit = { has_character_flag = flag_deceitful_baptism } 
			clr_character_flag = flag_deceitful_baptism 
		}
		any_realm_character = {	
			limit = { has_character_flag = flag_vassal_asked_baptism } 
			character_event = { id = HF.20032 }  
		}
		remove_opinion = { 
			who = FROM
			modifier = opinion_baptism_sponsor_target 
		}
		FROM = { clr_character_flag = flag_sponsoring_baptism
			remove_opinion = { 
				who = ROOT
				modifier = opinion_baptism_sponsor_target 
			}
		}
		ai_chance = { factor = 100 }
	}
	option = { #Proceed anyway
		name = EVTOPTBHF20013		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { trait = lunatic }
			}
		}
	}
}

#On_death: sponsor dies before baptism
character_event = {
	id = HF.20014
	hide_window = yes

	has_character_flag = flag_sponsoring_baptism

	trigger = { has_any_opinion_modifier = opinion_baptism_sponsor_target } 

	is_triggered_only = yes
	
	immediate = {
		any_playable_ruler = { 
			limit = { 
				has_character_flag = flag_converting_baptism
				has_opinion_modifier = { 
					who = ROOT 
					modifier = opinion_baptism_sponsor_target 
				}
			}
			character_event = { id = HF.20015 }
		}
	}
}

#Converter be warned! Your sponsor is no longer alive. Chain ENDS.
character_event = {
	id = HF.20015
	desc = EVTDESCHF20015
	picture = GFX_evt_throne_room
	border = GFX_event_normal_frame_religion

	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF20015
		clr_character_flag = flag_converting_baptism
		FROM = { clr_character_flag = flag_sponsoring_baptism }
		any_realm_character = {	
			limit = { has_character_flag = flag_deceitful_baptism } 
			clr_character_flag = flag_deceitful_baptism 
		}
		any_realm_character = {	
			limit = { has_character_flag = flag_vassal_asked_baptism } 
			character_event = { id = HF.20033 }  
		}
		ai_chance = { factor = 100 }
	}
}

#On_death: converter dies before baptism
character_event = {
	id = HF.20016
	hide_window = yes

	has_character_flag = flag_converting_baptism

	trigger = { has_any_opinion_modifier = opinion_baptism_sponsor_target } 

	is_triggered_only = yes
	
	immediate = {
		any_playable_ruler = { 
			limit = { 
				has_character_flag = flag_sponsoring_baptism
				has_opinion_modifier = { 
					who = ROOT 
					modifier = opinion_baptism_sponsor_target 
				}
			}
			character_event = { id = HF.20017 }
		}
	}
}

#Sponsor be warned! Your converter is no longer alive. Chain ENDS.
character_event = {
	id = HF.20017
	desc = EVTDESCHF20017
	picture = GFX_evt_throne_room
	border = GFX_event_normal_frame_religion

	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF20017
		clr_character_flag = flag_sponsoring_baptism
		FROM = { clr_character_flag = flag_converting_baptism }
		ai_chance = { factor = 100 }
	}
}

#On_conversion: converter changes religion after baptism
character_event = {
	id = HF.20018
	hide_window = yes
	#desc = EVTDESCHF20018

	has_character_flag = flag_converted_baptism 

	trigger = { has_any_opinion_modifier = opinion_baptism_sponsor_target } 

	is_triggered_only = yes
	
	immediate = {
		any_playable_ruler = { 
			limit = { 
				has_character_flag = flag_sponsored_baptism 
				has_opinion_modifier = { 
					who = ROOT 
					modifier = opinion_baptism_sponsor_target 
				}
			}
			character_event = { id = HF.20019 }
		}
	}
}

#Sponsor be warned! Your converter converted again after his baptism.
character_event = {
	id = HF.20019
	desc = EVTDESCHF20019
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_religion

	
	is_triggered_only = yes
	
	option = { #Relation is over.
		name = EVTOPTAHF20019
		remove_opinion = { 
			who = FROM
			modifier = opinion_baptism_sponsor_target 
		}
		FROM = { clr_character_flag = flag_converted_baptism
			remove_opinion = { 
				who = ROOT
				modifier = opinion_baptism_sponsor_target 
			}
		}
		ai_chance = { factor = 90 }
	}
	option = { #Maintain Non-Aggression Pact regardless.
		name = EVTOPTBHF20019		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { trait = lunatic }
				NOT = { trait = cynical }
			}
		}
	}
}

#On_conversion: sponsor changes religion after baptism
character_event = {
	id = HF.20020
	hide_window = yes

	has_character_flag = flag_sponsored_baptism 

	trigger = { has_any_opinion_modifier = opinion_baptism_sponsor_target } 

	is_triggered_only = yes
	
	immediate = {
		any_playable_ruler = { 
			limit = { 
				has_character_flag = flag_converted_baptism 
				has_opinion_modifier = { 
					who = ROOT 
					modifier = opinion_baptism_sponsor_target 
				}
			}
			character_event = { id = HF.20021 }
		}
	}
}

#Converter be warned! Your sponsor converted after baptism.
character_event = {
	id = HF.20021
	desc = EVTDESCHF20021
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_religion

	
	is_triggered_only = yes
	
	option = { #Relation is over
		name = EVTOPTAHF20021
		clr_character_flag = flag_converted_baptism
		clr_character_flag = flag_converter_diplomacy_check
		clr_character_flag = flag_converter_martial_check
		clr_character_flag = flag_converter_intrigue_check
		clr_character_flag = flag_converter_learning_check
		clr_character_flag = flag_converter_feast_4
		clr_character_flag = flag_converter_feast_3
		clr_character_flag = flag_converter_feast_2
		clr_character_flag = flag_converter_feast_1
		clr_character_flag = flag_converter_missionary_welcome
		clr_character_flag = flag_converter_welcome
		clr_character_flag = flag_missionary_welcome
		clr_character_flag = flag_sponsor_no_welcome
		clr_character_flag = flag_baptism_sponsor_visit
		hidden_tooltip = { set_variable = { which = converter_goodwill value = 0 } }
		remove_opinion = { 
			who = FROM
			modifier = opinion_baptism_sponsor_target 
		}
		FROM = {
			remove_opinion = { 
				who = ROOT
				modifier = opinion_baptism_sponsor_target 
			}
		}
		ai_chance = { factor = 90 }
	}
	option = {	#Maintain Non-Aggression Pact regardless. 
		name = EVTOPTBHF20021		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { trait = lunatic }
				NOT = { trait = cynical }
			}
		}
	}
}

#On_death: sponsor died after baptism
character_event = {
	id = HF.20022
	hide_window = yes

	has_character_flag = flag_sponsored_baptism 

	trigger = { has_any_opinion_modifier = opinion_baptism_sponsor_target } 

	is_triggered_only = yes
	
	immediate = {
		any_playable_ruler = { 
			limit = { 
				has_character_flag = flag_converted_baptism 
				has_opinion_modifier = { 
					who = ROOT 
					modifier = opinion_baptism_sponsor_target 
				}
			}
			character_event = { id = HF.20023 }
		}
	}
}

#Converter be warned! Your sponsor died after baptism.
character_event = {
	id = HF.20023
	desc = EVTDESCHF20023
	picture = GFX_evt_throne_room
	border = GFX_event_normal_frame_religion

	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF20023
		clr_character_flag = flag_converted_baptism 
		clr_character_flag = flag_converter_diplomacy_check
		clr_character_flag = flag_converter_martial_check
		clr_character_flag = flag_converter_intrigue_check
		clr_character_flag = flag_converter_learning_check
		clr_character_flag = flag_converter_feast_4
		clr_character_flag = flag_converter_feast_3
		clr_character_flag = flag_converter_feast_2
		clr_character_flag = flag_converter_feast_1
		clr_character_flag = flag_converter_missionary_welcome
		clr_character_flag = flag_converter_welcome
		clr_character_flag = flag_missionary_welcome
		clr_character_flag = flag_sponsor_no_welcome
		clr_character_flag = flag_baptism_sponsor_visit
		hidden_tooltip = { set_variable = { which = converter_goodwill value = 0 } }
	}
}

###############################################################

# Addition to religious_events/character_event 39601. Possible sponsor sent missionary, possible convert asks to have a mass baptism.
letter_event = {
	id = HF.20024
	desc = EVTDESCHF20024
	border = GFX_event_letter_frame_religion
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20000
		custom_tooltip = { text = accept_baptism_request }
		hidden_tooltip = {
			opinion = {
					modifier = opinion_baptism_sponsor_target
					years = 20
					who = FROM
					origin_description = EVTTOOLTIPHFA20005
				}
				FROM = {
					opinion = {
						modifier = opinion_baptism_sponsor_target
						years = 20
						who = ROOT
						origin_description = EVTTOOLTIPHFB20005
					}
				}
			set_character_flag = flag_sponsoring_baptism
			FROM = { set_character_flag = flag_converting_baptism }
			save_event_target_as = sponsoring_king
			FROM = { save_event_target_as = converting_king } 
		}
		FROM = { hidden_tooltip = { letter_event = { id = HF.20002 days = 5 random = 5 } } }
		ai_chance = { factor = 100 }
	}
	option = {
		name = EVTOPTBHF20000
		custom_tooltip = { text = refuse_baptism_request }
		FROM = { hidden_tooltip = { letter_event = { id = HF.20001 days = 5 random = 5 } } }
		ai_chance = { factor = 0 }
	}
}

###############################################################

#Vassal of vassal informed that his direct liege won't baptize.
letter_event = {
	id = HF.20025
	desc = EVTDESCHF20025
	border = GFX_event_letter_frame_religion

	
	is_triggered_only = yes
	
	option = { #Vassal of vassal doesn't baptize either
		name = EVTOPTAHF20025 
		set_character_flag = liege_is_truebeliever 
		hidden_tooltip = {
			if = { 
				limit = { higher_real_tier_than = BARON }
				any_vassal = { letter_event = { id = HF.20025 } }
			}
		}
		ai_chance = { factor = 100 }
	}
	option = { 	#Only for Player, if he wants to convert with his top_liege.
		name = EVTOPTBHF20025 
		FROM = {
			opinion = {
				who = ROOT
				modifier = opinion_denied_request
				months = 60
			}
		}
		hidden_tooltip = {
			if = { 
				limit = { higher_real_tier_than = BARON }
				any_vassal = { letter_event = { id = HF.20009 } }
			}
		}
		ai_chance = { factor = 0 }
	}
}

#Cleanup flag for vassals of vassals after mass conversion.
character_event = {
	id = HF.20026
	#desc = EVTDESCHF20026
	#border = GFX_event_letter_frame_religion
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = liege_is_truebeliever 
	}
}

#On_conversion of deceitful player character fake baptism.
character_event = {
	id = HF.20027
	hide_window = yes

	has_character_flag = flag_deceitful_baptism
	
	is_triggered_only = yes
	
	immediate = { 			
		set_secret_religion = FROM
		join_society = secret_religious_cult
		if = { 
			limit = {
				NOT = { any_society_member = { is_society_grandmaster = yes } }
				NOT = { liege = { has_character_flag = flag_deceitful_baptism } } 

			}
			set_society_grandmaster = yes # Set character as Grand Master
			add_society_currency_massive_effect = yes # Give the Grand Master a start-up capital to induct members
		}
		if = { 
			limit = { 
				secret_religion = tengri_pagan 
				higher_real_tier_than = BARON
			}
			any_demesne_province = {
				random = {
					chance = 80
					add_province_modifier = { 
						name = secret_tengri_pagan_community
						duration = -1
					} 
				}
			}
		}
		if = { 
			limit = { secret_religion = norse_pagan }
			any_demesne_province = {
				random = {
					chance = 80
					add_province_modifier = { 
						name = secret_norse_pagan_community
						duration = -1
					} 
				}
			}
		}
		if = { 
			limit = { secret_religion = baltic_pagan }
			any_demesne_province = {
				random = {
					chance = 80
					add_province_modifier = { 
						name = secret_baltic_pagan_community
						duration = -1
					} 
				}
			}
		}
		if = { 
			limit = { secret_religion = finnish_pagan }
			any_demesne_province = {
				random = {
					chance = 80
					add_province_modifier = { 
						name = secret_finnish_pagan_community
						duration = -1
					} 
				}
			}
		}
		if = { 
			limit = { secret_religion = slavic_pagan }
			any_demesne_province = {
				random = {
					chance = 80
					add_province_modifier = { 
						name = secret_slavic_pagan_community
						duration = -1
					} 
				}
			}
		}
		if = { 
			limit = { secret_religion = west_african_pagan }
			any_demesne_province = {
				random = {
					chance = 80
					add_province_modifier = { 
						name = secret_west_african_pagan_community
						duration = -1
					} 
				}
			}
		}
		if = { 
			limit = { secret_religion = zun_pagan }
			any_demesne_province = {
				random = {
					chance = 80
					add_province_modifier = { 
						name = secret_zun_pagan_community
						duration = -1
					} 
				}
			}
		}
		if = { 
			limit = { secret_religion = aztec }
			any_demesne_province = {
				random = {
					chance = 80
					add_province_modifier = { 
						name = secret_aztec_community
						duration = -1
					} 
				}
			}
		}
		clr_character_flag = flag_deceitful_baptism
	}
}

#Courtiers\Vassals of Vassals: your direct liege will pretend to convert.
letter_event = {
	id = HF.20028
	desc = EVTDESCHF20028
	border = GFX_event_letter_frame_religion

	
	is_triggered_only = yes
	
	option = { #Pretend to convert with him.
		name = EVTOPTAHF20028
		set_character_flag = flag_deceitful_baptism
		hidden_tooltip = {
			if = { 
				limit = { higher_real_tier_than = BARON }
				any_vassal = { character_event = { id = HF.20028 } }
			}
		}
		ai_chance = { factor = 100 }
	}
	option = { #Player only, to convert with the top_liege.
		name = EVTOPTBHF20028
		ai_chance = { factor = 0 }
	}
}

#Random True Believer vassal has chance to start a rebellion.
long_character_event = {
	id = HF.20029
	desc = EVTDESCHF20029
	picture = GFX_evt_viking_battle_oldgods
	border = GFX_event_long_frame_religion
	
	is_triggered_only = yes

	trigger = { 
		NOT = { religion = event_target:converting_king }
		higher_real_tier_than = BARON
		vassal_of = event_target:converting_king
	}
	
	option = {
		name = EVTOPTAHF20029
		set_character_flag = flag_truebelievers_revolter
		hidden_tooltip = { 
			start_faction = { 
				faction = faction_true_belivers
			}
		}
		custom_tooltip = { text = truebelievers_preparation_tooltip }
		hidden_tooltip = { 
			event_target:converting_king = {
				any_vassal = {
					limit = { 
						religion = ROOT
						NOT = { character = ROOT }
					}
				letter_event = { id = HF.20030 }	#Call to Arms 
				}
			}
		}
		hidden_tooltip = { character_event = { id = HF.20092 days = 4 } }	#War actually starts.
		ai_chance = { factor = 100 }
	}
	
	option = {		#Player refuses to start a war
	name = EVTOPTBHF20029	
	trigger = { ai = no }
	}
}


#Other True Believers join the cause
letter_event = {
	id = HF.20030
	desc = EVTDESCHF20030
	border = GFX_event_letter_frame_religion

	trigger = { 
		religion = FROM 
		vassal_of = event_target:converting_king
	}
	
	is_triggered_only = yes
	
	option = {	#Join Independence war
		name = EVTOPTAHF20030
		trigger = { has_character_flag = ai_flag_refuse_conversion }
		#set_character_flag = flag_truebelievers_revolter
		join_faction = { 
			faction = faction_true_belivers
			faction_leader = FROM
			can_join_existing = yes
		}
		ai_chance = { factor = 99 }
	}
	option = { #Refuse.
		name = EVTOPTBHF20030
		trigger = { 
			OR = { 
				ai = no
				NOT = { has_character_flag = ai_flag_refuse_conversion } 
			} 
		}
		ai_chance = { factor = 1 }
	}
}

#Notify converted players of the revolt
character_event = {
	id = HF.20031
	desc = EVTDESCHF20031
	picture = GFX_evt_viking_battle_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20031
	}
}

#The True Believers have gathered, now time to actually start the war.
character_event = {
	id = HF.20092
	desc = EVTDESCHF20092
	picture = GFX_evt_viking_battle_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	trigger = { 
		NOT = { religion = event_target:converting_king }
		higher_real_tier_than = BARON
		vassal_of = event_target:converting_king
	}
	
	option = {
		name = EVTOPTAHF20092
		hidden_tooltip = {
			event_target:converting_king = {
				character_event = { id = HF.20031 } #Notification to converts
				any_vassal = {
					limit = { 
						is_ruler = yes
						ai = no
						NOT = { religion = ROOT }
						NOT = { character = ROOT }
					}
				character_event = { id = HF.20031 } #Notification to converts
				}
			}
			top_liege = {
				ROOT = {
					set_defacto_liege = PREV
				}
			}	
		}
		hidden_tooltip = {
			event_target:converting_king = {
				any_vassal = { 
					limit = { in_faction = faction_true_belivers } 
					event_target:converting_king = {
						opinion = {
							who = PREV
							modifier = opinion_charge_traitor
							months = 240
						}
					}
				}
			}
		}
		liege = {
			reverse_war = {
				target = ROOT
				casus_belli = truebelievers_bid_for_independence
				faction = faction_true_belivers
			}
		}
		prestige = 500
		piety = 200
		ai_chance = { factor = 100 }
	}
	
}

#Notify any vassal in the middle of a baptism that the sponsor changed faith and the whole thing is off
character_event = {
	id = HF.20032
	desc = EVTDESCHF20032
	picture = GFX_evt_throne_room
	border = GFX_event_normal_frame_religion
	show_from_from = yes
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20032
		clr_character_flag = flag_vassal_asked_baptism 
	}
}

#Notify any vassal in the middle of a baptism that the sponsor died and the whole thing is off
character_event = {
	id = HF.20033
	desc = EVTDESCHF20033
	picture = GFX_evt_throne_room
	border = GFX_event_normal_frame_religion
	show_from_from = yes
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20033
		clr_character_flag = flag_vassal_asked_baptism 
	}
}
#On_death: true believer player vassal dies after receiving conversion letter and before the ceremony, give chance to heir to become true believer as well.
character_event = {
	id = HF.20034
	hide_window = yes
	
	has_character_flag = ai_flag_refuse_conversion

	trigger = {
		liege = { has_character_flag = flag_converting_baptism }
	}

	is_triggered_only = yes

	immediate = {
		current_heir = { character_event = { id = HF.20035 days = 1 } }
	}
}

#Does the true believer's heir convert or does he remain faithful to his liege?
character_event = {
	id = HF.20035
	desc = EVTDESCHF20035
	picture = GFX_evt_viking_funeral_oldgods
	border = GFX_event_normal_frame_religion
	
	trigger = {
		liege = { has_character_flag = flag_converting_baptism }
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20035
		set_character_flag = ai_flag_refuse_conversion 
		ai_chance = { factor = 50 
			modifier = {
				factor = 0
				NOT = { trait = zealous }
			}
		}
	}
	option = {
		name = EVTOPTBHF20035
		trigger = { NOT = { has_character_flag = ai_flag_refuse_conversion } }
		ai_chance = { factor = 50 }
	}
}

#Converter: Sponsor sends a new priest to help convert everybody
character_event = {
	id = HF.20036
	desc = EVTDESCHF20036
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	immediate = {
		hidden_tooltip = {
			random_list = {
				50 = {
					modifier = {
						factor = 0
						event_target:sponsoring_king = {
							religion_allows_male_temple_holders = no
						}
					}
					create_random_priest = {
						random_traits = yes
						dynasty = none
						culture = event_target:sponsoring_king
						religion = event_target:sponsoring_king
						female = no
						age = 35
						attributes = {
							learning = 7
							diplomacy = 5
						}
					}
				}
				50 = {
					modifier = {
						factor = 0
						event_target:sponsoring_king = {
							religion_allows_female_temple_holders = no
						}
					}
					create_random_priest = {
						random_traits = yes
						dynasty = none
						culture = event_target:sponsoring_king
						religion = event_target:sponsoring_king
						female = yes
						age = 35
						attributes = {
							learning = 7
							diplomacy = 5
						}
					}
				}
			}
			
			new_character = {
				give_job_title = job_spiritual
				save_event_target_as = convert_lord_spiritual
			}
		}
	}

	option = {
		name = EVTOPTAHF20036
		show_portrait = event_target:convert_lord_spiritual
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			character_event = { id = HF.20118 days = 10 random = 10 } #Change name.
			event_target:convert_lord_spiritual = { character_event = { id = HF.20110 days = 150 random = 50 } } #Priest flavor.
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
	}
}

#Hidden Umbrella event for flavor events for the Converter. (single, with double option).
character_event = {
	id = HF.20037
	hide_window = yes

	trigger = { 
		is_ruler = yes
		event_target:converting_king = { 
			has_character_flag = flag_converted_baptism 
			is_alive = yes
			is_ruler = yes
		}
	}
	
	is_triggered_only = yes

	immediate = {
		random_list = {  
			#Picking the positive trait option gives piety, takes away prestige, has a chance to give the trait.

			#Becoming Zealous after conversion 							flag_converter_zealous
			#Becoming Cynical after conversion 							flag_converter_cynical
			#Becoming Kind after conversion (indian/christian) 			flag_converter_kind
			#Becoming Humble after conversion (indian/christian) 		flag_converter_humble
			#Becoming Brave after conversion (reformednorse/tengri) 	flag_converter_brave
			#Becoming Charitable after conversion (muslim)				flag_converter_charitable
			#Becoming Temperate after conversion (christian/indian) 	flag_converter_temperate
			#Flat piety boon
			#Skip a turn

			16 = { #Zealous
				 modifier = { 
				 	factor = 0
				 	event_target:converting_king = { has_character_flag = flag_converter_zealous }
				}
				 modifier = { 
				 	factor = 0
				 	event_target:converting_king = { trait = zealous }
				}
				 modifier = { 
				 	factor = 0.75
				 	event_target:converting_king = { pacifist = yes }
				}
				event_target:converting_king = { set_character_flag = flag_converter_zealous }
				event_target:converting_king = { character_event = { id = HF.20039 days = 390 random = 190 } } }
			1 = { #Cynical
				 modifier = { 
				 	factor = 0
				 	event_target:converting_king = { has_character_flag = flag_converter_cynical }
				}
				 modifier = { 
				 	factor = 0
				 	event_target:converting_king = { trait = cynical }
				}
				 modifier = { 
				 	factor = 1.5
				 	event_target:converting_king = { religion = hellenic_pagan_reformed }
				}
				event_target:converting_king = { set_character_flag = flag_converter_cynical }
				event_target:converting_king = { character_event = { id = HF.20040 days = 390 random = 190 } } } 
			11 = { #Kind
				 modifier = { 
				 	factor = 0
				 	event_target:converting_king = { has_character_flag = flag_converter_kind }
				}
				 modifier = { 
				 	factor = 0
				 	event_target:converting_king = { trait = kind }
				}
				 modifier = { 
				 	factor = 1.5
				 	event_target:converting_king = { religion_group = christian }
				}
				 modifier = { 
				 	factor = 1.5
				 	event_target:converting_king = { religion_group = indian_group }
				}
				event_target:converting_king = { set_character_flag = flag_converter_kind }
				event_target:converting_king = { character_event = { id = HF.20041 days = 450 random = 190 } } } 
			11 = { #Humble
				 modifier = { 
				 	factor = 0
				 	event_target:converting_king = { has_character_flag = flag_converter_humble }
				}
				 modifier = { 
				 	factor = 0
				 	event_target:converting_king = { trait = humble }
				}
				 modifier = { 
				 	factor = 0.5
				 	event_target:converting_king = { religion_group = pagan_group }
				}
				 modifier = { 
				 	factor = 1.25
				 	event_target:converting_king = { religion_group = indian_group }
				}
				 modifier = { 
				 	factor = 1.25
				 	event_target:converting_king = { religion_group = christian }
				}
				event_target:converting_king = { set_character_flag = flag_converter_humble }
				event_target:converting_king = { character_event = { id = HF.20042 days = 450 random = 190 } } } 
			16 = { #Brave
				 modifier = { 
				 	factor = 0
				 	event_target:converting_king = { has_character_flag = flag_converter_brave }
				}
				 modifier = { 
				 	factor = 0
				 	event_target:converting_king = { trait = brave }
				}
				 modifier = { 
				 	factor = 1.5
				 	event_target:converting_king = { religion_group = pagan_group }
				}
				 modifier = { 
				 	factor = 0.5
				 	event_target:converting_king = { religion_group = indian_group }
				}
				 modifier = { 
				 	factor = 0.5
				 	event_target:converting_king = { religion_group = christian }
				}
				event_target:converting_king = { set_character_flag = flag_converter_brave }
				event_target:converting_king = { character_event = { id = HF.20043 days = 450 random = 190 } } } 
			15 = { #Charitable
				 modifier = { 
				 	factor = 0
				 	event_target:converting_king = { has_character_flag = flag_converter_charitable }
				}
				 modifier = { 
				 	factor = 0
				 	event_target:converting_king = { trait = charitable }
				}
				 modifier = { 
				 	factor = 0.5
				 	event_target:converting_king = { religion_group = pagan_group }
				}
				 modifier = { 
				 	factor = 1.25
				 	event_target:converting_king = { religion_group = muslim }
				}
				event_target:converting_king = { set_character_flag = flag_converter_charitable }
				event_target:converting_king = { character_event = { id = HF.20044 days = 450 random = 190 } } } 
			10 = { #Temperate
				 modifier = { 
				 	factor = 0
				 	event_target:converting_king = { has_character_flag = flag_converter_temperate }
				}
				 modifier = { 
				 	factor = 0
				 	event_target:converting_king = { trait = temperate }
				}
				 modifier = { 
				 	factor = 0.5
				 	event_target:converting_king = { religion_group = pagan_group }
				}
				 modifier = { 
				 	factor = 1.25
				 	event_target:converting_king = { religion_group = indian_group }
				}
				 modifier = { 
				 	factor = 1.25
				 	event_target:converting_king = { religion_group = christian }
				}
				event_target:converting_king = { set_character_flag = flag_converter_temperate }
				event_target:converting_king = { character_event = { id = HF.20045 days = 450 random = 190 } } } 
			15 = { #Piety
				event_target:converting_king = { character_event = { id = HF.20046 days = 450 random = 190 } } } 

			5 = { event_target:converting_king = { character_event = { id = HF.20038 days = 350 random = 250 } } } 
		}
	}
}

#Hidden Umbrella event for flavor events for the Sponsor. 
character_event = {
	id = HF.20038
	hide_window = yes

	trigger = { 
		is_ruler = yes
		is_alive = yes
		event_target:converting_king = { 
			is_ruler = yes
			is_alive = yes
			has_character_flag = flag_converted_baptism 
			has_any_opinion_modifier = opinion_baptism_sponsor_target 
		}
	}
	
	is_triggered_only = yes

	immediate = {
		random_list = {  
			#Fund Church Construction / Send Money / Send Inquisition / Do Nothing
			60 = { event_target:sponsoring_king = { character_event = { id = HF.20047 days = 430 random = 130 } } } 

			#Visit Converter / Do Nothing
			40 = { 
				 modifier = { 
				 	factor = 0
				 	event_target:sponsoring_king = { 
				 		OR = { 
				 			is_incapable = yes
				 			is_inaccessible_trigger = yes 
							war = yes
				 		} 
				 	}
				}
				 modifier = { #Only once per Baptism
				 	factor = 0
				 	event_target:converting_king = { has_character_flag = flag_baptism_sponsor_visit }
				}
				 modifier = { 
				 	factor = 1.5
				 	event_target:sponsoring_king = { trait = pilgrim }
				}
				 modifier = { 
				 	factor = 1.25
				 	event_target:sponsoring_king = { trait = gregarious }
				}
				event_target:sponsoring_king = { character_event = { id = HF.20048 days = 430 random = 130 } } 
			}
		}
	}
}

#Converter: Chance to become Zealous
character_event = {
	id = HF.20039
	desc = EVTDESCHF20039
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_religion
	hide_from = yes
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20039
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		if = { 
			limit = { NOT = { trait = cynical } }
			piety = 150
			prestige = -50
			random = { chance = 65 
			add_trait = zealous
			hidden_tooltip = { character_event = { id = 38269 } }
			}
			break = yes
		}
		if = { 
			limit = { trait = cynical } 
			piety = 100
			prestige = -50
			random = { chance = 75 
			remove_trait = cynical
			hidden_tooltip = { character_event = { id = 38316 } }
			}
		}
		ai_chance = { factor = 50 }
	}
	option = {
		name = EVTOPTBHF20039
		piety = -25
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		ai_chance = { factor = 50 
		 	modifier = { 
		 		factor = 1.5
		 		trait = cynical
			}
		 	modifier = { 
		 		factor = 1.25
		 		trait = craven
			}
		 	modifier = { 
		 		factor = 1.25
		 		trait = slothful
			}
		 	modifier = { 
		 		factor = 1.25
		 		religion_group = indian_group
			}
		}
	}
}

#Converter: Chance to become Cynical
character_event = {
	id = HF.20040
	desc = EVTDESCHF20040
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_religion
	hide_from = yes
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20040
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		if = { 
			limit = { NOT = { trait = zealous } }
			piety = -150
			prestige = 50
			random = { chance = 65 
			add_trait = cynical
			hidden_tooltip = { character_event = { id = 38258 } } #notify cynical
			}
			break = yes
		}
		if = { 
			limit = { trait = zealous } 
			piety = -100
			prestige = 50
			random = { chance = 75 
			remove_trait = zealous
			hidden_tooltip = { character_event = { id = 38310 } } #notify cynical
			}
		}
		ai_chance = { factor = 50 }
	}
	option = {
		name = EVTOPTBHF20040
		piety = 25
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		ai_chance = { factor = 50 
		 	modifier = { 
		 		factor = 1.5
		 		trait = zealous
			}
		 	modifier = { 
		 		factor = 1.25
		 		trait = brave
			}
		 	modifier = { 
		 		factor = 1.25
		 		trait = slothful
			}
		 	modifier = { 
		 		factor = 1.25
		 		religion_group = muslim
			}

		}
	}
}

#Converter: Chance to become Kind
character_event = {
	id = HF.20041
	desc = EVTDESCHF20041
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_religion
	hide_from = yes
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20041
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		if = { 
			limit = { NOT = { trait = cruel } }
			piety = 150
			prestige = -50
			random = { chance = 65 
			add_trait = kind
			hidden_tooltip = { character_event = { id = 38268 } }
			}
			break = yes
		}
		if = { 
			limit = { trait = cruel } 
			piety = 100
			prestige = -50
			random = { chance = 75 
			remove_trait = cruel
			}
		}
		ai_chance = { factor = 50 }
	}
	option = {
		name = EVTOPTBHF20041
		piety = -25
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		ai_chance = { factor = 50 
		 	modifier = { 
		 		factor = 1.5
		 		trait = cruel
			}			
		 	modifier = { 
		 		factor = 1.25
		 		trait = greedy
			}
		 	modifier = { 
		 		factor = 1.25
		 		trait = slothful
			}
		 	modifier = { 
		 		factor = 1.25
		 		religion_group = pagan_group
			}
		}
	}
}

#Converter: Chance to become Humble
character_event = {
	id = HF.20042
	desc = EVTDESCHF20042
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_religion
	hide_from = yes
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20042
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		if = { 
			limit = { NOT = { trait = proud } }
			piety = 150
			prestige = -50
			random = { chance = 65 
			add_trait = humble
			hidden_tooltip = { character_event = { id = 38260 } }
			}
			break = yes
		}
		if = { 
			limit = { trait = proud } 
			piety = 100
			prestige = -50
			random = { chance = 75 
			remove_trait = proud
			hidden_tooltip = { character_event = { id = 38300 } }
			}
		}
		ai_chance = { factor = 50 }
	}
	option = {
		name = EVTOPTBHF20042
		piety = -25
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		ai_chance = { factor = 50 
		 	modifier = { 
		 		factor = 1.5
		 		trait = proud
			}
		 	modifier = { 
		 		factor = 1.25
		 		trait = brave
			}
		 	modifier = { 
		 		factor = 1.25
		 		trait = gregarious
			}
		 	modifier = { 
		 		factor = 1.25
		 		religion_group = pagan_group
			}

		}
	}
}

#Converter: Chance to become Brave
character_event = {
	id = HF.20043
	desc = EVTDESCHF20043
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_religion
	hide_from = yes
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20043
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		if = { 
			limit = { NOT = { trait = craven } }
			piety = 150
			prestige = -50
			random = { chance = 65 
			add_trait = brave
			hidden_tooltip = { character_event = { id = 38270 } }
			}
			break = yes
		}
		if = { 
			limit = { trait = craven } 
			piety = 100
			prestige = -50
			random = { chance = 75 
			remove_trait = craven
			hidden_tooltip = { character_event = { id = 38296 } }
			}
		}
		ai_chance = { factor = 50 }
	}
	option = {
		name = EVTOPTBHF20043
		piety = -25
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		ai_chance = { factor = 50 
		 	modifier = { 
		 		factor = 1.5
		 		trait = craven
			}
		 	modifier = { 
		 		factor = 1.25
		 		trait = shy
			}
		 	modifier = { 
		 		factor = 1.25
		 		trait = slothful
			}
		 	modifier = { 
		 		factor = 1.25
		 		religion_group = indian_group
			}

		}
	}
}

#Converter: Chance to become Charitable
character_event = {
	id = HF.20044
	desc = EVTDESCHF20044
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_religion
	hide_from = yes
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20044
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		if = { 
			limit = { NOT = { trait = greedy } }
			piety = 150
			prestige = -50
			random = { chance = 65 
			add_trait = charitable
			hidden_tooltip = { character_event = { id = 38273 } }
			}
			break = yes
		}
		if = { 
			limit = { trait = greedy } 
			piety = 100
			prestige = -50
			random = { chance = 75 
			remove_trait = greedy
			}
		}
		ai_chance = { factor = 50 }
	}
	option = {
		name = EVTOPTBHF20044
		piety = -25
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		ai_chance = { factor = 50 
		 	modifier = { 
		 		factor = 1.5
		 		trait = greedy
			}
		 	modifier = { 
		 		factor = 1.25
		 		trait = paranoid
			}
		 	modifier = { 
		 		factor = 1.25
		 		trait = slothful
			}
		 	modifier = { 
		 		factor = 1.25
		 		religion_group = pagan_group
			}

		}
	}
}
#Converter: Chance to become Temperate
character_event = {
	id = HF.20045
	desc = EVTDESCHF20045
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_religion
	hide_from = yes
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20045
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		if = { 
			limit = { NOT = { trait = gluttonous } }
			piety = 150
			prestige = -50
			random = { chance = 65 
			add_trait = temperate
			lose_weight_small_effect = yes
			weight_trait_check_effect = yes
			hidden_tooltip = { character_event = { id = 38276 } }
			}
			break = yes
		}
		if = { 
			limit = { trait = gluttonous } 
			piety = 100
			prestige = -50
			random = { chance = 75 
			remove_trait = gluttonous
			hidden_tooltip = { character_event = { id = 65151 } }
			}
		}
		ai_chance = { factor = 50 }
	}
	option = {
		name = EVTOPTBHF20045
		piety = -25
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		ai_chance = { factor = 50 
		 	modifier = { 
		 		factor = 1.5
		 		trait = lustful
			}
		 	modifier = { 
		 		factor = 1.25
		 		trait = shy
			}
		 	modifier = { 
		 		factor = 1.5
		 		religion_group = pagan_group
			}

		}
	}
}

#Converter: Flat piety boon
character_event = {
	id = HF.20046
	desc = EVTDESCHF20046
	picture = GFX_evt_knight_kneeling
	border = GFX_event_normal_frame_religion
	hide_from = yes
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20046
		piety = 100
		prestige = -50
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		ai_chance = { factor = 100 }
	}
}

#Sponsor: Give options to help Converter with his tribal realm.
character_event = {
	id = HF.20047
	desc = EVTDESCHF20047
	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	trigger = { 
		event_target:converting_king = { 
		is_ruler = yes
		is_alive = yes
		}
		event_target:sponsoring_king = { 
			is_ruler = yes
			is_alive = yes
			has_opinion_modifier = { 
				who = event_target:converting_king 
				modifier = opinion_baptism_sponsor_target 
			}
		}
	}

	is_triggered_only = yes

	option = { #Fund construction of a Church
		name = EVTOPTAHF20047
		trigger = { 
			event_target:converting_king = { 
				any_demesne_province = { 
					has_empty_holding = yes 
					NOT = { 
						any_province_holding = { holding_type = temple } 
					}
				}
			} 
		}
		tooltip = { 
			wealth = -300
			piety = 500
		}
		custom_tooltip = { text = EVTTOOLTIPAHF20047 }
		hidden_tooltip = { event_target:converting_king = { letter_event = { id = HF.20049 } } } 
		ai_chance = { 
			factor = 35 
		 	modifier = { 
		 		factor = 1.5
		 		trait = zealous
			}
		 	modifier = { 
		 		factor = 0.5
		 		trait = cynical
			}
		 	modifier = { 
		 		factor = 0.25
		 		NOT = { wealth = 300 }
			}
		 	modifier = { 
		 		factor = 0.1
		 		NOT = { wealth = 0 }
			}
		 	modifier = { 
		 		factor = 0
		 		NOT = { wealth = -50 }
			}
		}
	}
	option = { #Send Cash
		name = EVTOPTBHF20047
		if = { 
			limit = { ai = no } #Cheating AI
		 	wealth = -100 
		 }
		piety = 300
		custom_tooltip = { text = EVTTOOLTIPBHF20047 }
		hidden_tooltip = { event_target:converting_king = { letter_event = { id = HF.20052 } } } 
		ai_chance = { 
			factor = 25 
		 	modifier = { 
		 		factor = 1.5
		 		trait = charitable
			}
		 	modifier = { 
		 		factor = 0.5
		 		trait = greedy
			}
		 	modifier = { 
		 		factor = 0.25
		 		NOT = { wealth = 200 }
			}
		 	modifier = { 
		 		factor = 0.1
		 		NOT = { wealth = 0 }
			}
		 	modifier = { 
		 		factor = 0
		 		NOT = { wealth = -50 }
			}
		 	modifier = { 
		 		factor = 0.01 #He already has enough gold.
		 		event_target:converting_king = { wealth = 500 }
			}
		}
	}
	option = { #Send Proselytizers to convert remaining provinces
		name = EVTOPTCHF20047
		trigger = { 
			event_target:converting_king = { 
				any_realm_province = { 
					NOT = { religion = ROOT } 
					religion_group = pagan_group
					is_reformed_religion = no
				}
			} 
		}
		custom_tooltip = { text = EVTTOOLTIPCHF20047 }
		piety = 100
		hidden_tooltip = { event_target:converting_king = { letter_event = { id = HF.20054 } } } 
		ai_chance = { 
			factor = 35 
		 	modifier = { 
		 		factor = 0.5
		 		pacifist = yes
			}
		 	modifier = { 
		 		factor = 1.75
		 		religion_group = christian
			}
		 	modifier = { 
		 		factor = 0.5
		 		NOT = { wealth = 0 }
			}
		 	modifier = { 
		 		factor = 0
		 		NOT = { wealth = -100 }
			}
		}
	}
	option = { #Do nothing this turn
		name = EVTOPTDHF20047
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				70 = { event_target:converting_king = { character_event = { id = HF.20037 days = 50 random = 50 } } } #Events for Converter
				30 = { event_target:sponsoring_king = { character_event = { id = HF.20038 days = 100 random = 50 } } } #Events for Sponsor - Delayed to avoid spamming.
			}
		}
		ai_chance = { 
			factor = 5 
		 	modifier = { 
		 		factor = 10		 #If all other options have been exhausted, just skip a turn.
		 		event_target:converting_king = { wealth = 500 }
				NOT = { 
					event_target:converting_king = { 
						any_demesne_province = { 
							has_empty_holding = yes 
							NOT = { 
								any_province_holding = { holding_type = temple } 
							}
						}
					}
				}
				NOT = { 
					event_target:converting_king = { 
						any_realm_province = { 
							NOT = { religion = ROOT } 
							religion_group = pagan_group
							is_reformed_religion = no
						}	
					} 
				} 
			}
		}
	}
}

#Sponsor: Do you wish to travel to your converter's realm?
character_event = {
	id = HF.20048
	desc = EVTDESCHF20048
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_religion
	#hide_from = yes
	hide_new = yes
	show_root = yes

	trigger = { 
		event_target:converting_king = { 
			is_ruler = yes
			is_alive = yes
		}
		event_target:sponsoring_king = { 
			is_ruler = yes
			is_alive = yes
			has_opinion_modifier = { 
				who = event_target:converting_king 
				modifier = opinion_baptism_sponsor_target 
			}
		}
	}

	is_triggered_only = yes

	option = { #Travel to your Converter's realm
		name = EVTOPTAHF20048
		show_portrait = event_target:converting_king
		trigger = { 
			event_target:sponsoring_king = {
				is_incapable = no
				is_inaccessible_trigger = no
			} 
		custom_tooltip = { text = EVTTOOLTIPAHF20048 }
		}
		set_character_flag = sponsor_travelling_converter
		add_trait = travelling 		#Travelling far, will need a regent. 
		hidden_tooltip = { character_event = { id = HF.20091 days = 65 random = 10 } } #Safe remove travelling trait in case the chain is ended abruptly so that sponsor doesn't keep travelling to the end of times.
		#add_character_modifier = {
		#	name = out_traveling
		#	duration = 75
		#}
		event_target:converting_king = { letter_event = { id = HF.20063 } } 
		ai_chance = { factor = 90 }
	}
	option = { #Pass turn 
		name = EVTOPTBHF20048
		hidden_tooltip = {
			event_target:converting_king = { character_event = { id = HF.20037 } } #Events for Converter
		}
		ai_chance = { factor = 10 }
	}
}

#Converter: Sponsor wants to fund construction of a Church in your demesne.
letter_event = {
	id = HF.20049
	desc = EVTDESCHF20049
	border = GFX_event_letter_frame_religion
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = { #Agree
		name = EVTOPTAHF20049
		trigger = { 
			any_demesne_province = { 
				has_empty_holding = yes 
				NOT = { 
					any_province_holding = { holding_type = temple } 
				}
			} 

		} 
		piety = 100
		opinion = {
			modifier = opinion_happy
			years = 10
			who = FROM
		}
		random_demesne_province = {
			limit = { 
				has_empty_holding = yes 
				NOT = { 
					any_province_holding = { holding_type = temple } 
				}
			}
			build_holding = {
				type = temple
				holder = ROOT
			}
		}
		hidden_tooltip = { FROM = { letter_event = { id = HF.20050 days = 5 random = 5 } } }
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		ai_chance = { factor = 100 }
	}
	option = { #Disagree
		name = EVTOPTBHF20049
		piety = -50
		FROM = {
			opinion = {
				modifier = opinion_denied_request
				years = 10
				who = ROOT
			}
		}
		hidden_tooltip = { FROM = { letter_event = { id = HF.20051 days = 5 random = 5 } } }
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		ai_chance = { factor = 0 }
	}
}

#Sponsor: Converter allowed the construction of a new church
letter_event = {
	id = HF.20050
	desc = EVTDESCHF20050
	border = GFX_event_letter_frame_religion
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20050
		tooltip = {
			FROM = {
				opinion = {
					modifier = opinion_happy
					years = 10
					who = ROOT
				}
			}
		}
		piety = 500
		if = { 
			limit = { ai = no } #Cheating AI
		 	wealth = -300 
		 }
		ai_chance = { factor = 100 }
	}
}

#Sponsor: Converter denied the construction of a new church
letter_event = {
	id = HF.20051
	desc = EVTDESCHF20051
	border = GFX_event_letter_frame_religion
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20051
		tooltip = { 
			opinion = {
				modifier = opinion_denied_request
				years = 10
				who = FROM
			}
		}
		ai_chance = { factor = 100 }
	}
}

#Converter: Sponsor sent you money
letter_event = {
	id = HF.20052
	desc = EVTDESCHF20052
	border = GFX_event_letter_frame_religion
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20052
		wealth = 100
		opinion = {
			modifier = opinion_happy
			years = 10
			who = FROM
		}
		hidden_tooltip = { FROM = { letter_event = { id = HF.20053 days = 5 random = 5 } } }
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		ai_chance = { factor = 100 }
	}
}

#Sponsor: Converter is happy about the money
letter_event = {
	id = HF.20053
	desc = EVTDESCHF20053
	border = GFX_event_letter_frame_religion
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20053
		tooltip = {
			FROM = {
				opinion = {
					modifier = opinion_happy
					years = 10
					who = ROOT
				}
			}
		}
		ai_chance = { factor = 100 }
	}
}
#Converter: Sponsor is sending more priests to convert a province.
letter_event = {
	id = HF.20054
	desc = EVTDESCHF20054
	border = GFX_event_letter_frame_religion
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = { #Agree
		name = EVTOPTAHF20054
		custom_tooltip = { text = baptism_new_missionaries_tooltip } 
		trigger = { 
			any_realm_province = { 
				NOT = { religion = FROM } 
				religion_group = pagan_group
				is_reformed_religion = no
			} 

		}
		opinion = {
			modifier = opinion_happy
			years = 10
			who = FROM
		}
		hidden_tooltip = {
			random_realm_province = {
				limit = { 
					NOT = { religion = FROM }
					religion_group = pagan_group
					is_reformed_religion = no
				}
				random_list = { 
					60 = { 
					 	modifier = { 
					 		factor = 1.25
					 		event_target:convert_lord_spiritual = { 
					 			has_job_title = job_spiritual 
					 			liege = { character = ROOT }
					 		}
						}
						province_event = { id = HF.20055 days = 15 random = 13 } } #Conversion successful
					40 = { province_event = { id = HF.20056 days = 15 random = 13 } } #Conversion successful but revolt risk increased.
				}
			}
		}
		hidden_tooltip = { FROM = { letter_event = { id = HF.20057 days = 5 random = 5 } } }
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		ai_chance = { factor = 100 }
	}
	option = { #Disagree
		name = EVTOPTBHF20054
		piety = -20
		FROM = {
			opinion = {
				modifier = opinion_denied_request
				years = 10
				who = ROOT
			}
		}
		hidden_tooltip = { FROM = { letter_event = { id = HF.20058 days = 5 random = 5 } } }
		#Umbrella list for Umbrella lists
		hidden_tooltip = {
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
		ai_chance = { factor = 0 }
	}
}

#Province is converted easily to sponsor's faith
province_event = {
	id = HF.20055
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		religion = FROMFROM
		owner = { 
			if = { 
				limit = { NOT = { character = FROM } }
				character_event = { id = HF.20059 } #Notify owner if he's not the Converter
			}
		}
		FROM = { character_event = { id = HF.20060 } }
	}
}

#Province is converted to sponsor's faith, but peasants are upset
province_event = {
	id = HF.20056
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		religion = FROMFROM
		add_province_modifier = {
			name = force_converting
			duration = 365
		}
		owner = { 
			if = { 
				limit = { NOT = { character = FROM } }
				character_event = { id = HF.20061 } #Notify owner if he's not the Converter
			}
		}
		FROM = { character_event = { id = HF.20062 } }
	}
}

#Sponsor: Converter allowed the conversion of another province
letter_event = {
	id = HF.20057
	desc = EVTDESCHF20057
	border = GFX_event_letter_frame_religion
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20057
		tooltip = {
			FROM = {
				opinion = {
					modifier = opinion_happy
					years = 10
					who = ROOT
				}
			}
		}
		wealth = -30
		piety = 100
		ai_chance = { factor = 100 }
	}
}

#Sponsor: Converter denied the conversion of another province
letter_event = {
	id = HF.20058
	desc = EVTDESCHF20058
	border = GFX_event_letter_frame_religion
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20058
		tooltip = { 
			opinion = {
				modifier = opinion_denied_request
				years = 10
				who = FROM
			}
		}
		ai_chance = { factor = 100 }
	}
}

#Owner of converted province: Your province has been converted
character_event = {
	id = HF.20059
	desc = EVTDESCHF20059
	picture = GFX_evt_mass_baptism
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20059
		trigger = { religion = FROM }
		ai_chance = { factor = 100 }
	}
	option = { 
		name = EVTOPTBHF20059
		trigger = { NOT = { religion = FROM	} }
		ai_chance = { factor = 100 }
	}
}

#Converter of converted province: Your province has been converted
character_event = {
	id = HF.20060
	desc = EVTDESCHF20060
	picture = GFX_evt_mass_baptism
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20060
		ai_chance = { factor = 100 }
	}
}

#Owner of converted province: Your province has been converted but has unrest
character_event = {
	id = HF.20061
	desc = EVTDESCHF20061
	picture = GFX_evt_heretic
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20061
		trigger = { religion = FROM }
		ai_chance = { factor = 100 }
	}
	option = { 
		name = EVTOPTBHF20061
		trigger = { NOT = { religion = FROM	} }
		ai_chance = { factor = 100 }
	}
}

#Converter of converted province: Your province has been converted but has unrest
character_event = {
	id = HF.20062
	desc = EVTDESCHF20062
	picture = GFX_evt_heretic
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20062
		ai_chance = { factor = 100 }
	}
}

####################################################
## The Visit

#Converter: Sponsor has decided to pay you a visit.
letter_event = {
	id = HF.20063
	desc = EVTDESCHF20063
	border = GFX_event_letter_frame_religion
	hide_new = yes
	show_root = yes
	trigger = { 
		is_incapable = no 
		is_ruler = yes
	}

	fail_trigger_effect = {
		event_target:sponsoring_king = { character_event = { id = HF.20098 } }
	}
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20063
		hidden_tooltip = { 
			set_character_flag = flag_baptism_sponsor_visit
			character_event = { id = HF.20064 days = 5 random = 5 }
		}
		ai_chance = { factor = 100 }
	}
}

#Converter: Prepare for the Sponsor's arrival.
character_event = {
	id = HF.20064
	desc = EVTDESCHF20064
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	trigger = { #If at any time the agreement is broken for whatever reason, abort the whole chain.
		event_target:sponsoring_king = { 
			has_opinion_modifier = { 
				who = event_target:converting_king 
				modifier = opinion_baptism_sponsor_target 
			}
		}
		is_incapable = no
	}

	fail_trigger_effect = {
		if = { 
			limit = { is_incapable = yes }
			event_target:sponsoring_king = { character_event = { id = HF.20098 } } 
		}
	}
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20064
		wealth = -200
		hidden_tooltip = { set_variable = { which = converter_goodwill value = 4 } }
		set_character_flag = flag_converter_feast_4
		hidden_tooltip = { event_target:sponsoring_king = { character_event = { id = HF.20065 days = 5 random = 5 } } }
		ai_chance = { factor = 25
		 	modifier = { 
		 		factor = 0.1
		 		NOT = { wealth = 100 }
			}
		 	modifier = { 
		 		factor = 0
		 		NOT = { wealth = 50 }
			}
		}
	}
	option = { 
		name = EVTOPTBHF20064
		wealth = -100
		hidden_tooltip = { set_variable = { which = converter_goodwill value = 3 } }
		set_character_flag = flag_converter_feast_3
		hidden_tooltip = { event_target:sponsoring_king = { character_event = { id = HF.20065 days = 5 random = 5 } } }
		ai_chance = { factor = 25 
		 	modifier = { 
		 		factor = 0.1
		 		NOT = { wealth = 100 }
			}
		}
	}
	option = { 
		name = EVTOPTCHF20064
		wealth = -50
		hidden_tooltip = { set_variable = { which = converter_goodwill value = 2 } }
		set_character_flag = flag_converter_feast_2
		hidden_tooltip = { event_target:sponsoring_king = { character_event = { id = HF.20065 days = 5 random = 5 } } }
		ai_chance = { factor = 25 
		 	modifier = { 
		 		factor = 0.1
		 		NOT = { wealth = 50 }
			}
		}
	}
	option = { 
		name = EVTOPTDHF20064
		hidden_tooltip = { set_variable = { which = converter_goodwill value = 1 } }
		set_character_flag = flag_converter_feast_1
		hidden_tooltip = { event_target:sponsoring_king = { character_event = { id = HF.20065 days = 5 random = 5 } } }
		ai_chance = { factor = 25 
		 	modifier = { 
		 		factor = 1.5
		 		trait = greedy
			}
		 	modifier = { 
		 		factor = 0.5
		 		trait = charitable
			}
		}
	}
}

#Sponsor: The travel
character_event = {
	id = HF.20065
	desc = EVTDESCHF20065
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	trigger = { #If at any time the agreement is broken for whatever reason, abort the whole chain.
		event_target:converting_king = { 
			is_ruler = yes
			is_alive = yes
		}
		event_target:sponsoring_king = { 
			is_ruler = yes
			is_alive = yes
			has_opinion_modifier = { 
				who = event_target:converting_king 
				modifier = opinion_baptism_sponsor_target 
			}
		}
		is_incapable = no
	}
	fail_trigger_effect = {
		if = { 
			limit = { is_incapable = yes }
			event_target:converting_king = { character_event = { id = HF.20099 } } 
		}
	}
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20065
		piety = 100
		hidden_tooltip = { FROM = { character_event = { id = HF.20066 days = 15 random = 5 } } }
		ai_chance = { factor = 100 }
	}
}

#Converter: Sponsor is arriving. Who goes to greet him?
character_event = {
	id = HF.20066
	desc = EVTDESCHF20066
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	trigger = { #If at any time the agreement is broken for whatever reason, abort the whole chain.
		event_target:converting_king = { 
			is_ruler = yes
			is_alive = yes
		}
		event_target:sponsoring_king = { 
			is_ruler = yes
			is_alive = yes
			has_opinion_modifier = { 
				who = event_target:converting_king 
				modifier = opinion_baptism_sponsor_target 
			}
		}
		is_incapable = no
	}
	fail_trigger_effect = {
		if = { 
			limit = { is_incapable = yes }
			event_target:sponsoring_king = { character_event = { id = HF.20098 } } 
		}
	}
	
	is_triggered_only = yes

	option = { #Converter and the missionary chaplain go meet him.
		name = EVTOPTAHF20066
		trigger = { 
			event_target:convert_lord_spiritual = { 
				has_job_title = job_spiritual 
				liege = { character = ROOT }
			}
		}
		prestige = -100
		piety = 100
		hidden_tooltip = { change_variable = { which = converter_goodwill value = 3 } }
		set_character_flag = flag_converter_missionary_welcome
		hidden_tooltip = { FROM = { character_event = { id = HF.20067 } } }
		ai_chance = { factor = 25 }
	}
	option = { #Converter goes to meet him.
		name = EVTOPTBHF20066
		prestige = -100
		hidden_tooltip = { change_variable = { which = converter_goodwill value = 2 } }
		set_character_flag = flag_converter_welcome
		hidden_tooltip = { FROM = { character_event = { id = HF.20067 } } }
		ai_chance = { factor = 25 }
	}
	option = { #The missionary chaplain goes to meet him.
		name = EVTOPTCHF20066
		trigger = { 
			event_target:convert_lord_spiritual = { 
				has_job_title = job_spiritual 
				liege = { character = ROOT }
			}
		}
		piety = 50
		hidden_tooltip = { change_variable = { which = converter_goodwill value = 1 } }
		set_character_flag = flag_missionary_welcome
		hidden_tooltip = { FROM = { character_event = { id = HF.20067 } } }
		ai_chance = { factor = 25 
		 	modifier = { 
		 		factor = 1.5
		 		trait = shy
			}
		 	modifier = { 
		 		factor = 0.5
		 		trait = gregarious
			}
		}
	}
	option = { 
		name = EVTOPTDHF20066
		set_character_flag = flag_sponsor_no_welcome
		hidden_tooltip = { FROM = { character_event = { id = HF.20067 } } }
		ai_chance = { factor = 25 
		 	modifier = { 
		 		factor = 1.5
		 		trait = shy
			}
		 	modifier = { 
		 		factor = 0.5
		 		trait = gregarious
			}
		}
	}
}

#Sponsor: Arrival at the Converter's realm.
character_event = {
	id = HF.20067
	desc = {
		trigger = { FROM = { has_character_flag = flag_converter_missionary_welcome } }
		text = EVTDESCAHF20067
	}
	desc = {
		trigger = { FROM = { has_character_flag = flag_converter_welcome } }
		text = EVTDESCBHF20067
	}
	desc = {
		trigger = { FROM = { has_character_flag = flag_missionary_welcome } }
		text = EVTDESCCHF20067
	}
	desc = {
		trigger = { FROM = { has_character_flag = flag_sponsor_no_welcome } }
		text = EVTDESCDHF20067
	}
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	trigger = { #If at any time the agreement is broken for whatever reason, abort the whole chain.
		event_target:converting_king = { 
			is_ruler = yes
			is_alive = yes
		}
		event_target:sponsoring_king = { 
			has_opinion_modifier = { 
				who = event_target:converting_king 
				modifier = opinion_baptism_sponsor_target 
			}
		}
		is_incapable = no
	}
	fail_trigger_effect = {
		if = { 
			limit = { is_incapable = yes }
			event_target:converting_king = { character_event = { id = HF.20099 } } 
		}
	}
	
	is_triggered_only = yes

	option = { #Happy of welcome
		name = EVTOPTAHF20067
		trigger = { NOT = { FROM = { has_character_flag = flag_sponsor_no_welcome } } }
		custom_tooltip = { text = TOOLTIP_SPONSOR_VISIT_WELCOME_1 }
		piety = 25
		 if = { 
		 	limit = { FROM = { has_character_flag = flag_missionary_welcome } }
			FROM = { piety = 50 }
		}
		 if = { 
		 	limit = { FROM = { has_character_flag = flag_converter_welcome } }
			FROM = { prestige = 50 }
		}
		 if = { 
		 	limit = { FROM = { has_character_flag = flag_converter_missionary_welcome } }
			FROM = { 
				prestige = 50
				piety = 50 
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = HF.20068 } } }
		ai_chance = { factor = 60 
		 	modifier = { 
		 		factor = 0.9
		 		trait = shy
			}
		 	modifier = { 
		 		factor = 0.9
		 		trait = paranoid
			}
		 	modifier = { 
		 		factor = 0.9
		 		trait = cruel
			}
		 	modifier = { 
		 		factor = 0.75
		 		FROM = { has_character_flag = flag_sponsor_no_welcome }
			}
		}
	}
	option = { #Happy of welcome even if there's no welcome
		name = EVTOPTCHF20067
		trigger = { FROM = { has_character_flag = flag_sponsor_no_welcome } }
		custom_tooltip = { text = TOOLTIP_SPONSOR_VISIT_WELCOME_1 }
		piety = 30
		FROM = { prestige = -50 }
		hidden_tooltip = { FROM = { character_event = { id = HF.20068 } } }
		ai_chance = { factor = 20 
		 	modifier = { 
		 		factor = 1.5
		 		trait = shy
			}
		 	modifier = { 
		 		factor = 0.7
		 		trait = paranoid
			}
		 	modifier = { 
		 		factor = 0.5
		 		trait = gregarious
			}
		 	modifier = { 
		 		factor = 0.75
		 		FROM = { has_character_flag = flag_sponsor_no_welcome }
			}
		}
	}
	option = { #Unhappy of welcome
		name = EVTOPTBHF20067
		custom_tooltip = { text = TOOLTIP_SPONSOR_VISIT_WELCOME_2 }
		piety = -25
		FROM = { prestige = -50 }
		hidden_tooltip = { FROM = { change_variable = { which = converter_goodwill value = -1 } } }
		hidden_tooltip = { FROM = { character_event = { id = HF.20069 } } }
		ai_chance = { factor = 40 
		 	modifier = { 
		 		factor = 0.9
		 		trait = gregarious
			}
		 	modifier = { 
		 		factor = 0.9
		 		trait = trusting
			}
		 	modifier = { 
		 		factor = 0.9
		 		trait = kind
			}
		 	modifier = { 
		 		factor = 0.8
		 		FROM = { has_character_flag = flag_missionary_welcome }
			}
		 	modifier = { 
		 		factor = 0.6
		 		FROM = { has_character_flag = flag_converter_welcome }
			}
		 	modifier = { 
		 		factor = 0.4
		 		FROM = { has_character_flag = flag_converter_missionary_welcome }
			}
		}
	}
}

#Converter: Sponsor liked your welcome
character_event = {
	id = HF.20068
	desc = {
		trigger = { has_character_flag = flag_converter_missionary_welcome }
		text = EVTDESCAHF20068
	}
	desc = {
		trigger = { has_character_flag = flag_converter_welcome }
		text = EVTDESCBHF20068
	}
	desc = {
		trigger = { has_character_flag = flag_missionary_welcome }
		text = EVTDESCCHF20068
	}
	desc = {
		trigger = { has_character_flag = flag_sponsor_no_welcome }
		text = EVTDESCDHF20068
	}
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes
	trigger = { is_incapable = no }

	fail_trigger_effect = {
		if = { 
			limit = { is_incapable = yes }
			event_target:sponsoring_king = { character_event = { id = HF.20098 } } 
		}
	}
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20068
		tooltip = { 
			if = { 
				limit = { has_character_flag = flag_sponsor_no_welcome } 
				prestige = -50
			} 
			 if = { 
			 	limit = { has_character_flag = flag_missionary_welcome }
				piety = 50
			}
			 if = { 
			 	limit = { has_character_flag = flag_converter_welcome }
				prestige = 50
			}
			 if = { 
			 	limit = { has_character_flag = flag_converter_missionary_welcome }
				prestige = 50
				piety = 50 
			}
		}
		clr_character_flag = flag_converter_missionary_welcome
		clr_character_flag = flag_converter_welcome
		clr_character_flag = flag_missionary_welcome
		clr_character_flag = flag_sponsor_no_welcome
		hidden_tooltip = { FROM = { character_event = { id = HF.20070 days = 4 } } } #Feast
		ai_chance = { factor = 100 }
	}
}

#Converter: Sponsor did not like your welcome
character_event = {
	id = HF.20069
	desc = {
		trigger = { has_character_flag = flag_converter_missionary_welcome }
		text = EVTDESCAHF20069
	}
	desc = {
		trigger = { has_character_flag = flag_converter_welcome }
		text = EVTDESCBHF20069
	}
	desc = {
		trigger = { has_character_flag = flag_missionary_welcome }
		text = EVTDESCCHF20069
	}
	desc = {
		trigger = { has_character_flag = flag_sponsor_no_welcome }
		text = EVTDESCDHF20069
	}
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes
	trigger = { is_incapable = no }

	fail_trigger_effect = {
		if = { 
			limit = { is_incapable = yes }
			event_target:sponsoring_king = { character_event = { id = HF.20098 } } 
		}
	}
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20069
		tooltip = { prestige = -50 }
		clr_character_flag = flag_converter_missionary_welcome
		clr_character_flag = flag_converter_welcome
		clr_character_flag = flag_missionary_welcome
		clr_character_flag = flag_sponsor_no_welcome
		hidden_tooltip = { FROM = { character_event = { id = HF.20070 days = 4 } } } #Feast
		ai_chance = { factor = 100 }
	}
}

#Sponsor: At the Converter's welcoming feast.
character_event = {
	id = HF.20070
	desc = {
		trigger = { FROM = { has_character_flag = flag_converter_feast_4 } }
		text = EVTDESCAHF20070
	}
	desc = {
		trigger = { FROM = { has_character_flag = flag_converter_feast_3 } }
		text = EVTDESCBHF20070
	}
	desc = {
		trigger = { FROM = { has_character_flag = flag_converter_feast_2 } }
		text = EVTDESCCHF20070
	}
	desc = {
		trigger = { FROM = { has_character_flag = flag_converter_feast_1 } }
		text = EVTDESCDHF20070
	}
	picture = GFX_evt_fancy_feast
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	trigger = { #If at any time the agreement is broken for whatever reason, abort the whole chain.
		event_target:converting_king = { 
			is_ruler = yes
			is_alive = yes
		}
		event_target:sponsoring_king = { 
			is_ruler = yes
			is_alive = yes
			has_opinion_modifier = { 
				who = event_target:converting_king 
				modifier = opinion_baptism_sponsor_target 
			}
		}
		is_incapable = no
	}
	fail_trigger_effect = {
		if = { 
			limit = { is_incapable = yes }
			event_target:converting_king = { character_event = { id = HF.20099 } } 
		}
	}
	
	immediate = {  
		set_character_flag = flag_sponsor_visit_midway 	#Added to give piety boon in case the visit is interrupted by converter's death.
	}

	is_triggered_only = yes

	option = { #Happy of feast
		name = EVTOPTAHF20070
		custom_tooltip = { text = TOOLTIP_SPONSOR_VISIT_FEAST_1 }
		trigger = { 
			NOT = { FROM = { has_character_flag = flag_converter_feast_1 } } 
			NOT = { FROM = { has_character_flag = flag_converter_feast_2 } } 
		}
		prestige = 100
		 if = { 
		 	limit = { FROM = { has_character_flag = flag_converter_feast_2 } }
			FROM = { prestige = 50 }
		}
		 if = { 
		 	limit = { FROM = { has_character_flag = flag_converter_feast_3 } }
			FROM = { prestige = 150 }
		}
		 if = { 
		 	limit = { FROM = { has_character_flag = flag_converter_feast_4 } }
			FROM = { prestige = 250	}
		}
		hidden_tooltip = { FROM = { character_event = { id = HF.20071 } } }
		ai_chance = { factor = 60 
		 	modifier = { 
		 		factor = 0.9
		 		trait = shy
			}
		 	modifier = { 
		 		factor = 0.9
		 		trait = paranoid
			}
		 	modifier = { 
		 		factor = 0.9
		 		trait = cruel
			}
		 	modifier = { 
		 		factor = 1.2
		 		religion_group = pagan_group
			}
		 	modifier = { 
		 		factor = 0.75
		 		FROM = { has_character_flag = flag_converter_feast_1 }
			}
		}
	}
	option = { #Happy of small feast
		name = EVTOPTDHF20070
		custom_tooltip = { text = TOOLTIP_SPONSOR_VISIT_FEAST_1 }
		trigger = { 
			FROM = { has_character_flag = flag_converter_feast_2 } 
		}
		prestige = 100
		 if = { 
		 	limit = { FROM = { has_character_flag = flag_converter_feast_2 } }
			FROM = { prestige = 50 }
		}
		 if = { 
		 	limit = { FROM = { has_character_flag = flag_converter_feast_3 } }
			FROM = { prestige = 150 }
		}
		 if = { 
		 	limit = { FROM = { has_character_flag = flag_converter_feast_4 } }
			FROM = { prestige = 250	}
		}
		hidden_tooltip = { FROM = { character_event = { id = HF.20071 } } }
		ai_chance = { factor = 60 
		 	modifier = { 
		 		factor = 0.9
		 		trait = shy
			}
		 	modifier = { 
		 		factor = 0.9
		 		trait = paranoid
			}
		 	modifier = { 
		 		factor = 0.9
		 		trait = cruel
			}
		 	modifier = { 
		 		factor = 1.2
		 		religion_group = pagan_group
			}
		 	modifier = { 
		 		factor = 0.75
		 		FROM = { has_character_flag = flag_converter_feast_1 }
			}
		}
	}
	option = { #Happy of feast even if there was no feast.
		name = EVTOPTCHF20070
		custom_tooltip = { text = TOOLTIP_SPONSOR_VISIT_FEAST_1 }
		piety = 100
		FROM = { prestige = -100 }
		trigger = { FROM = { has_character_flag = flag_converter_feast_1 } }
		hidden_tooltip = { FROM = { character_event = { id = HF.20071 } } }
		ai_chance = { factor = 20 
		 	modifier = { 
		 		factor = 1.75
		 		trait = shy
			}
		 	modifier = { 
		 		factor = 0.7
		 		trait = paranoid
			}
		 	modifier = { 
		 		factor = 0.5
		 		trait = gregarious
			}
		 	modifier = { 
		 		factor = 1.2
		 		religion_group = pagan_group
			}
		 	modifier = { 
		 		factor = 0.75
		 		FROM = { has_character_flag = flag_converter_feast_1 }
			}
		}
	}
	option = { #Unhappy of feast
		name = EVTOPTBHF20070
		custom_tooltip = { text = TOOLTIP_SPONSOR_VISIT_FEAST_2 }
		piety = -50
		FROM = { prestige = -75 }
		hidden_tooltip = { FROM = { change_variable = { which = converter_goodwill value = -2 } } }
		hidden_tooltip = { FROM = { character_event = { id = HF.20072 } } }
		ai_chance = { factor = 40 
		 	modifier = { 
		 		factor = 0.9
		 		trait = gregarious
			}
		 	modifier = { 
		 		factor = 0.9
		 		trait = trusting
			}
		 	modifier = { 
		 		factor = 0.9
		 		trait = kind
			}
		 	modifier = { 
		 		factor = 0.9
		 		trait = drunkard
			}
		 	modifier = { 
		 		factor = 0.9
		 		trait = gluttonous
			}
		 	modifier = { 
		 		factor = 0.7
		 		trait = hedonist
		 		FROM = { NOT = { has_character_flag = flag_converter_feast_1 } }
			}
		 	modifier = { 
		 		factor = 0.8
		 		FROM = { has_character_flag = flag_converter_feast_2 }
			}
		 	modifier = { 
		 		factor = 0.6
		 		FROM = { has_character_flag = flag_converter_feast_3 }
			}
		 	modifier = { 
		 		factor = 0.4
		 		FROM = { has_character_flag = flag_converter_feast_4 }
			}
		}
	}
}


#Converter: Sponsor liked your feast
character_event = {
	id = HF.20071
	desc = {
		trigger = { has_character_flag = flag_converter_feast_4 }
		text = EVTDESCAHF20071
	}
	desc = {
		trigger = { has_character_flag = flag_converter_feast_3 }
		text = EVTDESCBHF20071
	}
	desc = {
		trigger = { has_character_flag = flag_converter_feast_2 }
		text = EVTDESCCHF20071
	}
	desc = {
		trigger = { has_character_flag = flag_converter_feast_1 }
		text = EVTDESCDHF20071
	}
	picture = GFX_evt_fancy_feast
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20071
		tooltip = { 
			 if = { 
			 	limit = { has_character_flag = flag_converter_feast_2 }
				prestige = 50
			}
			 if = { 
			 	limit = { has_character_flag = flag_converter_feast_3 }
				prestige = 150
			}
			 if = { 
			 	limit = { has_character_flag = flag_converter_feast_4 }
				prestige = 250
			}
		}
		clr_character_flag = flag_converter_feast_4
		clr_character_flag = flag_converter_feast_3
		clr_character_flag = flag_converter_feast_2
		clr_character_flag = flag_converter_feast_1
		hidden_tooltip = { character_event = { id = HF.20073 days = 1 } } #Private meeting time
		ai_chance = { factor = 100 }
	}
}
#Converter: Sponsor did not like your feast
character_event = {
	id = HF.20072
	desc = {
		trigger = { has_character_flag = flag_converter_feast_4 }
		text = EVTDESCAHF20072
	}
	desc = {
		trigger = { has_character_flag = flag_converter_feast_3 }
		text = EVTDESCBHF20072
	}
	desc = {
		trigger = { has_character_flag = flag_converter_feast_2 }
		text = EVTDESCCHF20072
	}
	desc = {
		trigger = { has_character_flag = flag_converter_feast_1 }
		text = EVTDESCDHF20072
	}
	picture = GFX_evt_fancy_feast
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20072
		tooltip = { prestige = -75 }
		clr_character_flag = flag_converter_feast_4
		clr_character_flag = flag_converter_feast_3
		clr_character_flag = flag_converter_feast_2
		clr_character_flag = flag_converter_feast_1
		hidden_tooltip = { character_event = { id = HF.20073 days = 1 } } #Private meeting time
		ai_chance = { factor = 100 }
	}
}

#Converter: How do you entertain Sponsor the next days? (Choose attribute to use for persuasion check).
character_event = {
	id = HF.20073
	desc = EVTDESCAHF20073
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	is_triggered_only = yes
	option = { #Use diplomacy to improve relations
		name = EVTOPTAHF20073
		#tooltip_info = diplomacy
		set_character_flag = flag_converter_diplomacy_check
		hidden_tooltip = { 
			random_list = { 
				50 = { #Persuasion success
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = diplomacy  value = 3 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = diplomacy  value = 4 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = diplomacy  value = 5 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = diplomacy  value = 6 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = diplomacy  value = 7 }
					}
					modifier = { factor = 1.5 
						attribute_diff = { character = event_target:sponsoring_king attribute = diplomacy  value = 8 }
					}
					modifier = { factor = 1.5 
						attribute_diff = { character = event_target:sponsoring_king attribute = diplomacy  value = 9 }
					}
					modifier = { factor = 1.75 
						attribute_diff = { character = event_target:sponsoring_king attribute = diplomacy  value = 10 }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = diplomacy  value = 3 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = diplomacy  value = 4 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = diplomacy  value = 5 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = diplomacy  value = 6 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = diplomacy  value = 7 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = diplomacy  value = 8 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = diplomacy  value = 9 } }
					}
					modifier = { factor = 0.75 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = diplomacy  value = 10 } }
					}
					modifier = { factor = 1.25 
						trait = underhanded_rogue
					}
					modifier = { factor = 1.5 
						trait = charismatic_negotiator
					}
					modifier = { factor = 1.75 
						trait = grey_eminence
					}
					modifier = { factor = 1.5 
						trait = gregarious
					}
					modifier = { factor = 1.5 
						trait = socializer
					}
					modifier = { factor = 1.5 
						trait = hedonist
					}
					modifier = { factor = 1.4
						is_feudal = yes
					}


					modifier = { factor = 1.75 
						trait = genius
					}
					modifier = { factor = 1.5 
						trait = quick
					}
					modifier = { factor = 0.75 
						trait = slow
					}
					modifier = { factor = 0.5 
						trait = imbecile
					}
					modifier = { factor = 0.5 
						trait = inbred
					}
					event_target:sponsoring_king = { character_event = { id = HF.20074 days = 3 random = 3 } }
				} 
				50 = { #Persuasion failure
					event_target:sponsoring_king = { character_event = { id = HF.20075 days = 3 random = 3 } }
				} 
			} 
		} 
		ai_chance = { factor = 25 
			modifier = { factor = 0.5 
			NOT = { diplomacy = 8 }
			}
			modifier = { factor = 2
			diplomacy = 12
			}
		}
	}

	option = { #Use martial to improve relation
		name = EVTOPTBHF20073
		#tooltip_info = martial
		set_character_flag = flag_converter_martial_check
		hidden_tooltip = { 
			random_list = { 
				50 = { #Persuasion success
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = martial  value = 3 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = martial  value = 4 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = martial  value = 5 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = martial  value = 6 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = martial  value = 7 }
					}
					modifier = { factor = 1.5 
						attribute_diff = { character = event_target:sponsoring_king attribute = martial  value = 8 }
					}
					modifier = { factor = 1.5 
						attribute_diff = { character = event_target:sponsoring_king attribute = martial  value = 9 }
					}
					modifier = { factor = 1.75 
						attribute_diff = { character = event_target:sponsoring_king attribute = martial  value = 10 }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = martial  value = 3 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = martial  value = 4 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = martial  value = 5 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = martial  value = 6 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = martial  value = 7 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = martial  value = 8 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = martial  value = 9 } }
					}
					modifier = { factor = 0.75 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = martial  value = 10 } }
					}
					modifier = { factor = 1.25 
						trait = tough_soldier
					}
					modifier = { factor = 1.5 
						trait = skilled_tactician
					}
					modifier = { factor = 1.75 
						trait = brilliant_strategist
					}
					modifier = { factor = 1.5 
						trait = brave
					}
					modifier = { factor = 1.5 
						trait = strategist
					}
					modifier = { factor = 1.5 
						trait = gamer
					}
					modifier = { factor = 1.4
						is_feudal = yes
					}


					modifier = { factor = 1.75 
						trait = genius
					}
					modifier = { factor = 1.5 
						trait = quick
					}
					modifier = { factor = 0.75 
						trait = slow
					}
					modifier = { factor = 0.5 
						trait = imbecile
					}
					modifier = { factor = 0.5 
						trait = inbred
					}
					event_target:sponsoring_king = { character_event = { id = HF.20074 days = 3 random = 3 } }
				} 
				50 = { #Persuasion failure
					event_target:sponsoring_king = { character_event = { id = HF.20075 days = 3 random = 3 } }
				} 
			} 
		} 
		ai_chance = { factor = 25 
			modifier = { factor = 0.5 
			NOT = { martial = 8 }
			}
			modifier = { factor = 2
			martial = 12
			}
		}
	}
	option = { #Use intrigue to improve relation
		name = EVTOPTCHF20073
		#tooltip_info = intrigue
		set_character_flag = flag_converter_intrigue_check
		hidden_tooltip = { 
			random_list = { 
				50 = { #Persuasion success
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = intrigue  value = 3 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = intrigue  value = 4 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = intrigue  value = 5 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = intrigue  value = 6 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = intrigue  value = 7 }
					}
					modifier = { factor = 1.5 
						attribute_diff = { character = event_target:sponsoring_king attribute = intrigue  value = 8 }
					}
					modifier = { factor = 1.5 
						attribute_diff = { character = event_target:sponsoring_king attribute = intrigue  value = 9 }
					}
					modifier = { factor = 1.75 
						attribute_diff = { character = event_target:sponsoring_king attribute = intrigue  value = 10 }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = intrigue  value = 3 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = intrigue  value = 4 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = intrigue  value = 5 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = intrigue  value = 6 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = intrigue  value = 7 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = intrigue  value = 8 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = intrigue  value = 9 } }
					}
					modifier = { factor = 0.75 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = intrigue  value = 10 } }
					}
					modifier = { factor = 1.25 
						trait = flamboyant_schemer
					}
					modifier = { factor = 1.5 
						trait = intricate_webweaver
					}
					modifier = { factor = 1.75 
						trait = elusive_shadow
					}
					modifier = { factor = 1.5 
						trait = deceitful
					}
					modifier = { factor = 1.5 
						trait = seducer
						event_target:sponsoring_king = { 
							OR = { 
								is_female = yes
								trait = homosexual
						 	} 
						 }
					}
					modifier = { factor = 1.5 
						trait = seductress
						event_target:sponsoring_king = { 
							OR = { 
								NOT = { is_female = yes } 
								trait = homosexual
						 	} 
						}
					}
					modifier = { factor = 1.4
						is_feudal = yes
					}


					modifier = { factor = 1.75 
						trait = genius
					}
					modifier = { factor = 1.5 
						trait = quick
					}
					modifier = { factor = 0.75 
						trait = slow
					}
					modifier = { factor = 0.5 
						trait = imbecile
					}
					modifier = { factor = 0.5 
						trait = inbred
					}
					event_target:sponsoring_king = { character_event = { id = HF.20074 days = 3 random = 3 } }
				} 
				50 = { #Persuasion failure
					event_target:sponsoring_king = { character_event = { id = HF.20075 days = 3 random = 3 } }
				} 
			} 
		} 
		ai_chance = { factor = 25 
			modifier = { factor = 0.5 
			NOT = { intrigue = 8 }
			}
			modifier = { factor = 2
			intrigue = 12
			}
		}
	}
	option = { #Use learning to improve relation
		name = EVTOPTDHF20073
		#tooltip_info = learning
		set_character_flag = flag_converter_learning_check
		hidden_tooltip = { 
			random_list = { 
				50 = { #Persuasion success
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = learning  value = 3 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = learning  value = 4 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = learning  value = 5 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = learning  value = 6 }
					}
					modifier = { factor = 1.25 
						attribute_diff = { character = event_target:sponsoring_king attribute = learning  value = 7 }
					}
					modifier = { factor = 1.5 
						attribute_diff = { character = event_target:sponsoring_king attribute = learning  value = 8 }
					}
					modifier = { factor = 1.5 
						attribute_diff = { character = event_target:sponsoring_king attribute = learning  value = 9 }
					}
					modifier = { factor = 1.75 
						attribute_diff = { character = event_target:sponsoring_king attribute = learning  value = 10 }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = learning  value = 3 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = learning  value = 4 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = learning  value = 5 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = learning  value = 6 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = learning  value = 7 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = learning  value = 8 } }
					}
					modifier = { factor = 0.85 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = learning  value = 9 } }
					}
					modifier = { factor = 0.75 
						event_target:sponsoring_king = { attribute_diff = { character = ROOT attribute = learning  value = 10 } }
					}
					modifier = { factor = 1.25 
						trait = martial_cleric
					}
					modifier = { factor = 1.5 
						trait = scholarly_theologian
					}
					modifier = { factor = 1.75 
						trait = mastermind_theologian
					}
					modifier = { factor = 1.5 
						trait = zealous
					}
					modifier = { factor = 1.5 
						trait = scholar
					}
					modifier = { factor = 1.5 
						trait = mystic
					}
					modifier = { factor = 1.4
						is_feudal = yes
					}


					modifier = { factor = 1.75 
						trait = genius
					}
					modifier = { factor = 1.5 
						trait = quick
					}
					modifier = { factor = 0.75 
						trait = slow
					}
					modifier = { factor = 0.5 
						trait = imbecile
					}
					modifier = { factor = 0.5 
						trait = inbred
					}
					event_target:sponsoring_king = { character_event = { id = HF.20074 days = 3 random = 3 } }
				} 
				50 = { #Persuasion failure
					event_target:sponsoring_king = { character_event = { id = HF.20075 days = 3 random = 3 } }
				} 
			} 
		} 
		ai_chance = { factor = 25 
			modifier = { factor = 0.5 
			NOT = { learning = 8 }
			}
			modifier = { factor = 2
			learning = 12
			}
		}
	}
}

#Sponsor: Impressed by Converter's skills
character_event = {
	id = HF.20074
	desc = {
		trigger = { FROM = { has_character_flag = flag_converter_diplomacy_check } }
		text = EVTDESCAHF20074
	}
	desc = {
		trigger = { FROM = { has_character_flag = flag_converter_martial_check } }
		text = EVTDESCBHF20074
	}
	desc = {
		trigger = { FROM = { has_character_flag = flag_converter_intrigue_check } }
		text = EVTDESCCHF20074
	}
	desc = {
		trigger = { FROM = { has_character_flag = flag_converter_learning_check } }
		text = EVTDESCDHF20074
	}
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	trigger = { #If at any time the agreement is broken for whatever reason, abort the whole chain.
		event_target:converting_king = { 
			is_ruler = yes
			is_alive = yes
		}
		event_target:sponsoring_king = { 
			is_ruler = yes
			is_alive = yes
			has_opinion_modifier = { 
				who = event_target:converting_king 
				modifier = opinion_baptism_sponsor_target 
			}
		}
		is_incapable = no
	}
	fail_trigger_effect = {
		if = { 
			limit = { is_incapable = yes }
			event_target:converting_king = { character_event = { id = HF.20099 } } 
		}
	}
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20074
		custom_tooltip = { text = visit_sponsor_impressed }
		if = { 
			limit = { 
				FROM =  { 
					OR = {  
						has_character_flag = flag_converter_diplomacy_check
						has_character_flag = flag_converter_intrigue_check
					}
				} 
			} 
			change_diplomacy = 1
		}
		if = { 
			limit = { 
				FROM =  { has_character_flag = flag_converter_martial_check	} 
			} 
			change_martial = 1
		}
		if = { 
			limit = { 
				FROM =  { has_character_flag = flag_converter_learning_check } 
			} 
			change_learning = 1
		}
		hidden_tooltip = { FROM = { change_variable = { which = converter_goodwill value = 5 } } }
		hidden_tooltip = { FROM = { character_event = { id = HF.20076 } } } #Converter can pick a present use the goodwill.
		hidden_tooltip = { FROM = { character_event = { id = HF.20088 days = 5 } } } #The Visit ends.
	}
}

#Sponsor: Not impressed by Converter's skills
character_event = {
	id = HF.20075
	desc = {
		trigger = { FROM = { has_character_flag = flag_converter_diplomacy_check } }
		text = EVTDESCAHF20075
	}
	desc = {
		trigger = { FROM = { has_character_flag = flag_converter_martial_check } }
		text = EVTDESCBHF20075
	}
	desc = {
		trigger = { FROM = { has_character_flag = flag_converter_intrigue_check } }
		text = EVTDESCCHF20075
	}
	desc = {
		trigger = { FROM = { has_character_flag = flag_converter_learning_check } }
		text = EVTDESCDHF20075
	}
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	trigger = { #If at any time the agreement is broken for whatever reason, abort the whole chain.
		event_target:converting_king = { 
			is_ruler = yes
			is_alive = yes
		}
		event_target:sponsoring_king = { 
			is_ruler = yes
			is_alive = yes
			has_opinion_modifier = { 
				who = event_target:converting_king 
				modifier = opinion_baptism_sponsor_target 
			}
		}
		is_incapable = no
	}
	fail_trigger_effect = {
		if = { 
			limit = { is_incapable = yes }
			event_target:converting_king = { character_event = { id = HF.20099 } } 
		}
	}
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20075
		custom_tooltip = { text = visit_sponsor_not_impressed }
		hidden_tooltip = { FROM = { change_variable = { which = converter_goodwill value = -2 } } }
		hidden_tooltip = { FROM = { character_event = { id = HF.20077 } } } #Converter can pick a present use the goodwill.
		hidden_tooltip = { FROM = { character_event = { id = HF.20088 days = 5 } } } #The Visit ends.
	}
}

#Converter: Sponsor is impressed, time to make your request.
character_event = {
	id = HF.20076
	desc = EVTDESCDHA20076

	picture = GFX_evt_garden
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	trigger = { #If at any time the agreement is broken for whatever reason, abort the whole chain.
		event_target:converting_king = { 
			is_ruler = yes
			is_alive = yes
		}
		event_target:sponsoring_king = { 
			is_ruler = yes
			is_alive = yes
			has_opinion_modifier = { 
				who = event_target:converting_king 
				modifier = opinion_baptism_sponsor_target 
			}
		}
		is_incapable = no
	}
	fail_trigger_effect = {
		if = { 
			limit = { is_incapable = yes }
			event_target:sponsoring_king = { character_event = { id = HF.20098 } } 
		}
	}
	
	is_triggered_only = yes

	immediate = { 
		clr_character_flag = flag_converter_diplomacy_check
		clr_character_flag = flag_converter_martial_check
		clr_character_flag = flag_converter_intrigue_check
		clr_character_flag = flag_converter_learning_check
	}

	option = { #Propose marriage.
		name = EVTOPTAHF20076
		trigger = { 
			is_married = no
			age = 16
			FROM = { 
				is_married = no 
				age = 16
				ai = yes
			}
			OR = { 
				AND = { 
					is_female = yes
					FROM = { is_female = no }
				}
				AND = { 
					is_female = no
					FROM = { is_female = yes }
				}
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = HF.20078 } } } #Sponsor decides
		ai_chance = { factor = 25 
			modifier = { 
				factor = 0.5
				num_of_lovers = 1
			}
		}
	}
	option = { #Declare Love.
		name = EVTOPTBHF20076
		trigger = {
			age = 16
			FROM = { age = 16 }
			NOT = { is_lover = FROM }
			OR = { 
				AND = { 
					is_female = yes
					FROM = { is_female = no }
				}
				AND = { 
					is_female = no
					FROM = { is_female = yes }
				}
				AND = { 
					is_female = no
					trait = homosexual
					FROM = { is_female = no }
				}
				AND = { 
					is_female = yes
					trait = homosexual
					FROM = { is_female = yes }
				}
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = HF.20079 } } } #Sponsor decides
		ai_chance = { factor = 25 
			modifier = { 
				factor = 0.5
				num_of_lovers = 1
			}
			modifier = { 
				factor = 0
				num_of_lovers = 3
			}
		}
	}
	option = { #Ask friendship.
		name = EVTOPTCHF20076
		trigger = {	NOT = { is_friend = FROM } }
		hidden_tooltip = { FROM = { character_event = { id = HF.20080 } } } #Sponsor decides
		ai_chance = { factor = 25 
			modifier = { 
				factor = 0.5
				num_of_lovers = 1
			}
			modifier = { 
				factor = 0
				num_of_lovers = 3
			}
		}
	}
	option = { #Ask Nothing.
		name = EVTOPTDHF20076
		piety = 200
		prestige = 150
		hidden_tooltip = { FROM = { character_event = { id = HF.20081 } } } #Sponsor notified
		ai_chance = { factor = 25 }
	}
}


#Converter: Sponsor is not impressed, time to make your request.
character_event = {
	id = HF.20077
	desc = EVTDESCDHA20077
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	trigger = { #If at any time the agreement is broken for whatever reason, abort the whole chain.
		event_target:converting_king = { 
			is_ruler = yes
			is_alive = yes
		}
		event_target:sponsoring_king = { 
			is_ruler = yes
			is_alive = yes
			has_opinion_modifier = { 
				who = event_target:converting_king 
				modifier = opinion_baptism_sponsor_target 
			}
		}
		is_incapable = no
	}
	fail_trigger_effect = {
		if = { 
			limit = { is_incapable = yes }
			event_target:sponsoring_king = { character_event = { id = HF.20098 } } 
		}
	}
	
	is_triggered_only = yes

	immediate = { 
		clr_character_flag = flag_converter_diplomacy_check
		clr_character_flag = flag_converter_martial_check
		clr_character_flag = flag_converter_intrigue_check
		clr_character_flag = flag_converter_learning_check
	}

	option = { #Propose marriage.
		name = EVTOPTAHF20077
		trigger = { 
			is_married = no
			age = 16
			FROM = { 
				is_married = no 
				age = 16
				ai = yes
			}
			OR = { 
				AND = { 
					is_female = yes
					FROM = { is_female = no }
				}
				AND = { 
					is_female = no
					FROM = { is_female = yes }
				}
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = HF.20078 } } } #Sponsor decides
		ai_chance = { factor = 0 }
	}
	option = { #Declare Love.
		name = EVTOPTBHF20077
		trigger = {
			age = 16
			FROM = { age = 16 }
			NOT = { is_lover = FROM }
			OR = { 
				AND = { 
					is_female = yes
					FROM = { is_female = no }
				}
				AND = { 
					is_female = no
					FROM = { is_female = yes }
				}
				AND = { 
					is_female = no
					trait = homosexual
					FROM = { is_female = no }
				}
				AND = { 
					is_female = yes
					trait = homosexual
					FROM = { is_female = yes }
				}
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = HF.20079 } } } #Sponsor decides
		ai_chance = { factor = 0 }
	}
	option = { #Ask friendship.
		name = EVTOPTCHF20077
		trigger = {	NOT = { is_friend = FROM } }
		hidden_tooltip = { FROM = { character_event = { id = HF.20080 } } } #Sponsor decides
		ai_chance = { factor = 0 }
	}
	option = { #Ask Nothing.
		name = EVTOPTDHF20077
		if = { 
			limit = { FROM = { check_variable = { which = converter_goodwill value = 5 } } }
			tooltip = {
				FROM = {
					opinion = {
						modifier = opinion_happy
						years = 10
						who = ROOT
					}
				}
			}
		}
		if = { 
			limit = { FROM = { NOT = { check_variable = { which = converter_goodwill value = 0 } } } }
			tooltip = {
				FROM = {
					opinion = {
						modifier = opinion_unhappy
						years = 10
						who = ROOT
					}
				}
			}
		}
		piety = 200
		prestige = 150
		hidden_tooltip = { FROM = { character_event = { id = HF.20081 } } } #Sponsor notified
		ai_chance = { factor = 100 }
	}
}

#Sponsor: Converter proposed a marriage alliance.
character_event = {
	id = HF.20078
	desc = EVTDESCDHA20078

	picture = GFX_evt_rival_rulers
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	trigger = { #If at any time the agreement is broken for whatever reason, abort the whole chain.
		event_target:converting_king = { 
			is_ruler = yes
			is_alive = yes
		}
		event_target:sponsoring_king = { 
			is_ruler = yes
			is_alive = yes
			has_opinion_modifier = { 
				who = event_target:converting_king 
				modifier = opinion_baptism_sponsor_target 
			}
		}
		is_incapable = no
	}
	fail_trigger_effect = {
		if = { 
			limit = { is_incapable = yes }
			event_target:converting_king = { character_event = { id = HF.20099 } } 
		}
	}
	
	is_triggered_only = yes

	option = { #Agree
		name = EVTOPTAHF20078
		hidden_tooltip = { FROM = { character_event = { id = HF.20082 } } }
		ai_chance = { factor = 40 
		 	modifier = { 
		 		factor = 0.25
		 		is_foe = FROM
			}
		 	modifier = { 
		 		factor = 0.8
				NOT = { opinion = { who = from value = -20 } }
			}
		 	modifier = { 
		 		factor = 0.8
				NOT = { opinion = { who = from value = -40 } }
			}
		 	modifier = { 
		 		factor = 0.25
				NOT = { opinion = { who = from value = -60 } }
			}
		 	modifier = { 
		 		factor = 0.1
				NOT = { opinion = { who = from value = -80 } }
			}
		}
	}
	option = { #Disagree
		name = EVTOPTBHF20078
		hidden_tooltip = { FROM = { character_event = { id = HF.20083 } } }
		ai_chance = { factor = 60 
		 	modifier = { 
		 		factor = 1.25
		 		trait = paranoid
			}
		 	modifier = { 
		 		factor = 0.5
		 		is_lover = FROM
			}
		 	modifier = { 
		 		factor = 0.75
		 		is_friend = FROM
			}
		 	modifier = { 
		 		factor = 0.9
		 		FROM = { check_variable = { which = converter_goodwill value = 2 } }
			}
		 	modifier = { 
		 		factor = 0.9
		 		FROM = { check_variable = { which = converter_goodwill value = 4 } }
			}
		 	modifier = { 
		 		factor = 0.9
		 		FROM = { check_variable = { which = converter_goodwill value = 6 } }
			}
		 	modifier = { 
		 		factor = 0.8
		 		FROM = { check_variable = { which = converter_goodwill value = 8 } }
			}
		 	modifier = { 
		 		factor = 0.8
		 		FROM = { check_variable = { which = converter_goodwill value = 10 } }
			}
		 	modifier = { 
		 		factor = 0.7
		 		FROM = { check_variable = { which = converter_goodwill value = 12 } }
			}
		 	modifier = { 
		 		factor = 0.5
		 		FROM = { check_variable = { which = converter_goodwill value = 14 } }
			}
		}
	}
}

#Sponsor: Converter declared love.
character_event = {
	id = HF.20079
	desc = EVTDESCDHA20079

	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	trigger = { #If at any time the agreement is broken for whatever reason, abort the whole chain.
		event_target:converting_king = { 
			is_ruler = yes
			is_alive = yes
		}
		event_target:sponsoring_king = { 
			is_ruler = yes
			is_alive = yes
			has_opinion_modifier = { 
				who = event_target:converting_king 
				modifier = opinion_baptism_sponsor_target 
			}
		}
		is_incapable = no
	}
	
	fail_trigger_effect = {
		if = { 
			limit = { is_incapable = yes }
			event_target:converting_king = { character_event = { id = HF.20099 } } 
		}
	}
	is_triggered_only = yes

	option = { #Agree
		name = EVTOPTAHF20079
		if = { 
			limit = { 
				NOT = { trait = homosexual }
				OR = { 
					AND = { 
						is_female = yes 
						FROM = { is_female = yes }
					} 
					AND = { 
						is_female = no
						FROM = { is_female = no }
					} 
				} 
			}
			add_trait = homosexual 
		}
		add_lover = FROM
		hidden_tooltip = { FROM = { character_event = { id = HF.20084 } } }
		ai_chance = { factor = 40 
		 	modifier = { 
		 		factor = 0
		 		is_rival = FROM
			}
		 	modifier = { 
		 		factor = 0.75
		 		num_of_lovers = 1
			}
		 	modifier = { 
		 		factor = 0
		 		num_of_lovers = 3
			}
		 	modifier = { 
		 		factor = 0
				FROM = { is_female = yes }
				is_female = yes
				NOT = { trait = homosexual }
			}
		 	modifier = { 
		 		factor = 0
				FROM = { is_female = no }
				is_female = no
				NOT = { trait = homosexual }
			}
		 	modifier = { 
		 		factor = 0.8
				FROM = { has_ugly_trait_trigger = yes }
			}
		 	modifier = { 
		 		factor = 0.8
				FROM = { trait = harelip }
			}
		 	modifier = { 
		 		factor = 0.8
				FROM = { trait = hunchback }
			}
		 	modifier = { 
		 		factor = 0.8
				FROM = { trait = dwarf }
			}
		 	modifier = { 
		 		factor = 0.8
				FROM = { trait = stutter }
			}
		 	modifier = { 
		 		factor = 0.7
				FROM = { trait = inbred }
			}
		 	modifier = { 
		 		factor = 0.7
				FROM = { trait = disfigured }
			}
		 	modifier = { 
		 		factor = 0.8
				FROM = { trait = mangled }
			}
		 	modifier = { 
		 		factor = 0.8
				NOT = { opinion = { who = from value = 0 } }
			}
		 	modifier = { 
		 		factor = 0.8
				NOT = { opinion = { who = from value = -20 } }
			}
		 	modifier = { 
		 		factor = 0.8
				NOT = { opinion = { who = from value = -40 } }
			}
		 	modifier = { 
		 		factor = 0.25
				NOT = { opinion = { who = from value = -60 } }
			}
		 	modifier = { 
		 		factor = 0.1
				NOT = { opinion = { who = from value = -80 } }
			}
		}
	}
	option = { #Disagree
		name = EVTOPTBHF20079
		hidden_tooltip = { FROM = { character_event = { id = HF.20085 } } }
		ai_chance = { factor = 60 
		 	modifier = { 
		 		factor = 1.25
		 		trait = paranoid
			}
		 	modifier = { 
		 		factor = 0.75
				FROM = { has_fair_trait_trigger = yes }
			}
		 	modifier = { 
		 		factor = 0.75
		 		is_friend = FROM
			}
		 	modifier = { 
		 		factor = 0.8
		 		FROM = { check_variable = { which = converter_goodwill value = 2 } }
			}
		 	modifier = { 
		 		factor = 0.8
		 		FROM = { check_variable = { which = converter_goodwill value = 4 } }
			}
		 	modifier = { 
		 		factor = 0.8
		 		FROM = { check_variable = { which = converter_goodwill value = 6 } }
			}
		 	modifier = { 
		 		factor = 0.7
		 		FROM = { check_variable = { which = converter_goodwill value = 8 } }
			}
		 	modifier = { 
		 		factor = 0.7
		 		FROM = { check_variable = { which = converter_goodwill value = 10 } }
			}
		 	modifier = { 
		 		factor = 0.6
		 		FROM = { check_variable = { which = converter_goodwill value = 12 } }
			}
		 	modifier = { 
		 		factor = 0.4
		 		FROM = { check_variable = { which = converter_goodwill value = 14 } }
			}
		}
	}
}

#Sponsor: Converter wishes to become friend.
character_event = {
	id = HF.20080
	desc = EVTDESCDHA20080

	picture = GFX_evt_courtiers_talking
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	trigger = { #If at any time the agreement is broken for whatever reason, abort the whole chain.
		event_target:converting_king = { 
			is_ruler = yes
			is_alive = yes
		}
		event_target:sponsoring_king = { 
			is_ruler = yes
			is_alive = yes
			has_opinion_modifier = { 
				who = event_target:converting_king 
				modifier = opinion_baptism_sponsor_target 
			}
		}
		is_incapable = no
	}
	fail_trigger_effect = {
		if = { 
			limit = { is_incapable = yes }
			event_target:converting_king = { character_event = { id = HF.20099 } } 
		}
	}
	
	is_triggered_only = yes

	option = { #Agree
		name = EVTOPTAHF20080
		add_friend = FROM
		hidden_tooltip = { FROM = { character_event = { id = HF.20086 } } }
		ai_chance = { factor = 60 
		 	modifier = { 
		 		factor = 0
		 		is_rival = FROM
			}
		 	modifier = { 
		 		factor = 0.75
		 		num_of_friends = 1
			}
		 	modifier = { 
		 		factor = 0.1
		 		num_of_friends = 3
			}
		 	modifier = { 
		 		factor = 0.8
				NOT = { opinion = { who = from value = 0 } }
			}
		 	modifier = { 
		 		factor = 0.8
				NOT = { opinion = { who = from value = -20 } }
			}
		 	modifier = { 
		 		factor = 0.8
				NOT = { opinion = { who = from value = -40 } }
			}
		 	modifier = { 
		 		factor = 0.25
				NOT = { opinion = { who = from value = -60 } }
			}
		 	modifier = { 
		 		factor = 0.1
				NOT = { opinion = { who = from value = -80 } }
			}
		}
	}
	option = { #Disagree
		name = EVTOPTBHF20080
		hidden_tooltip = { FROM = { character_event = { id = HF.20087 } } }
		ai_chance = { factor = 40 
		 	modifier = { 
		 		factor = 1.25
		 		trait = paranoid
			}
		 	modifier = { 
		 		factor = 0.75
		 		is_friend = FROM
			}
		 	modifier = { 
		 		factor = 0.75
				FROM = { has_fair_trait_trigger = yes }
			}
		 	modifier = { 
		 		factor = 0.9
				FROM = { prestige = 300 }
			}
		 	modifier = { 
		 		factor = 0.9
				FROM = { prestige = 500 }
			}
		 	modifier = { 
		 		factor = 0.9
				FROM = { prestige = 700 }
			}
		 	modifier = { 
		 		factor = 0.8
				FROM = { prestige = 900 }
			}
		 	modifier = { 
		 		factor = 0.8
		 		FROM = { check_variable = { which = converter_goodwill value = 2 } }
			}
		 	modifier = { 
		 		factor = 0.8
		 		FROM = { check_variable = { which = converter_goodwill value = 4 } }
			}
		 	modifier = { 
		 		factor = 0.8
		 		FROM = { check_variable = { which = converter_goodwill value = 6 } }
			}
		 	modifier = { 
		 		factor = 0.7
		 		FROM = { check_variable = { which = converter_goodwill value = 8 } }
			}
		 	modifier = { 
		 		factor = 0.7
		 		FROM = { check_variable = { which = converter_goodwill value = 10 } }
			}
		 	modifier = { 
		 		factor = 0.6
		 		FROM = { check_variable = { which = converter_goodwill value = 12 } }
			}
		 	modifier = { 
		 		factor = 0.4
		 		FROM = { check_variable = { which = converter_goodwill value = 14 } }
			}
		}
	}
}

#Sponsor: Converter asks for nothing.
character_event = {
	id = HF.20081
	desc = EVTDESCDHA20081

	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	trigger = { #If at any time the agreement is broken for whatever reason, abort the whole chain.
		event_target:converting_king = { 
			is_ruler = yes
			is_alive = yes
		}
		event_target:sponsoring_king = { 
			is_ruler = yes
			is_alive = yes
			has_opinion_modifier = { 
				who = event_target:converting_king 
				modifier = opinion_baptism_sponsor_target 
			}
		}
		is_incapable = no
	}
	
	fail_trigger_effect = {
		if = { 
			limit = { is_incapable = yes }
			event_target:converting_king = { character_event = { id = HF.20099 } } 
		}
	}
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20081
		if = { 
			limit = { FROM = { check_variable = { which = converter_goodwill value = 5 } } }
			opinion = {
				modifier = opinion_happy
				years = 10
				who = FROM
			}
		}
		if = { 
			limit = { FROM = { NOT = { check_variable = { which = converter_goodwill value = 0 } } } }
			opinion = {
				modifier = opinion_unhappy
				years = 10
				who = FROM
			}
		}
	}
}

#Converter: Sponsor accepted marriage proposal.
character_event = {
	id = HF.20082
	desc = EVTDESCDHA20082

	picture = GFX_evt_marriage
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20082
		prestige = 100
		if = { 
			limit = { is_female = no } 
			add_spouse = FROM
		}
		if = { 
			limit = { is_female = yes } 
			add_spouse_matrilineal = FROM
		}
	}
}

#Converter: Sponsor denied marriage proposal.
character_event = {
	id = HF.20083
	desc = EVTDESCDHA20083

	picture = GFX_evt_quarrel
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20083
		prestige = -100
	}
}

#Converter: Sponsor became lover.
character_event = {
	id = HF.20084
	desc = EVTDESCDHA20084

	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20084
		prestige = 100
		add_lover = FROM
	}
}

#Converter: Sponsor did not become lover.
character_event = {
	id = HF.20085
	desc = EVTDESCDHA20085

	picture = GFX_evt_quarrel
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20085
		prestige = -100
	}
}

#Converter: Sponsor became friend.
character_event = {
	id = HF.20086
	desc = EVTDESCDHA20086

	picture = GFX_evt_garden
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20086
		prestige = 100
		add_friend = FROM
	}
}

#Converter: Sponsor did not become friend.
character_event = {
	id = HF.20087
	desc = EVTDESCDHA20087

	picture = GFX_evt_quarrel
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20087
		prestige = -100
	}
}

#Converter: The sponsor's visit has come to an end.
character_event = {
	id = HF.20088
	desc = EVTDESCDHA20088

	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20088
		piety = 50
		hidden_tooltip = {
			chronicle = {
				entry = CHRONICLE_SPONSOR_VISIT
				portrait = [sponsoring_king.GetID]
			}
			set_variable = { which = converter_goodwill value = 0 } 
		} 
		hidden_tooltip = { event_target:sponsoring_king = { character_event = { id = HF.20089 } } } #The Visit ends for the Sponsor.
	}
}

#Sponsor: Your visit has come to an end, time to return home.
character_event = {
	id = HF.20089
	desc = EVTDESCDHA20089

	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20089
		piety = 150
		remove_trait = travelling
		clr_character_flag = sponsor_travelling_converter
		#remove_character_modifier = out_traveling

		#Umbrella list for Umbrella lists (once more, the event chain continues until the non-aggression pact runs out or is broken for some reason).
		hidden_tooltip = {
			chronicle = {
				entry = CHRONICLE_SPONSOR_VISIT
				portrait = [converting_king.GetID]
			}
			random_list = {  
				40 = { event_target:converting_king = { character_event = { id = HF.20037 } } } #Events for Converter
				60 = { event_target:sponsoring_king = { character_event = { id = HF.20038 } } } #Events for Sponsor
			}
		}
	}
}

#Generic notification event for foreign rulers upon Mass Conversion of a pagan.
narrative_event = {
	id = HF.20090
	title = EVTTITLE20090
	desc = EVTDESCHFA20090

	picture = GFX_evt_mass_baptism
	border = GFX_event_narrative_frame_religion
	hide_new = yes
	show_root = yes

	trigger = { 
		NOT = { event_target:sponsoring_king = { character = ROOT } } 
		NOT = { event_target:converting_king = { character = ROOT } } 
	}

	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF20090
		trigger = { NOT = { religion = event_target:sponsoring_king } }
		show_portrait = event_target:sponsoring_king
	}
	option = {
		name = EVTOPTBHF20090
		trigger = { religion = event_target:sponsoring_king }
		show_portrait = event_target:sponsoring_king
	}
}

#Hidden safety event to end the sponsor's travel, should something happen to the converter before the chain ends.
character_event = {
	id = HF.20091
	hide_window = yes

	is_triggered_only = yes
	
	immediate = {
	remove_trait = travelling

	}
}


# HF.20092 Taken for a True Believers Revolt event.
# HF.20093 Excommunicated Sponsor is forgiven.
# HF.20094 Excommunicated Sponsor is forgiven.


#On_death: converter died after baptism
character_event = {
	id = HF.20095
	hide_window = yes

	has_character_flag = flag_converted_baptism 

	trigger = { has_any_opinion_modifier = opinion_baptism_sponsor_target } 

	is_triggered_only = yes
	
	immediate = {
		any_playable_ruler = { 
			limit = { 
				has_character_flag =  flag_sponsored_baptism
				has_opinion_modifier = { 
					who = ROOT 
					modifier = opinion_baptism_sponsor_target 
				}
			}
			character_event = { id = HF.20096 }
		}
	}
}

#Sponsor be warned! Your converter died after baptism.
character_event = {
	id = HF.20096
	desc = {
		trigger = { NOT = { has_character_flag = sponsor_travelling_converter } }
		text = EVTDESCHF20096
	}
	desc = {
		trigger = { has_character_flag = sponsor_travelling_converter }
		text = EVTDESCHFB20096
	}
	picture = GFX_evt_throne_room
	border = GFX_event_normal_frame_religion

	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAHF20096 
		if = { 
			limit = { 
				has_character_flag = flag_sponsor_visit_midway 
			} 
			piety = 75
			clr_character_flag = flag_sponsor_visit_midway 
		}
		if = { 
			limit = { 
				has_character_flag = sponsor_travelling_converter 
				trait = travelling
			} 
			remove_trait = travelling
		}
	}
}

# Possible Sponsor receives mass baptism request (AI version)
letter_event = {
	id = HF.20097
	desc = EVTDESCHF20000
	border = GFX_event_letter_frame_religion
	show_from_from = yes
	
	is_triggered_only = yes

	option = { #Accept request, start preparation for mass conversion
		name = EVTOPTAHF20000
		custom_tooltip = { text = accept_baptism_request }
		hidden_tooltip = {
			set_character_flag = flag_sponsoring_baptism
			FROM = { set_character_flag = flag_converting_baptism }
			save_event_target_as = sponsoring_king
			FROM = { save_event_target_as = converting_king } 
		}
		FROM = { hidden_tooltip = { letter_event = { id = HF.20002 days = 5 random = 5 } } }
		ai_chance = {
			factor = 100 # Acceptance added in the decision itself.
		}
	}
	option = { #Deny request, end event chain
		name = EVTOPTBHF20000
		custom_tooltip = { text = refuse_baptism_request }
		FROM = {
			opinion = {
				modifier = opinion_denied_request
				years = 10
				who = ROOT
			}
		}
		hidden_tooltip = { 
			remove_opinion = {  
				who = FROM
				modifier = opinion_baptism_sponsor_target
			}
			FROM = { 
				remove_opinion = {  
					who = ROOT
					modifier = opinion_baptism_sponsor_target
				}
			}
		}

		FROM = { hidden_tooltip = { letter_event = { id = HF.20001 days = 5 random = 5 } } }
		ai_chance = { #Only for Multiplayer
			factor = 0
		}
	}
}

#Notify Sponsor that Converter has become incapable in the middle of the visit.
character_event = {
	id = HF.20098
	desc = EVTDESCHF20098
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20098
		if = { 
			limit = { 
				has_character_flag = flag_sponsor_visit_midway 
			} 
			piety = 75
			clr_character_flag = flag_sponsor_visit_midway 
		}
		if = { 
			limit = { 
				has_character_flag = sponsor_travelling_converter 
				trait = travelling
			} 
			remove_trait = travelling
			clr_character_flag = sponsor_travelling_converter
		}
		ai_chance = { factor = 100 }
	}
}
#Notify Converter that Sponsor has become incapable in the middle of the visit.
character_event = {
	id = HF.20099
	desc = EVTDESCHF20099
	picture = GFX_evt_pilgrims_epic_journey
	border = GFX_event_normal_frame_religion
	hide_new = yes
	show_root = yes

	immediate = { 
		event_target:sponsoring_king = { 
			remove_trait = travelling
			clr_character_flag = sponsor_travelling_converter 
		} 
	}
	
	is_triggered_only = yes

	option = { 
		name = EVTOPTAHF20099
		ai_chance = { factor = 100 }
	}
}

######################################################
# Baby Baptism (only for first current_heir, delayed fired on birth via HFP.20403 for Christian rulers with available notable baptizer)
# on_birth event will check which of the parents has greater authority and send this event to the more powerful one.
character_event = {
	id = HF.20100
	desc = {
		text = EVTDESCAHF20100
		trigger = {
			is_female = yes
		}
	}
	desc = {
		text = EVTDESCBHF20100
		trigger = {
			is_female = no
		}
	}
	picture = GFX_evt_birth
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	trigger = { 
		has_dlc = "Holy Fury"
		religion_group = christian
		higher_tier_than = DUKE
		is_incapable = no
		OR = { #Must qualify for at least one of the special options.
			AND = { 
				society_member_of = the_satanists
				has_society_currency_medium_trigger = yes
			}
			AND = {
				NOT = { trait = excommunicated }
				spouse = { NOT = { trait = excommunicated } }
				religion_head = { 
					is_alive = yes 
					NOT = { block_general_event_trigger = yes }
					OR = { 
						has_landed_title = k_papal_state
						has_landed_title = k_orthodox 
					}
				}
			}
			AND = {
				NOT = { trait = excommunicated }
				spouse = { NOT = { trait = excommunicated } }
				any_realm_character = { 
					is_theocracy = yes 
					top_liege = { character = ROOT }
					religion = ROOT
					NOT = { block_general_event_trigger = yes }
					OR = { 
						higher_tier_than = BARON  
						has_minor_title = title_cardinal
						has_minor_title = title_fraticelli_cardinal
						any_claim = { title = k_papal_state } #Antipope
						any_claim = { title = k_orthodox } #Antipope
					}
					NOT = { has_landed_title = k_papal_state }
					NOT = { has_landed_title = k_orthodox }
				}
			}
		}
		NOT = { #Only once per family, unless the baptized heir died in the meantime. Otherwise Ultimogeniture rulers would get to baptize all of their children.
			any_child = {
				is_alive = yes 
				OR = { 
					trait = baptized_by_satan
					trait = baptized_by_pope
					trait = baptized_by_patriarch
					trait = baptized_by_bishop 
				} 
			} 
		}
		ROOT = { current_heir = { character = FROM } } 
	}

	immediate = { 
		FROM = { save_event_target_as = baptizing_child } 
		set_character_flag = flag_baptizing_child #Avoid using both the event and the targetted decision at the same time.
		hidden_tooltip = { 
			if = { 
				limit = { 
					OR = { 
						religion = catholic 
						religion = orthodox
					}
					rightful_religious_head_scope = { 
						OR = { 
							has_landed_title = k_papal_state 
							has_landed_title = k_orthodox
						} 
					}
				} 
				rightful_religious_head_scope = { save_event_target_as = scoped_pope }
			}
			if = { 
				limit = { 
					society_member_of = the_satanists
					has_society_currency_medium_trigger = yes
				} 
				random_society_member = { 
					limit = { 
						society_rank = {
							rank == 4
							society = the_satanists
						}
					}
					save_event_target_as = scoped_satanist 
				}
			}
			if = { 
				limit = { 
					any_realm_character = { 
						is_theocracy = yes 
						top_liege = { character = ROOT }
						religion = ROOT
						NOT = { block_general_event_trigger = yes }
						OR = { 
							higher_tier_than = BARON  
							has_minor_title = title_cardinal
							has_minor_title = title_fraticelli_cardinal
							any_claim = { title = k_papal_state } #Antipope
							any_claim = { title = k_orthodox } #Antipope
						}
						NOT = { has_landed_title = k_papal_state }
						NOT = { has_landed_title = k_orthodox }
					}
				} 
				random_realm_character = { 
					limit = { 
						is_theocracy = yes 
						top_liege = { character = ROOT }
						religion = ROOT
						NOT = { block_general_event_trigger = yes }
						OR = { 
							higher_tier_than = BARON  
							has_minor_title = title_cardinal
							has_minor_title = title_fraticelli_cardinal
							any_claim = { title = k_papal_state } #Antipope
							any_claim = { title = k_orthodox } #Antipope
						}
						NOT = { has_landed_title = k_papal_state }
						NOT = { has_landed_title = k_orthodox }
					}
					save_event_target_as = scoped_bishop
				}
			}
		}
	}

	option = { #Satanist Baptism
		name = EVTOPTZHF20100
		custom_tooltip = { text = tooltip_HF20100_Z }
		trigger = { 
			society_member_of = the_satanists
			has_society_currency_medium_trigger = yes
		}
		show_portrait = scoped_satanist
		detract_society_currency_medium_effect = yes
		event_target:scoped_satanist = { save_event_target_as = scoped_baptizer }
		event_target:baptizing_child = { set_character_flag = flag_baptized_by_satan }
		hidden_tooltip = {
			if = { 
				limit = { 
					any_realm_character = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						is_adult = yes
						society_member_of = the_satanists
						NOR =  { 
							is_father = FROM
							is_mother = FROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
						}
					}
				} 
				character_event = { id = HF.20101 } #Godfather pick
			}
			else = { character_event = { id = HF.20103 } } #Skip to baptism if no potential godparents are available.
		}
		ai_chance = {
			factor = 100 
			modifier = { #If the true heir can still come, don't waste your only chance to give him the trait.
				factor = 0.1
				NOT = { age = 40 }
				NOT = { spouse = { age = 40 } }
				FROM = { is_female = yes }
				OR = { 
					has_law = agnatic_succession 
					has_law = cognatic_succession 
				}
			}
			modifier = { #If the true heir can still come, don't waste your only chance to give him the trait.
				factor = 0.1
				NOT = { age = 40 }
				NOT = { spouse = { age = 40 } }
				FROM = { is_female = no }
				OR = { 
					has_law = enatic_succession 
					has_law = enatic_cognatic_succession 
				}
			}
		}
	}
	option = { #Papal Baptism
		name = {
			text = EVTOPTAHF20100_A 
			trigger = { 
				rightful_religious_head_scope = { has_landed_title = k_papal_state }
			}
		}
		name = {
			text = EVTOPTAHF20100_B 
			trigger = { 
				rightful_religious_head_scope = { has_landed_title = k_orthodox }
			}
		}
		custom_tooltip = { text = tooltip_HF20100_A }
		trigger = { event_target:scoped_pope = { is_alive = yes } }
		show_portrait = scoped_pope
		trigger = { 
			religion_head = { 
				is_alive = yes 
				NOT = { block_general_event_trigger = yes }
				OR = { 
					has_landed_title = k_papal_state
					has_landed_title = k_orthodox 
				}
			}
		}
		scaled_wealth = { value = -1.0 min = -250 max = -500 }
		tiered_piety_negative_effect = yes
		event_target:scoped_pope = { save_event_target_as = scoped_baptizer }
		event_target:baptizing_child = { set_character_flag = flag_baptized_by_pope }
		hidden_tooltip = {
			if = { 
				limit = { 
					any_realm_character = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						is_adult = yes
						religion = ROOT
						NOR =  { 
							is_father = FROM
							is_mother = FROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
						}
					}
				} 
				character_event = { id = HF.20101 } #Godfather pick
			}
			else = { character_event = { id = HF.20103 } } #Skip to baptism if no potential godparents are available.
		}
		ai_chance = {
			factor = 100 
			modifier = {
				factor = 1.7
				trait = zealous
			}
			modifier = {
				factor = 0
				trait = cynical
			}
			modifier = {
				factor = 0.5
				trait = greedy
			}
			modifier = {
				factor = 0.01
				society_member_of = the_satanists
			}
			modifier = { #If the true heir can still come, don't waste your only chance to give him the trait.
				factor = 0.1
				NOT = { age = 40 }
				NOT = { spouse = { age = 40 } }
				FROM = { is_female = yes }
				OR = { 
					has_law = agnatic_succession 
					has_law = cognatic_succession 
				}
			}
			modifier = { #If the true heir can still come, don't waste your only chance to give him the trait.
				factor = 0.1
				NOT = { age = 40 }
				NOT = { spouse = { age = 40 } }
				FROM = { is_female = no }
				OR = { 
					has_law = enatic_succession 
					has_law = enatic_cognatic_succession 
				}
			}
		}
	}
	option = { #Prince-bishop Baptism
		name = EVTOPTBHF20100
		custom_tooltip = { text = tooltip_HF20100_B }
		trigger = { event_target:scoped_bishop = { is_alive = yes } }
		show_portrait = scoped_bishop
		trigger = { 
			any_realm_character = { 
				is_theocracy = yes 
				top_liege = { character = ROOT }
				religion = ROOT
				NOT = { block_general_event_trigger = yes }
				OR = { 
					higher_tier_than = BARON  
					has_minor_title = title_cardinal
					has_minor_title = title_fraticelli_cardinal
					any_claim = { title = k_papal_state } #Antipope
					any_claim = { title = k_orthodox } #Antipope
				}
				NOT = { has_landed_title = k_papal_state }
				NOT = { has_landed_title = k_orthodox }
			}
		}
		scaled_wealth = { value = -0.75 min = -50 max = -150 }
		tiered_piety_negative_effect = yes
		event_target:scoped_bishop = { save_event_target_as = scoped_baptizer }
		event_target:baptizing_child = { set_character_flag = flag_baptized_by_bishop }
		hidden_tooltip = {
			if = { 
				limit = { 
					any_realm_character = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						is_adult = yes
						religion = ROOT
						NOR =  { 
							is_father = FROM
							is_mother = FROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
						}
					}
				}
				character_event = { id = HF.20101 } #Godfather pick
			}
			else = { character_event = { id = HF.20103 } } #Skip to baptism if no potential godparents are available.
		}
		ai_chance = {
			factor = 50 
			modifier = {
				factor = 0
				trait = cynical
			}
			modifier = {
				factor = 0.5
				trait = greedy
			}
			modifier = {
				factor = 0.1
				society_member_of = the_satanists
			}
			modifier = { #If the true heir can still come, don't waste your only chance to give him the trait.
				factor = 0.1
				NOT = { age = 40 }
				NOT = { spouse = { age = 40 } }
				FROM = { is_female = yes }
				OR = { 
					has_law = agnatic_succession 
					has_law = cognatic_succession 
				}
			}
			modifier = { #If the true heir can still come, don't waste your only chance to give him the trait.
				factor = 0.1
				NOT = { age = 40 }
				NOT = { spouse = { age = 40 } }
				FROM = { is_female = no }
				OR = { 
					has_law = enatic_succession 
					has_law = enatic_cognatic_succession 
				}
			}
		}
	}
	option = { #No, just regular baptism.
		name = EVTOPTCHF20100
		custom_tooltip = { text = tooltip_HF20100_C }
		clr_character_flag = flag_baptizing_child #Avoid using both the event and the targetted decision at the same time.
		ai_chance = { 
			factor = 10
			modifier = {
				factor = 10
				trait = cynical
			}
			modifier = {
				factor = 5
				trait = greedy
			}
		}
	}
}

# Pick the godparent for the child's baptism.
character_event = {
	id = HF.20101
	desc = {
		text = EVTDESCAHF20101
		trigger = {
			event_target:baptizing_child = { has_character_flag = flag_baptized_by_satan }
		}
		picture = GFX_evt_sacrifice
	}
	desc = {
		text = EVTDESCBHF20101
		trigger = {
			event_target:baptizing_child = { NOT = { has_character_flag = flag_baptized_by_satan } }
		}
		picture = GFX_evt_icon
	}
	picture = GFX_evt_birth
	border = GFX_event_normal_frame_religion
	show_from_from = yes #Baby
	
	is_triggered_only = yes

	immediate = { #Possible picks for godparents
		if = { 
			limit = { event_target:baptizing_child = { NOT = { has_character_flag = flag_baptized_by_satan } } } 
			#Search for powerful vassal (prioritizing relatives).
			#Search for a well liked vassal (prioritizing relatives).
			#Then for any vassal (prioritizing relatives).
			#Then for any courtier (prioritizing relatives).

			if = { #Check for any powerful vassal.
				limit =  { 
					any_realm_character = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						is_powerful_vassal = yes
						religion = ROOT
						is_ruler = yes
						is_adult = yes
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
						}
					} 
				}
				random_realm_character = {
					limit = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						is_powerful_vassal = yes
						religion = ROOT
						is_ruler = yes
						is_adult = yes
						dynasty = FROMFROM
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
						}
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						reverse_opinion = { who = ROOT value = 20 }
						higher_tier_than = COUNT
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						reverse_opinion = { who = ROOT value = 20 }
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						reverse_opinion = { who = ROOT value = 0 }
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
					}
					preferred_limit = { 
						dynasty = FROMFROM
					}
					save_event_target_as = godfather_option_1
				}
			}

			if = { #Check for a liked vassal.
				limit =  { 
					any_realm_character = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						reverse_opinion =  { who = ROOT value = 20 }
						is_theocracy = no
						religion = ROOT
						is_ruler = yes
						is_adult = yes
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
							character = event_target:godfather_option_1
						}
					} 
				}
				random_realm_character = {
					limit = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						reverse_opinion = { who = ROOT value = 20 }
						is_theocracy = no
						religion = ROOT
						is_ruler = yes
						is_adult = yes
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
							character = event_target:godfather_option_1
						}
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						is_powerful_vassal = yes
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						higher_tier_than = BARON
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
					}
					preferred_limit = { 
						dynasty = FROMFROM
					}
					save_event_target_as = godfather_option_2
				}
			}
			if = { #Check for any vassal.
				limit =  { 
					any_realm_character = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						religion = ROOT
						is_ruler = yes
						is_adult = yes
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
							character = event_target:godfather_option_1
							character = event_target:godfather_option_2
						}
					} 
				}
				random_realm_character = {
					limit = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						religion = ROOT
						is_ruler = yes
						is_adult = yes
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
							character = event_target:godfather_option_1
							character = event_target:godfather_option_2
						}
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						is_powerful_vassal = yes
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
					}
					preferred_limit = { 
						dynasty = FROMFROM
					}
					save_event_target_as = godfather_option_3
				}
			}
			if = { #Check for any courtier.
				limit =  { 
					any_realm_character = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						religion = ROOT
						is_ruler = no
						is_adult = yes
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
							character = event_target:godfather_option_1
							character = event_target:godfather_option_2
							character = event_target:godfather_option_3
						}
					} 
				}
				random_realm_character = {
					limit = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						religion = ROOT
						is_ruler = no
						is_adult = yes
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
							character = event_target:godfather_option_1
							character = event_target:godfather_option_2
							character = event_target:godfather_option_3
						}
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						reverse_opinion = { who = ROOT value = 50 }
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						reverse_opinion = { who = ROOT value = 20 }
					}
					preferred_limit = { 
						dynasty = FROMFROM
						reverse_opinion = { who = ROOT value = 20 }
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
					}
					preferred_limit = { 
						dynasty = FROMFROM
					}
					save_event_target_as = godfather_option_4
				}
			}
		} #Close regular if

		if = { 
			limit = { event_target:baptizing_child = { has_character_flag = flag_baptized_by_satan } } 
			#Same as above, but check for society membership rather than religion.

			if = { #Check for any powerful vassal.
				limit =  { 
					any_realm_character = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						is_powerful_vassal = yes
						religion = ROOT
						is_ruler = yes
						is_adult = yes
						society_member_of = the_satanists
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
						}
					} 
				}
				random_realm_character = {
					limit = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						is_powerful_vassal = yes
						religion = ROOT
						is_ruler = yes
						is_adult = yes
						society_member_of = the_satanists
						dynasty = FROMFROM
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
						}
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						reverse_opinion = { who = ROOT value = 20 }
						higher_tier_than = COUNT
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						reverse_opinion = { who = ROOT value = 20 }
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						reverse_opinion = { who = ROOT value = 0 }
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
					}
					preferred_limit = { 
						dynasty = FROMFROM
					}
					save_event_target_as = godfather_option_1
				}
			}

			if = { #Check for a liked vassal.
				limit =  { 
					any_realm_character = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						reverse_opinion =  { who = ROOT value = 20 }
						is_theocracy = no
						religion = ROOT
						is_ruler = yes
						is_adult = yes
						society_member_of = the_satanists
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
							character = event_target:godfather_option_1
						}
					} 
				}
				random_realm_character = {
					limit = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						reverse_opinion = { who = ROOT value = 20 }
						is_theocracy = no
						religion = ROOT
						is_ruler = yes
						is_adult = yes
						society_member_of = the_satanists
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
							character = event_target:godfather_option_1
						}
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						is_powerful_vassal = yes
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						higher_tier_than = BARON
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
					}
					preferred_limit = { 
						dynasty = FROMFROM
					}
					save_event_target_as = godfather_option_2
				}
			}
			if = { #Check for any vassal.
				limit =  { 
					any_realm_character = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						religion = ROOT
						is_ruler = yes
						is_adult = yes
						society_member_of = the_satanists
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
							character = event_target:godfather_option_1
							character = event_target:godfather_option_2
						}
					} 
				}
				random_realm_character = {
					limit = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						religion = ROOT
						is_ruler = yes
						is_adult = yes
						society_member_of = the_satanists
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
							character = event_target:godfather_option_1
							character = event_target:godfather_option_2
						}
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						is_powerful_vassal = yes
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
					}
					preferred_limit = { 
						dynasty = FROMFROM
					}
					save_event_target_as = godfather_option_3
				}
			}
			if = { #Check for any courtier.
				limit =  { 
					any_realm_character = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						religion = ROOT
						is_ruler = no
						is_adult = yes
						society_member_of = the_satanists
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
							character = event_target:godfather_option_1
							character = event_target:godfather_option_2
							character = event_target:godfather_option_3
						}
					} 
				}
				random_realm_character = {
					limit = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						religion = ROOT
						is_ruler = no
						is_adult = yes
						society_member_of = the_satanists
						NOR =  { 
							is_father = FROMFROM
							is_mother = FROMFROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
							character = event_target:godfather_option_1
							character = event_target:godfather_option_2
							character = event_target:godfather_option_3
						}
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						reverse_opinion = { who = ROOT value = 50 }
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
						reverse_opinion = { who = ROOT value = 20 }
					}
					preferred_limit = { 
						dynasty = FROMFROM
						reverse_opinion = { who = ROOT value = 20 }
					}
					preferred_limit = { 
						dynasty = FROMFROM
						is_evil_trigger = no
					}
					preferred_limit = { 
						dynasty = FROMFROM
					}
					save_event_target_as = godfather_option_4
				}
			}
		} #Close satanist if
	}

	option = { #Pick 1 will be the godparent.
		name = EVTOPTAHF20101
		trigger = { event_target:godfather_option_1 = { is_alive = yes } } 
		show_portrait = event_target:godfather_option_1
		event_target:godfather_option_1 = { 
			show_scope_change = no
			if = { 
				limit = { is_female = no }
				opinion = { 
					who = FROMFROM
					modifier = opinion_godfather
					years = 30
				} 
			}
			if = { 
				limit = { is_female = yes }
				opinion = { 
					who = FROMFROM
					modifier = opinion_godmother
					years = 30
				} 
			}
			hidden_tooltip = { character_event = { id = HF.20102 } } #Notify
		}
		ai_chance = {
			factor = 100
			modifier = { 
				factor = 0.1
				is_foe = event_target:godfather_option_1
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_1 = { trait = lunatic }
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_1 = { trait = possessed }
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_1 = { trait = cruel }
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_1 = { trait = envious }
			}
			modifier = { 
				factor = 1.75
				is_friend = event_target:godfather_option_1
			}
			modifier = { 
				factor = 1.75
				is_lover = event_target:godfather_option_1
			}
			modifier = { 
				factor = 1.75
				is_close_relative = event_target:godfather_option_1
			}
		}
	}
	option = { #Pick 2 will be the godparent.
		name = EVTOPTBHF20101
		trigger = { event_target:godfather_option_2 = { is_alive = yes } } 
		show_portrait = event_target:godfather_option_2
		event_target:godfather_option_2 = { 
			show_scope_change = no
			if = { 
				limit = { is_female = no }
				opinion = { 
					who = FROMFROM
					modifier = opinion_godfather
					years = 30
				} 
			}
			if = { 
				limit = { is_female = yes }
				opinion = { 
					who = FROMFROM
					modifier = opinion_godmother
					years = 30
				} 
			}
			hidden_tooltip = { character_event = { id = HF.20102 } } #Notify
		}
		ai_chance = {
			factor = 50
			modifier = { 
				factor = 0.1
				is_foe = event_target:godfather_option_2
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_2 = { trait = lunatic }
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_2 = { trait = possessed }
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_2 = { trait = cruel }
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_2 = { trait = envious }
			}
			modifier = { 
				factor = 1.75
				is_friend = event_target:godfather_option_2
			}
			modifier = { 
				factor = 1.75
				is_lover = event_target:godfather_option_2
			}
			modifier = { 
				factor = 1.75
				is_close_relative = event_target:godfather_option_2
			}
		}
	}
	option = { #Pick 3 will be the godparent.
		name = EVTOPTCHF20101
		trigger = { event_target:godfather_option_3 = { is_alive = yes } } 
		show_portrait = event_target:godfather_option_3
		event_target:godfather_option_3 = { 
			show_scope_change = no
			if = { 
				limit = { is_female = no }
				opinion = { 
					who = FROMFROM
					modifier = opinion_godfather
					years = 30
				} 
			}
			if = { 
				limit = { is_female = yes }
				opinion = { 
					who = FROMFROM
					modifier = opinion_godmother
					years = 30
				} 
			}
			hidden_tooltip = { character_event = { id = HF.20102 } } #Notify
		}
		ai_chance = {
			factor = 10
			modifier = { 
				factor = 0.1
				is_foe = event_target:godfather_option_3
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_3 = { trait = lunatic }
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_3 = { trait = possessed }
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_3 = { trait = cruel }
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_3 = { trait = envious }
			}
			modifier = { 
				factor = 1.75
				is_friend = event_target:godfather_option_3
			}
			modifier = { 
				factor = 1.75
				is_lover = event_target:godfather_option_3
			}
			modifier = { 
				factor = 1.75
				is_close_relative = event_target:godfather_option_3
			}
		}
	}
	option = { #Pick 4 will be the godparent.
		name = EVTOPTDHF20101
		trigger = { event_target:godfather_option_4 = { is_alive = yes } } 
		show_portrait = event_target:godfather_option_4
		event_target:godfather_option_4 = { 
			show_scope_change = no
			if = { 
				limit = { is_female = no }
				opinion = { 
					who = FROMFROM
					modifier = opinion_godfather
					years = 30
				} 
			}
			if = { 
				limit = { is_female = yes }
				opinion = { 
					who = FROMFROM
					modifier = opinion_godmother
					years = 30
				} 
			}
			hidden_tooltip = { character_event = { id = HF.20102 } } #Notify
		}
		ai_chance = {
			factor = 10
			modifier = { 
				factor = 0.1
				is_foe = event_target:godfather_option_4
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_4 = { trait = lunatic }
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_4 = { trait = possessed }
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_4 = { trait = cruel }
			}
			modifier = { 
				factor = 0.25
				event_target:godfather_option_4 = { trait = envious }
			}
			modifier = { 
				factor = 1.75
				is_friend = event_target:godfather_option_4
			}
			modifier = { 
				factor = 1.75
				is_lover = event_target:godfather_option_4
			}
			modifier = { 
				factor = 1.75
				is_close_relative = event_target:godfather_option_4
			}
		}
	}
	after = { 
		clear_event_target = godfather_option_1
		clear_event_target = godfather_option_2
		clear_event_target = godfather_option_3
		clear_event_target = godfather_option_4
		character_event = { id = HF.20103 } #Actual baptism.
	}
}

#New Godfather notified of baptism.
character_event = {
	id = HF.20102
	desc = {
		text = EVTDESCAHF20102
		trigger = {
			event_target:baptizing_child = { has_character_flag = flag_baptized_by_satan }
		}
		picture = GFX_evt_sacrifice
	}
	desc = {
		text = EVTDESCBHF20102
		trigger = {
			event_target:baptizing_child = { NOT = { has_character_flag = flag_baptized_by_satan } }
		}
		picture = GFX_evt_icon
	}
	picture = GFX_evt_birth
	border = GFX_event_normal_frame_religion
	show_from_from_from = yes #Baby
	
	is_triggered_only = yes

	option = { #Good.
		name = EVTOPTAHF20102
		tiered_prestige_reward_effect = yes
		tooltip = { 
			if = { 
				limit = { is_female = no }
				opinion = { 
					who = FROMFROM
					modifier = opinion_godfather
					years = 30
				} 
			}
			if = { 
				limit = { is_female = yes }
				opinion = { 
					who = FROMFROM
					modifier = opinion_godmother
					years = 30
				} 
			}
		}
	}
}

#Parent: Baptism itself happens.
character_event = {
	id = HF.20103
	desc = {
		text = EVTDESCAHF20103
		trigger = {
			event_target:baptizing_child = { has_character_flag = flag_baptized_by_satan }
		}
		picture = GFX_evt_sacrifice
	}
	desc = {
		text = EVTDESCBHF20103
		trigger = {
			event_target:baptizing_child = { 
				has_character_flag = flag_baptized_by_pope 
				NOR = {
					has_character_flag = demon_child_non_pagan
					has_character_flag = demon_child
				}
			}
		}
		picture = GFX_evt_pope
	}
	desc = {
		text = EVTDESCBHF20103_CURSED
		trigger = {
			event_target:baptizing_child = { 
				has_character_flag = flag_baptized_by_pope 
				OR = {
					has_character_flag = demon_child_non_pagan
					has_character_flag = demon_child
				}
			}
		}
		picture = GFX_evt_pope
	}
	desc = {
		text = EVTDESCCHF20103
		trigger = {
			event_target:baptizing_child = { has_character_flag = flag_baptized_by_bishop }
		}
		picture = GFX_evt_bishop
	}
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	show_from_from_from = yes #Baby
	
	is_triggered_only = yes

	option = { #Good.
		name = {
			text = EVTOPTAHF20103
			trigger = {
				NOT = {
					event_target:baptizing_child = { 
						has_character_flag = flag_baptized_by_pope 
						OR = {
							has_character_flag = demon_child_non_pagan
							has_character_flag = demon_child
						}
					}
				}
			}
		}
		name = {
			text = EVTOPTAHF20103_CURSED
			trigger = {
				event_target:baptizing_child = { 
					has_character_flag = flag_baptized_by_pope 
					OR = {
						has_character_flag = demon_child_non_pagan
						has_character_flag = demon_child
					}
				}
			}
		}
		show_portrait = scoped_baptizer
		clr_character_flag = flag_baptizing_child #Avoid using both the event and the targetted decision at the same time.
		event_target:baptizing_child = { 
			if = { 
				limit = { has_character_flag = flag_baptized_by_satan }
				save_persistent_event_target = { name = baptizing_satanist_per scope = event_target:scoped_baptizer }
				custom_tooltip = { text = tooltip_gain_baptized_by_satan }
				hidden_tooltip = { add_trait = baptized_by_satan }
				clr_character_flag = flag_baptized_by_satan
				event_target:scoped_satanist = {
					show_scope_change = no
					opinion = { 
						modifier = opinion_baptized
						who = event_target:baptizing_child 
						years = 20
					}
				}
			}
			if = { 
				limit = { 
					has_character_flag = flag_baptized_by_pope 
					religion = catholic
				}
				save_persistent_event_target = { name = baptizing_pope_per scope = event_target:scoped_baptizer }
				custom_tooltip = { text = tooltip_gain_baptized_by_pope }
				hidden_tooltip = { add_trait = baptized_by_pope }
				clr_character_flag = flag_baptized_by_pope
				event_target:scoped_pope = {
					show_scope_change = no
					opinion = { 
						modifier = opinion_baptized
						who = event_target:baptizing_child 
						years = 20
					}
				}
			}
			if = { 
				limit = { 
					has_character_flag = flag_baptized_by_pope 
					religion = orthodox
				}
				save_persistent_event_target = { name = baptizing_pope_per scope = event_target:scoped_baptizer }
				custom_tooltip = { text = tooltip_gain_baptized_by_pope }
				hidden_tooltip = { add_trait = baptized_by_patriarch }
				clr_character_flag = flag_baptized_by_pope
				event_target:scoped_pope = {
					show_scope_change = no
					opinion = { 
						modifier = opinion_baptized
						who = event_target:baptizing_child 
						years = 20
					}
				}
			}
			if = { 
				limit = { has_character_flag = flag_baptized_by_bishop }
				save_persistent_event_target = { name = baptizing_bishop_per scope = event_target:scoped_baptizer }
				custom_tooltip = { text = tooltip_gain_baptized_by_bishop }
				hidden_tooltip = { add_trait = baptized_by_bishop }
				clr_character_flag = flag_baptized_by_bishop
				event_target:scoped_bishop = {
					show_scope_change = no
					opinion = { 
						modifier = opinion_baptized
						who = event_target:baptizing_child 
						years = 20
					}
				}
			}
			hidden_tooltip = { character_event = { id = HF.20104 } } #Child notified
		}
		if = { 
			limit = { 
				OR = { 
					event_target:baptizing_child = { NOT = { trait = baptized_by_satan } }
					spouse = { society_member_of = the_satanists }
				} 
			}
			hidden_tooltip = { spouse = { character_event = { id = HF.20105 } } } #Spouse notified
	 	}
	}
}

#Child: Baptism has happened.
character_event = {
	id = HF.20104
	desc = {
		text = EVTDESCAHF20104
		trigger = {
			event_target:baptizing_child = { trait = baptized_by_satan }
		}
		picture = GFX_evt_sacrifice
	}
	desc = {
		text = EVTDESCBHF20104
		trigger = {
			event_target:baptizing_child = { trait = baptized_by_pope }
			NOR = {
				has_character_flag = demon_child_non_pagan
				has_character_flag = demon_child
			}
		}
		picture = GFX_evt_pope
	}
	desc = {
		text = EVTDESCBHF20104_CURSED
		trigger = {
			event_target:baptizing_child = { trait = baptized_by_pope }
			OR = {
				has_character_flag = demon_child_non_pagan
				has_character_flag = demon_child
			}
		}
		picture = GFX_evt_pope
	}
	desc = {
		text = EVTDESCCHF20104
		trigger = {
			event_target:baptizing_child = { trait = baptized_by_bishop }
		}
		picture = GFX_evt_bishop
	}
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	option = { #Guh.
		name = {
			text = EVTOPTAHF20104
			trigger = {
				NOT = {
					event_target:baptizing_child = { 
						trait = baptized_by_pope 
						OR = {
							has_character_flag = demon_child_non_pagan
							has_character_flag = demon_child
						}
					}
				}
			}
		}
		name = {
			text = EVTOPTAHF20104_CURSED
			trigger = {
				event_target:baptizing_child = { 
					trait = baptized_by_pope 
					OR = {
						has_character_flag = demon_child_non_pagan
						has_character_flag = demon_child
					}
				}
			}
		}
		if = {
			limit = { trait = baptized_by_satan }
			add_trait = baptized_by_satan
			hidden_tooltip = { FROM = { character_event = { id = HF.20106 days = 5600 random = 200 } } } #Initiate to satanists.
		}
		if = {
			limit = { trait = baptized_by_pope }
			add_trait = baptized_by_pope
		}
		if = {
			limit = { trait = baptized_by_bishop }
			add_trait = baptized_by_bishop
		}
		if = {
			limit = { 
				trait = baptized_by_pope 
				OR = {
					has_character_flag = demon_child_non_pagan
					has_character_flag = demon_child
				}
			}
			add_scarred_tiered_effect = yes
		}
	}
}
#Spouse: Baptism has happened.
character_event = {
	id = HF.20105
	desc = {
		text = EVTDESCAHF20103
		trigger = {
			event_target:baptizing_child = { trait = baptized_by_satan }
		}
		picture = GFX_evt_sacrifice
	}
	desc = {
		text = EVTDESCBHF20103
		trigger = {
			event_target:baptizing_child = { trait = baptized_by_pope }
		}
		picture = GFX_evt_pope
	}
	desc = {
		text = EVTDESCCHF20103
		trigger = {
			event_target:baptizing_child = { trait = baptized_by_bishop }
		}
		picture = GFX_evt_bishop
	}
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	option = { #Good.
		name = EVTOPTAHF20103
	}
}
#Parent: Child has grown enough to be introduced properly to Satanists.
character_event = {
	id = HF.20106
	desc = EVTDESCAHF20106
	picture = GFX_evt_sacrifice
	border = GFX_event_normal_frame_religion


	trigger = {
		is_incapable = no
		society_member_of = the_satanists
		FROM = { 
			religion = ROOT
			is_alive = yes
			is_incapable = no
			NOT = {
				society_member_of = the_satanists
			}
			is_within_diplo_range = ROOT
		}
	}
	
	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20106
		FROM = { 
			join_society = the_satanists
			hidden_tooltip = { FROM = { character_event = { id = HF.20107 } } }
		}
	}
}

#Child: introduced to Satanists at a young age.
character_event = {
	id = HF.20107
	desc = EVTDESCAHF20107
	picture = GFX_evt_sacrifice
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20107
		tooltip = { join_society = the_satanists }
	}
}

######################################################
# Baby Baptism 
# second version of the event, firing from targetted-decision, hooks back into the previous chain.
character_event = {
	id = HF.20108
	desc = EVTDESCAHF20108
	picture = GFX_evt_birth
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	immediate = { 
		FROM = { save_event_target_as = baptizing_child } 
		hidden_tooltip = { 
			if = { 
				limit = { 
					OR = { 
						religion = catholic 
						religion = orthodox
					}
					rightful_religious_head_scope = { 
						OR = { 
							has_landed_title = k_papal_state 
							has_landed_title = k_orthodox
						} 
					}
				} 
				rightful_religious_head_scope = { save_event_target_as = scoped_pope }
			}
			if = { 
				limit = { 
					society_member_of = the_satanists
					has_society_currency_major_trigger = yes
				} 
				random_society_member = { 
					limit = { 
						society_rank = {
							rank == 4
							society = the_satanists
						}
					}
					save_event_target_as = scoped_satanist 
				}
			}
			if = { 
				limit = { 
					any_realm_character = { 
						is_theocracy = yes 
						top_liege = { character = ROOT }
						religion = ROOT
						NOT = { block_general_event_trigger = yes }
						OR = { 
							higher_tier_than = BARON  
							has_minor_title = title_cardinal
							has_minor_title = title_fraticelli_cardinal
							any_claim = { title = k_papal_state } #Antipope
							any_claim = { title = k_orthodox } #Antipope
						}
						NOT = { has_landed_title = k_papal_state }
						NOT = { has_landed_title = k_orthodox }
					}
				} 
				random_realm_character = { 
					limit = { 
						is_theocracy = yes 
						top_liege = { character = ROOT }
						religion = ROOT
						NOT = { block_general_event_trigger = yes }
						OR = { 
							higher_tier_than = BARON  
							has_minor_title = title_cardinal
							has_minor_title = title_fraticelli_cardinal
							any_claim = { title = k_papal_state } #Antipope
							any_claim = { title = k_orthodox } #Antipope
						}
						NOT = { has_landed_title = k_papal_state }
						NOT = { has_landed_title = k_orthodox }
					}
					save_event_target_as = scoped_bishop
				}
			}
		}
	}

	option = { #Satanist Baptism
		name = EVTOPTZHF20100
		custom_tooltip = { text = tooltip_HF20100_Z }
		trigger = { 
			society_member_of = the_satanists
			has_society_currency_major_trigger = yes
		}
		show_portrait = scoped_satanist
		detract_society_currency_medium_effect = yes
		event_target:scoped_satanist = { save_event_target_as = scoped_baptizer }
		event_target:baptizing_child = { set_character_flag = flag_baptized_by_satan }
		hidden_tooltip = {
			if = { 
				limit = { 
					any_realm_character = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						is_adult = yes
						society_member_of = the_satanists
						NOR =  { 
							is_father = FROM
							is_mother = FROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
						}
					}
				} 
				character_event = { id = HF.20101 } #Godfather pick
			}
			else = { character_event = { id = HF.20103 } } #Skip to baptism if no potential godparents are available.
		}
		ai_chance = {
			factor = 100 
			modifier = { #If the true heir can still come, don't waste your only chance to give him the trait.
				factor = 0.1
				NOT = { age = 40 }
				NOT = { spouse = { age = 40 } }
				FROM = { is_female = yes }
				OR = { 
					has_law = agnatic_succession 
					has_law = cognatic_succession 
				}
			}
			modifier = { #If the true heir can still come, don't waste your only chance to give him the trait.
				factor = 0.1
				NOT = { age = 40 }
				NOT = { spouse = { age = 40 } }
				FROM = { is_female = no }
				OR = { 
					has_law = enatic_succession 
					has_law = enatic_cognatic_succession 
				}
			}
		}
	}
	option = { #Papal Baptism
		name = {
			text = EVTOPTAHF20100_A 
			trigger = { 
				rightful_religious_head_scope = { has_landed_title = k_papal_state }
			}
		}
		name = {
			text = EVTOPTAHF20100_B 
			trigger = { 
				rightful_religious_head_scope = { has_landed_title = k_orthodox }
			}
		}
		custom_tooltip = { text = tooltip_HF20100_A }
		trigger = { event_target:scoped_pope = { is_alive = yes } }
		show_portrait = scoped_pope
		trigger = { 
			religion_head = { 
				is_alive = yes 
				NOT = { block_general_event_trigger = yes }
				OR = { 
					has_landed_title = k_papal_state
					has_landed_title = k_orthodox 
				}
			}
		}
		scaled_wealth = { value = -2.0 min = -350 max = -750 }
		tiered_piety_negative_effect = yes
		event_target:scoped_pope = { save_event_target_as = scoped_baptizer }
		event_target:baptizing_child = { set_character_flag = flag_baptized_by_pope }
		hidden_tooltip = {
			if = { 
				limit = { 
					any_realm_character = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						is_adult = yes
						religion = ROOT
						NOR =  { 
							is_father = FROM
							is_mother = FROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
						}
					}
				} 
				character_event = { id = HF.20101 } #Godfather pick
			}
			else = { character_event = { id = HF.20103 } } #Skip to baptism if no potential godparents are available.
		}
		ai_chance = {
			factor = 100 
			modifier = {
				factor = 1.7
				trait = zealous
			}
			modifier = {
				factor = 0
				trait = cynical
			}
			modifier = {
				factor = 0.5
				trait = greedy
			}
			modifier = {
				factor = 0.01
				society_member_of = the_satanists
			}
			modifier = { #If the true heir can still come, don't waste your only chance to give him the trait.
				factor = 0.1
				NOT = { age = 40 }
				NOT = { spouse = { age = 40 } }
				FROM = { is_female = yes }
				OR = { 
					has_law = agnatic_succession 
					has_law = cognatic_succession 
				}
			}
			modifier = { #If the true heir can still come, don't waste your only chance to give him the trait.
				factor = 0.1
				NOT = { age = 40 }
				NOT = { spouse = { age = 40 } }
				FROM = { is_female = no }
				OR = { 
					has_law = enatic_succession 
					has_law = enatic_cognatic_succession 
				}
			}
		}
	}
	option = { #Prince-bishop Baptism
		name = EVTOPTBHF20100
		custom_tooltip = { text = tooltip_HF20100_B }
		trigger = { event_target:scoped_bishop = { is_alive = yes } }
		show_portrait = scoped_bishop
		trigger = { 
			any_realm_character = { 
				is_theocracy = yes 
				top_liege = { character = ROOT }
				religion = ROOT
				NOT = { block_general_event_trigger = yes }
				OR = { 
					higher_tier_than = BARON  
					has_minor_title = title_cardinal
					has_minor_title = title_fraticelli_cardinal
					any_claim = { title = k_papal_state } #Antipope
					any_claim = { title = k_orthodox } #Antipope
				}
				NOT = { has_landed_title = k_papal_state }
				NOT = { has_landed_title = k_orthodox }
			}
		}
		scaled_wealth = { value = -1.5 min = -150 max = -350 }
		tiered_piety_negative_effect = yes
		event_target:scoped_bishop = { save_event_target_as = scoped_baptizer }
		event_target:baptizing_child = { set_character_flag = flag_baptized_by_bishop }
		hidden_tooltip = {
			if = { 
				limit = { 
					any_realm_character = { 
						top_liege = { character = ROOT } 
						is_incapable = no
						is_theocracy = no
						is_adult = yes
						religion = ROOT
						NOR =  { 
							is_father = FROM
							is_mother = FROM
							has_any_opinion_modifier = opinion_godfather 
							has_any_opinion_modifier = opinion_godmother
						}
					}
				}
				character_event = { id = HF.20101 } #Godfather pick
			}
			else = { character_event = { id = HF.20103 } } #Skip to baptism if no potential godparents are available.
		}
		ai_chance = {
			factor = 50 
			modifier = {
				factor = 0
				trait = cynical
			}
			modifier = {
				factor = 0.5
				trait = greedy
			}
			modifier = {
				factor = 0.1
				society_member_of = the_satanists
			}
			modifier = { #If the true heir can still come, don't waste your only chance to give him the trait.
				factor = 0.1
				NOT = { age = 40 }
				NOT = { spouse = { age = 40 } }
				FROM = { is_female = yes }
				OR = { 
					has_law = agnatic_succession 
					has_law = cognatic_succession 
				}
			}
			modifier = { #If the true heir can still come, don't waste your only chance to give him the trait.
				factor = 0.1
				NOT = { age = 40 }
				NOT = { spouse = { age = 40 } }
				FROM = { is_female = no }
				OR = { 
					has_law = enatic_succession 
					has_law = enatic_cognatic_succession 
				}
			}
		}
	}
	option = { #No, just regular baptism.
		name = EVTOPTCHF20108
		custom_tooltip = { text = tooltip_HF20100_C }
		clr_character_flag = flag_baptizing_child
		ai_chance = { 
			factor = 0
		}
	}
}

####################################################################
#Additional benefits from Converter's new Priest.

#Hidden ping from the priest to decide what event to send to the Converter.
character_event = {
	id = HF.20110
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		religion = FROM
		is_incapable = no
		FROM = { 
			is_alive = yes 
			is_incapable = no
		}
	}

	immediate = {
		random_list = { 
			#Change to Gavelkind.
			#Improve capital's infrastructure. (province modifier)
			#Increase learning/stewardship/diplomacy.
			#Chance to gain technology.
			#Chance to gain Sponsor's culture as well.
			#Chance to gain militant monks. (event troops)

			100 = {  #Offer chance to get Gavelkind.
				trigger = { 
					FROM = { 
						primary_title = { has_law = succ_elective_gavelkind } 
						NOT = { has_character_flag = flag_converter_chaplain_refused_gavelkind }
					} 
				}
				FROM = { character_event = { id = HF.20112 } }
			}
			25 = {  #Improve capital's infrastructure. (province modifiers)
				trigger = { 
					FROM = { 
						capital_scope = { 
							NOR = {  
								has_province_modifier = mass_baptism_capital_traders
								has_province_modifier = mass_baptism_capital_missionaries
								has_province_modifier = mass_baptism_capital_builders
							} 
						} 
					} 
				}
				FROM = { character_event = { id = HF.20113 } }
			} 
			25 = {  #Increase learning/stewardship/diplomacy.
				trigger = { 
					ROOT = { 
						OR = { 
							attribute_diff = { character = FROM attribute = diplomacy  value = 1 } 
							attribute_diff = { character = FROM attribute = learning  value = 1 } 
							attribute_diff = { character = FROM attribute = stewardship  value = 1 } 
						} 
					} 
				}
				FROM = { character_event = { id = HF.20114 } }
			}
			10 = {  #Chance to gain technology.
				trigger = { 
					FROM = { 
						is_tribal = yes
					} 
				}
				FROM = { character_event = { id = HF.20115 } }
			}
			5 = {  #Chance to change culture.
				trigger = { 
					FROM = { 
						NOR = { 
							culture = ROOT 
							has_character_flag = flag_converter_refused_chaplain_culture_conversion
						} 
						culture_group = ROOT  #Needs to be compatible already.
					} 
				}
				FROM = { character_event = { id = HF.20116 } }
			} 
			5 = {  #Chance to gain event troops.
				trigger = { 
					is_tribal = yes
					culture = FROM #Completely integrated.
					FROM = { has_any_opinion_modifier = opinion_baptism_sponsor_target } #Sponsor still lives.

				}
				FROM = { character_event = { id = HF.20117 } }
			}
			1 = {  #Skip a turn.
				FROM = { character_event = { id = HF.20111 days = 1500 random = 500 } }
			} 
		}
	}
}

#Ping to Converter and back to random list.
character_event = {
	id = HF.20111
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		FROM = { character_event = { id = HF.20110 } }
	}
}

#Priest gives opportunity to change succession law to Gavelkind from Elective Gavelkind.
character_event = {
	id = HF.20112
	desc = EVTDESCAHF20112
	picture = GFX_evt_monk
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20112
		trigger = { 
			primary_title = { has_law = succ_elective_gavelkind }
		}
		tiered_prestige_negative_effect = yes
		primary_title = { 
			show_scope_change = no 
			add_law = succ_gavelkind
		}
		hidden_tooltip = { 
			any_demesne_title = { 
				add_law = {
					law = succ_gavelkind
					cooldown = no
					opinion_effect = no
				}
			}
			FROM = { character_event = { id = HF.20110 days = 1500 random = 500 } }
		}
		ai_chance = { 
			factor = 100
		}
	}
	option = {
		name = EVTOPTBHF20112
		set_character_flag = flag_converter_chaplain_refused_gavelkind
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1000 random = 250 } }
		}
		ai_chance = { 
			factor = 0
		}
	}
}

#Priest gives opportunity to apply modifier on capital.
character_event = {
	id = HF.20113
	desc = EVTDESCAHF20113
	picture = GFX_evt_castle_construction
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20113
		trigger = { 
			NOT = { capital_scope = { has_province_modifier = mass_baptism_capital_traders } }
		}
		tiered_prestige_negative_effect = yes
		capital_scope = { 
			show_scope_change = no 
			add_province_modifier = { 
				modifier = mass_baptism_capital_traders
				years = 5
			}
		}
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1500 random = 500 } }
		}
		ai_chance = { 
			factor = 30
		}
	}
	option = {
		name = EVTOPTBHF20113
		trigger = { 
			NOT = { capital_scope = { has_province_modifier = mass_baptism_capital_missionaries } }
		}
		tiered_prestige_negative_effect = yes
		capital_scope = { 
			show_scope_change = no 
			add_province_modifier = { 
				modifier = mass_baptism_capital_missionaries
				years = 5
			}
		}
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1500 random = 500 } }
		}
		ai_chance = { 
			factor = 30
		}
	}
	option = {
		name = EVTOPTCHF20113
		trigger = { 
			NOT = { capital_scope = { has_province_modifier = mass_baptism_capital_builders } }
		}
		tiered_prestige_negative_effect = yes
		capital_scope = { 
			show_scope_change = no 
			add_province_modifier = { 
				modifier = mass_baptism_capital_builders
				years = 5
			}
		}
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1500 random = 500 } }
		}
		ai_chance = { 
			factor = 20
		}
	}
	option = {
		name = EVTOPTDHF20113
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1000 random = 250 } }
		}
		ai_chance = { 
			factor = 10
		}
	}
}

#Priest gives opportunity to increase attribute.
character_event = {
	id = HF.20114
	desc = EVTDESCAHF20114
	picture = GFX_evt_library
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20114
		trigger = { 
			FROM = { attribute_diff = { character = ROOT attribute = diplomacy value = 1 } }
		}
		tiered_prestige_negative_effect = yes
		change_diplomacy = 1
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1500 random = 500 } }
		}
		ai_chance = { 
			factor = 30
		}
	}
	option = {
		name = EVTOPTBHF20114
		trigger = { 
			FROM = { attribute_diff = { character = ROOT attribute = stewardship value = 1 } }
		}
		tiered_prestige_negative_effect = yes
		change_stewardship = 1
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1500 random = 500 } }
		}
		ai_chance = { 
			factor = 30
		}
	}
	option = {
		name = EVTOPTCHF20114
		trigger = { 
			FROM = { attribute_diff = { character = ROOT attribute = learning value = 1 } }
		}
		tiered_prestige_negative_effect = yes
		change_learning = 1
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1500 random = 500 } }
		}
		ai_chance = { 
			factor = 30
		}
	}
	option = {
		name = EVTOPTDHF20114
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1000 random = 250 } }
		}
		ai_chance = { 
			factor = 0
		}
	}
}

#Gain technology.
character_event = {
	id = HF.20115
	desc = EVTDESCHFA20115
	picture = GFX_evt_castle_construction

	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20115
		tiered_prestige_negative_effect = yes
		military_techpoints = 30
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1500 random = 500 } }
		}
		ai_chance = { 
			factor = 30
		}
	}
	option = {
		name = EVTOPTBHF20115
		tiered_prestige_negative_effect = yes
		economy_techpoints = 30
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1500 random = 500 } }
		}
		ai_chance = { 
			factor = 30
		}
	}
	option = {
		name = EVTOPTCHF20115
		tiered_prestige_negative_effect = yes
		culture_techpoints = 30
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1500 random = 500 } }
		}
		ai_chance = { 
			factor = 30
		}
	}

	option = {
		name = EVTOPTDHF20115
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1000 random = 250 } }
		}
		ai_chance = { 
			factor = 10
		}
	}
}

#Change culture.
character_event = {
	id = HF.20116
	desc = EVTDESCHFA20116
	picture = GFX_evt_emissary

	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20116
		tiered_prestige_negative_effect = yes
		culture = FROM
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1500 random = 500 } }
		}
		ai_chance = { 
			factor = 1
			modifier = {
				factor = 5
				trait = trusting
			}
		}
	}

	option = {
		name = EVTOPTBHF20116
		set_character_flag = flag_converter_refused_chaplain_culture_conversion
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1000 random = 250 } }
		}
		ai_chance = { 
			factor = 99
		}
	}
}

#Militant faithful arrive.
character_event = {
	id = HF.20117
	desc = EVTDESCHFA20117
	picture = GFX_evt_crusaders

	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20117
		tiered_prestige_negative_effect = yes
		capital_scope = {
			show_scope_change = no
			ROOT = {
				show_scope_change = no
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					match_character = THIS
					match_mult = 0.075
					match_min = 50
					match_max = 500
					attrition = 1.0
					can_inherit = no
				}
			}
		}
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1500 random = 500 } }
		}
		ai_chance = { 
			factor = 30
		}
	}

	option = {
		name = EVTOPTBHF20117
		set_character_flag = flag_converter_refused_chaplain_culture_conversion
		hidden_tooltip = { 
			FROM = { character_event = { id = HF.20110 days = 1000 random = 250 } }
		}
		ai_chance = { 
			factor = 10
		}
	}
}

#Court Chaplain Makes you change your name.
character_event = {
	id = HF.20118
	desc = {
		text = EVTDESCHFA20118
		trigger = {
			religion_group = christian
		}
		picture = GFX_evt_icon
	}
	desc = {
		text = EVTDESCHFB20118
		trigger = {
			religion_group = muslim
		}
		picture = GFX_evt_imam
	}
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion

	trigger = {
		OR = {
			religion_group = christian
			religion_group = muslim
		}
		event_target:convert_lord_spiritual = { 
			is_alive = yes
			religion = ROOT
			is_incapable = no
		}
	}
	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20118
		tiered_prestige_negative_effect = yes    
		tiered_piety_reward_effect = yes    
		prompt_name = {
	        player = ROOT 
	        type = BAPTISM 
	        name_list = religion # Optional. What name list to use. Can also use "religion" for religious names of the scoped character's religion, or "culture"
		}
		hidden_tooltip = { 
			any_realm_character = { 
				limit = { 
					is_close_relative = ROOT 
					religion = ROOT
					is_incapable = no
				}
				character_event = { id = HF.20119 }
			}
		}
		ai_chance = { 
			factor = 30
		}
	}

	option = {
		name = EVTOPTBHF20118
		tiered_prestige_reward_effect = yes   
		tiered_piety_negative_effect = yes    
		ai_chance = { 
			factor = 10
		}
	}
}
#Close relatives switch as well.
character_event = {
	id = HF.20119
	desc = EVTDESCHFA20119
	picture = GFX_evt_icon

	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTAHF20119
		tiered_prestige_negative_effect = yes    
		tiered_piety_reward_effect = yes    
		prompt_name = {
	        player = ROOT 
	        type = BAPTISM 
	        name_list = religion # Optional. What name list to use. Can also use "religion" for religious names of the scoped character's religion, or "culture"
		}
		ai_chance = { 
			factor = 30
		}
	}

	option = {
		name = EVTOPTBHF20119
		tiered_piety_negative_effect = yes    
		ai_chance = { 
			factor = 10
			modifier = { 
				factor = 5
				NOT = { true_religion = FROM }
			}
		}
	}
}