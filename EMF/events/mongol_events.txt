# -*- ck2.events -*-

###################################
#
# Mongol Horde Events
#
# Id 60000 - 61000 is reserved
#
###################################


### Mongols sack European cities ###

# Mongols sack Kiev
narrative_event = {
	id = 60100
	title = "EVTNAME60100"
	desc = "EVTDESC60100"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_kiev }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_kiev }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_kiev
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.1 }
		}
	}

	option = {
		name = "EVTOPTA60100"
		trigger = { NOT = { religion_group = muslim } }
	}
	option = {
		name = "EVTOPTB60100"
		trigger = { religion_group = muslim }
	}
}

# Mongols sack Novgorod
narrative_event = {
	id = 60101
	title = "EVTNAME60101"
	desc = "EVTDESC60101"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_novgorod }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_novgorod }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_novgorod
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.2 }
		}
	}

	option = {
		name = EVTOPTA60101 # Perhaps their bloodlust has been sated now
		trigger = { NOT = { culture = mongol } }
	}
	option = {
		name = EVTOPTB60101 # May the snows of the frozen north claim them
		trigger = {
			culture = mongol
		}
	}
}

# Mongols sack Krakow
narrative_event = {
	id = 60102
	title = "EVTNAME60102"
	desc = "EVTDESC60102"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_krakow }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_krakow }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_krakow
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.3 }
		}
	}

	option = {
		name = "EVTOPTA60102"
		trigger = { NOT = { religion_group = muslim } }
	}
	option = {
		name = "EVTOPTB60102"
		trigger = { religion_group = muslim }
	}
}

# Mongols sack Aachen
narrative_event = {
	id = 60103
	title = "EVTNAME60103"
	desc = "EVTDESC60103"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_aachen }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_aachen }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_aachen
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.4 }
		}
	}

	option = {
		name = "EVTOPTA60103"
		trigger = { NOT = { religion_group = muslim } }
	}
	option = {
		name = "EVTOPTB60103"
		trigger = { religion_group = muslim }
	}
}

# Mongols sack Paris
narrative_event = {
	id = 60104
	title = "EVTNAME60104"
	desc = "EVTDESC60104"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_paris }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_paris }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_paris
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.5 }
		}
	}

	option = {
		name = "EVTOPTA60104"
		trigger = { NOT = { religion_group = muslim } }
	}
	option = {
		name = "EVTOPTB60104"
		trigger = { religion_group = muslim }
	}
}

# Mongols sack London
narrative_event = {
	id = 60105
	title = "EVTNAME60105"
	desc = "EVTDESC60105"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_london }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_london }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_london
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.6 }
		}
	}

	option = {
		name = "EVTOPTA60105"
		trigger = { NOT = { religion_group = muslim } }
	}
	option = {
		name = "EVTOPTB60105"
		trigger = { religion_group = muslim }
	}
}

# Mongols sack Rome
narrative_event = {
	id = 60106
	title = "EVTNAME60106"
	desc = "EVTDESC60106"
	major = yes

	picture = "GFX_evt_rome_falls"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_rome }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_roma }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_rome
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.7 }
		}
	}

	option = {
		name = "EVTOPTA60106"
		trigger = { NOT = { religion_group = muslim } }
	}
	option = {
		name = "EVTOPTB60106"
		trigger = { religion_group = muslim }
	}
}

# Mongols sack Venice
narrative_event = {
	id = 60107
	title = "EVTNAME60107"
	desc = "EVTDESC60107"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_venice }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_venezia }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_venice
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.8 }
		}
	}

	option = {
		name = "EVTOPTA60107"
		trigger = { NOT = { religion_group = muslim } }
	}
	option = {
		name = "EVTOPTB60107"
		trigger = { religion_group = muslim }
	}
}

# Mongols sack Constantinople
narrative_event = {
	id = 60108
	title = "EVTNAME60108"
	desc = "EVTDESC60108"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_constantinople }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_constantinople }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_constantinople
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.9 }
		}
	}

	option = {
		name = "EVTOPTA60108"
		trigger = { NOT = { religion_group = muslim } }
	}
	option = {
		name = "EVTOPTB60108"
		trigger = { religion_group = muslim }
	}
}

# Mongols sack Lisbon
narrative_event = {
	id = 60109
	title = "EVTNAME60109"
	desc = "EVTDESC60109"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_lisbon }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_lisboa }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_lisbon
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.10 }
		}
	}

	option = {
		name = "EVTOPTA60109"
		trigger = { NOT = { religion_group = muslim } }
	}
	option = {
		name = "EVTOPTB60109"
		trigger = { religion_group = muslim }
	}
}

# Mongols sack Smolensk
narrative_event = {
	id = 60110
	title = "EVTNAME60110"
	desc = "EVTDESC60110"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_smolensk }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_smolensk }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_smolensk
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.11 }
		}
	}

	option = {
		name = "EVTOPTA60110"
		trigger = { NOT = { religion_group = muslim } }
	}
	option = {
		name = "EVTOPTB60110"
		trigger = { religion_group = muslim }
	}
}

# Mongols sack Prague
narrative_event = {
	id = 60111
	title = "EVTNAME60111"
	desc = "EVTDESC60111"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_prague }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_praha }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_prague
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.12 }
		}
	}

	option = {
		name = "EVTOPTA60111"
		trigger = { NOT = { religion_group = muslim } }
	}
	option = {
		name = "EVTOPTB60111"
		trigger = { religion_group = muslim }
	}
}

# Mongols sack Vienna
narrative_event = {
	id = 60112
	title = "EVTNAME60112"
	desc = "EVTDESC60112"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_vienna }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_wien }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_vienna
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.13 }
		}
	}

	option = {
		name = "EVTOPTA60112"
		trigger = { NOT = { religion_group = muslim } }
	}
	option = {
		name = "EVTOPTB60112"
		trigger = { religion_group = muslim }
	}
}

# Mongols sack Esztergom
narrative_event = {
	id = 60113
	title = "EVTNAME60113"
	desc = "EVTDESC60113"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_esztergom }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_esztergom }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_esztergom
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.14 }
		}
	}

	option = {
		name = "EVTOPTA60113"
		trigger = { NOT = { religion_group = muslim } }
	}
	option = {
		name = "EVTOPTB60113"
		trigger = { religion_group = muslim }
	}
}

# Mongols sack Athens
narrative_event = {
	id = 60114
	title = "EVTNAME60114"
	desc = "EVTDESC60114"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_athens }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_athens }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_athens
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.15 }
		}
	}

	option = {
		name = "EVTOPTA60114"
		trigger = { NOT = { religion_group = muslim } }
	}
	option = {
		name = "EVTOPTB60114"
		trigger = { religion_group = muslim }
	}
}

# Mongols sack Belgrade
narrative_event = {
	id = 60115
	title = "EVTNAME60115"
	desc = "EVTDESC60115"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_belgrade }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_belgrade }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_belgrade
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.16 }
		}
	}

	option = {
		name = "EVTOPTA60115"
		trigger = { NOT = { religion_group = muslim } }
	}
	option = {
		name = "EVTOPTB60115"
		trigger = { religion_group = muslim }
	}
}

### Mongols sack Middle Eastern cities ###

# Mongols sack Baghdad
narrative_event = {
	id = 60116
	title = "EVTNAME60116"
	desc = "EVTDESC60116"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		FROM = { title = b_bagdad }
		NOT = { has_global_flag = mongols_sack_baghdad }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_baghdad
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.17 }
		}
	}

	option = {
		name = "EVTOPTA60116"
		trigger = { religion_group = muslim }
	}
	option = {
		name = "EVTOPTB60116"
		trigger = { NOT = { religion_group = muslim } }
	}
}

# Mongols sack Damascus
narrative_event = {
	id = 60117
	title = "EVTNAME60117"
	desc = "EVTDESC60117"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_damascus }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_damascus }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_damascus
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.18 }
		}
	}

	option = {
		name = "EVTOPTA60117"
		trigger = { religion_group = muslim }
	}
	option = {
		name = "EVTOPTB60117"
		trigger = { NOT = { religion_group = muslim } }
	}
}

# Mongols sack Jerusalem
narrative_event = {
	id = 60118
	title = "EVTNAME60118"
	desc = "EVTDESC60118"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_jerusalem }
		NOT = {
			OR = {
				religion_group = muslim
				religion_group = christian
			}
		}
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_jerusalem }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_jerusalem
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.19 }
		}
	}

	option = {
		name = "EVTOPTA60118"
		trigger = { religion_group = muslim }
	}
	option = {
		name = "EVTOPTB60118"
		trigger = { NOT = { religion_group = muslim } }
	}
}

# Mongols sack Alexandria
narrative_event = {
	id = 60119
	title = "EVTNAME60119"
	desc = "EVTDESC60119"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_alexandria }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_alexandria }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_alexandria
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.20 }
		}
	}

	option = {
		name = "EVTOPTA60119"
		trigger = { religion_group = muslim }
	}
	option = {
		name = "EVTOPTB60119"
		trigger = { NOT = { religion_group = muslim } }
	}
}

# Mongols sack Cairo
narrative_event = {
	id = 60120
	title = "EVTNAME60120"
	desc = "EVTDESC60120"
	major = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_cairo }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_cairo }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_cairo
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.21 }
		}
	}

	option = {
		name = "EVTOPTA60120"
		trigger = { religion_group = muslim }
	}
	option = {
		name = "EVTOPTB60120"
		trigger = { NOT = { religion_group = muslim } }
	}
}

# Mongols sack Mecca
narrative_event = {
	id = 60121
	title = "EVTNAME60121"
	desc = "EVTDESC60121"
	major = yes

	picture = "GFX_evt_mecca_falls_soa"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	culture = mongol

	trigger = {
		NOT = { has_global_flag = mongols_sack_mecca }
		NOT = { religion_group = muslim }
		OR = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
		FROM = { title = b_mecca }
		NOT = {
			FROM = {
				owner = {
					OR = {
						has_landed_title = e_il-khanate
						has_landed_title = e_golden_horde
						has_landed_title = e_mongol_empire
						liege = { has_landed_title = e_il-khanate }
						liege = { has_landed_title = e_golden_horde }
						liege = { has_landed_title = e_mongol_empire }
						top_liege = { has_landed_title = e_il-khanate }
						top_liege = { has_landed_title = e_golden_horde }
						top_liege = { has_landed_title = e_mongol_empire }
					}
				}
			}
		}
	}

	major_trigger = {
		NOT = {
			has_landed_title = e_il-khanate
			has_landed_title = e_golden_horde
			has_landed_title = e_mongol_empire
			liege = { has_landed_title = e_il-khanate }
			liege = { has_landed_title = e_golden_horde }
			liege = { has_landed_title = e_mongol_empire }
			top_liege = { has_landed_title = e_il-khanate }
			top_liege = { has_landed_title = e_golden_horde }
			top_liege = { has_landed_title = e_mongol_empire }
		}
	}

	immediate = {
		set_global_flag = mongols_sack_mecca
		any_player = {
			limit = {
				OR = {
					has_landed_title = e_il-khanate
					has_landed_title = e_golden_horde
					has_landed_title = e_mongol_empire
					liege = { has_landed_title = e_il-khanate }
					liege = { has_landed_title = e_golden_horde }
					liege = { has_landed_title = e_mongol_empire }
					top_liege = { has_landed_title = e_il-khanate }
					top_liege = { has_landed_title = e_golden_horde }
					top_liege = { has_landed_title = e_mongol_empire }
				}
			}
			narrative_event = { id = TOG.22 }
		}
	}

	option = {
		name = "EVTOPTA60121"
		trigger = { religion_group = muslim }
	}
	option = {
		name = "EVTOPTB60121"
		trigger = { NOT = { religion_group = muslim } }
	}
}


##################################
# Rise of the Timurids
##################################

# Timur appears and begins his first adventure
character_event = {
	id = 60300
	desc = EVTDESC60300
	picture = GFX_evt_mongols
	border = GFX_event_normal_frame_war

	only_playable = yes
	culture = mongol

	trigger = {
		NOT = {
			has_game_rule = {
				name = turkic_invasions
				value = off
			}
		}
		OR = {
			AND = {
				has_game_rule = {
					name = turkic_invasions
					value = historical
				}
				has_global_flag = mongol_empire_arrival
				year = 1350
				NOT = { year = 1370 }
			}
			AND = {
				has_game_rule = {
					name = turkic_invasions
					value = random
				}
				year = 1200
			}
		}
		NOT = { has_game_rule = { name = adventurers value = none } }

		OR = {
			independent = yes
			NOT = { any_liege = { culture = ROOT } }
		}
		any_realm_province = {
			OR = {
				region = world_persia
				region = world_middle_east
				region = world_steppe_tarim
			}
		}
		any_independent_ruler = {
			war = no
			in_revolt = no
			is_nomadic = no
			is_tribal = no
			NOR = {
				is_tributary = yes
				same_realm = ROOT
			}
			OR = {
				c_samarkand = { owner_under_PREV = yes }
				c_balkh = { owner_under_PREV = yes }
				c_merv = { owner_under_PREV = yes }
				c_dihistan = { owner_under_PREV = yes }
				c_tus = { owner_under_PREV = yes }
			}
		}
		NOT = { has_global_flag = timur_spawned }
	}

	mean_time_to_happen = {
		months = 24
		modifier = {
			factor = 0.5
			year = 1360
		}
		modifier = {
			factor = 0.5
			year = 1365
		}
	}

	immediate = {
		set_global_flag = timur_spawned
		# Pick the target
		random_independent_ruler = {
			limit = {
				war = no
				in_revolt = no
				is_nomadic = no
				is_tribal = no
				NOR = {
					is_tributary = yes
					same_realm = ROOT
				}
				c_merv = { owner_under_PREV = yes }
			}
			save_event_target_as = timur_target_ruler
			c_merv = { location = { save_event_target_as = timur_target_province } }
		}
		random_independent_ruler = {
			limit = {
				war = no
				in_revolt = no
				is_nomadic = no
				is_tribal = no
				NOR = {
					is_tributary = yes
					same_realm = ROOT
				}
				c_tus = { owner_under_PREV = yes }
				NOT = { event_target:timur_target_ruler = { always = yes } }
			}
			save_event_target_as = timur_target_ruler
			c_tus = { location = { save_event_target_as = timur_target_province } }
		}
		random_independent_ruler = {
			limit = {
				war = no
				in_revolt = no
				is_nomadic = no
				is_tribal = no
				NOR = {
					is_tributary = yes
					same_realm = ROOT
				}
				OR = {
					c_samarkand = { owner_under_PREV = yes }
					c_balkh = { owner_under_PREV = yes }
					c_dihistan = { owner_under_PREV = yes }
				}
				NOT = { event_target:timur_target_ruler = { always = yes } }
			}
			save_event_target_as = timur_target_ruler
			random_realm_province = {
				limit = {
					OR = {
						county = { title = c_samarkand }
						county = { title = c_balkh }
						county = { title = c_dihistan }
					}
				}
				save_event_target_as = timur_target_province
			}
		}

		# Now create Timur
		create_character = {
			random_traits = no
			dynasty = 800
			historical = yes
			name = "Timur"
			religion = ROOT
			culture = ROOT
			female = no
			age = 18
			attributes = {
				martial = 12
				diplomacy = 8
				stewardship = 9
				intrigue = 9
				learning = 6
			}
			health = 6
			trait = brilliant_strategist
			trait = diligent
			trait = ambitious
			trait = proud
			trait = quick
			trait = clubfooted
			trait = adventurer
		}
		new_character = {
			set_dynasty_flag = emf_is_historical
			emf_new_character = yes
			set_character_flag = timur_himself
			if = {
				limit = {
					has_dlc = "Holy Fury"
				}
				create_bloodline = {
					type = timur
				}
			}
			save_event_target_as = timur
			log = "60300: INFO: Timur ([This.GetID]) spawned in the court of [Root.GetBestName] ([Root.PrimaryTitle.GetID])"
			wealth = 500
			prestige = 500
			if = {
				limit = { ROOT = { is_nomadic = yes } }
				set_character_flag = will_be_nomadic
			}
			# Give adventurer title and start war
			ROOT = {
				capital_scope = {
					event_target:timur = {
						set_defacto_liege = THIS
						create_title = {
							tier = DUKE
							landless = yes
							temporary = yes
							culture = THIS
							name = "CLAIMANT_ADVENTURE"
							holder = THIS
						}
						if = {
							limit = { has_character_flag = will_be_nomadic }
							clr_character_flag = will_be_nomadic
							set_government_type = nomadic_government
							population = 5000
						}
						set_character_flag = duchy_adventurer
						spawn_unit = {
							province = PREV
							home = PREV
							owner = THIS
							troops = {
								horse_archers = { 2700 2700 }
								light_cavalry = { 1600 1600 }
								light_infantry = { 541 541 }
								heavy_infantry = { 210 210 }
								knights = { 47 47 }
							}
							attrition = 0.25
							cannot_inherit = yes
							maintenance_multiplier = 0
							earmark = timur_event_troops
						}
						spawn_unit = {
							province = PREV
							home = PREV
							owner = THIS
							match_character = event_target:timur_target_ruler
							match_mult = 0.33
							match_min = 500
							match_max = 10000
							attrition = 0.25
							disband_on_peace = yes
							earmark = timur_duchy_adventure
						}
						spawn_unit = {
							province = PREV
							home = PREV
							owner = THIS
							match_character = event_target:timur_target_ruler
							match_mult = 0.33
							match_min = 500
							match_max = 10000
							attrition = 0.25
							disband_on_peace = yes
							earmark = timur_duchy_adventure
						}
						spawn_unit = {
							province = PREV
							home = PREV
							owner = THIS
							match_character = event_target:timur_target_ruler
							match_mult = 0.33
							match_min = 500
							match_max = 10000
							attrition = 0.25
							disband_on_peace = yes
							earmark = timur_duchy_adventure
						}
						spawn_unit = {
							province = PREV
							home = PREV
							owner = THIS
							match_character = event_target:timur_target_ruler
							match_mult = 0.33
							match_min = 500
							match_max = 10000
							attrition = 0.25
							disband_on_peace = yes
							earmark = timur_duchy_adventure
						}
						spawn_unit = {
							province = PREV
							home = PREV
							owner = THIS
							match_character = event_target:timur_target_ruler
							match_mult = 0.33
							match_min = 500
							match_max = 10000
							attrition = 0.25
							disband_on_peace = yes
							earmark = timur_duchy_adventure
						}
						spawn_unit = {
							province = PREV
							home = PREV
							owner = THIS
							match_character = event_target:timur_target_ruler
							match_mult = 0.33
							match_min = 500
							match_max = 10000
							attrition = 0.25
							disband_on_peace = yes
							earmark = timur_duchy_adventure
						}
						event_target:timur_target_ruler = {
							event_target:timur_target_province = {
								event_target:timur = {
									war = {
										target = PREVPREV
										casus_belli = duchy_adventure
										thirdparty_title = PREV
										tier = DUKE
										infamy = 0
									}
								}
							}
						}
					}
				}
			}
			character_event = { id = 60301 }
		}
	}

	option = {
		name = EVTOPTA60305
	}
}

# Spawn Timur's extra courtiers
character_event = {
	id = 60301

	hide_window = yes
	is_triggered_only = yes

	immediate = {
		# Create some extra courtiers
		emf_create_courtiers = yes
	}
}

# Timur is successful!
# Fired from the duchy_adventure CB
narrative_event = {
	id = 60306
	title = EVTNAME60306
	desc = EVTDESC60306
	picture = GFX_evt_mongols
	border = GFX_event_narrative_frame_war

	is_triggered_only = yes

	major = yes

	immediate = {
		set_character_flag = timur_reinforcements
		set_defacto_liege = ROOT

		prestige = 500
		piety = 100

		if = {
			limit = { independent = no }
			set_defacto_liege = ROOT
			emf_liege_change = yes
		}

		capital_scope = {
			ROOT = {
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
				}
			}
		}

		log = "60306: Timur wins his first war!"
	}

	option = {
		name = EVTOPTA60306
		trigger = {
			has_character_flag = timur_himself
		}
	}
	option = {
		name = EVTOPTB60306
		trigger = {
			NOT = { has_character_flag = timur_himself }
			culture = mongol
		}
	}
	option = {
		name = EVTOPTC60306
		trigger = {
			NOT = { has_character_flag = timur_himself }
			NOT = { culture = mongol }
		}
	}
}

# Timur's successor revitalizes the new state
character_event = {
	id = 60307
	desc = EVTDESC60307
	picture = GFX_evt_mongols
	border = GFX_event_normal_frame_war

	only_playable = yes
	only_independent = yes
	war = no
	has_global_flag = timur_spawned

	trigger = {
		dynasty = 800 # Timurid
		year = 1370

		higher_tier_than = duke

		martial = 7
		NOT = { has_earmarked_regiments = timur_event_troops }

		NOR = {
			year = 1500
			realm_size = 150
			trait = blinded
			trait = eunuch
			trait = infirm
			trait = content
			trait = craven
			trait = depressed
			trait = imbecile
			has_character_flag = timur_himself
			has_character_flag = timur_reinforcements
		}
	}

	mean_time_to_happen = {
		months = 240
		modifier = {
			factor = 0.5
			martial = 9
		}
		modifier = {
			factor = 0.5
			martial = 11
		}
		modifier = {
			factor = 0.5
			martial = 13
		}
	}

	immediate = {
		set_character_flag = timur_reinforcements

		piety = 250

		capital_scope = {
			ROOT = {
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
					cannot_inherit = yes
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
					cannot_inherit = yes
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
					cannot_inherit = yes
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
					cannot_inherit = yes
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
					cannot_inherit = yes
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
					cannot_inherit = yes
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = timur_event_troops
					cannot_inherit = yes
				}
				if = {
					limit = {
						martial = 9
					}
					spawn_unit = {
						province = PREV
						home = PREV
						owner = THIS
						troops = {
							light_infantry = { 2250 2250 }
							light_cavalry = { 2000 2000 }
							horse_archers = { 1500 1500 }
							knights = { 50 50 }
						}
						attrition = 0.25
						maintenance_multiplier = 0
						earmark = timur_event_troops
						cannot_inherit = yes
					}
				}
				if = {
					limit = {
						martial = 11
					}
					spawn_unit = {
						province = PREV
						home = PREV
						owner = THIS
						troops = {
							light_infantry = { 2250 2250 }
							light_cavalry = { 2000 2000 }
							horse_archers = { 1500 1500 }
							knights = { 50 50 }
						}
						attrition = 0.25
						maintenance_multiplier = 0
						earmark = timur_event_troops
						cannot_inherit = yes
					}
				}
				if = {
					limit = {
						martial = 13
					}
					spawn_unit = {
						province = PREV
						home = PREV
						owner = THIS
						troops = {
							light_infantry = { 2250 2250 }
							light_cavalry = { 2000 2000 }
							horse_archers = { 1500 1500 }
							knights = { 50 50 }
						}
						attrition = 0.25
						maintenance_multiplier = 0
						earmark = timur_event_troops
						cannot_inherit = yes
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTA60307
	}
}

# Event troops no longer needed
character_event = {
	id = 60308
	desc = EVTDESC60208
	picture = GFX_evt_mongols
	border = GFX_event_normal_frame_war

	only_playable = yes
	only_independent = yes
	war = no
	has_character_flag = timur_reinforcements

	trigger = {
		has_earmarked_regiments = timur_event_troops
		tier = EMPEROR
		realm_size = 150
	}

	mean_time_to_happen = {
		years = 5
	}

	option = {
		name = EVTOPTA60208
		disband_event_forces = timur_event_troops
	}
}


##########################################
# Rise of the Ghaznavids under Sabuktigin
##########################################

# Sabuktigin appears and begins his first adventure
character_event = {
	id = 60400
	desc = EVTDESC60400
	picture = GFX_evt_mongols
	border = GFX_event_normal_frame_war

	only_playable = yes
	religion_group = muslim

	trigger = {
		NOT = {
			has_game_rule = {
				name = turkic_invasions
				value = off
			}
		}
		OR = {
			AND = {
				has_game_rule = {
					name = turkic_invasions
					value = historical
				}
				year = 965
				NOT = { year = 1010 }
			}
			AND = {
				has_game_rule = {
					name = turkic_invasions
					value = random
				}
				year = 809
				NOT = { year = 1200 }
			}
		}
		c_bukhara = { owner_under_ROOT = yes }
		NOT = { has_game_rule = { name = adventurers value = none } }

		any_independent_ruler = {
			war = no
			in_revolt = no
			is_nomadic = no
			is_tribal = no
			is_tributary = no
			c_ghazna = { owner_under_PREV = yes }
		}
		NOT = { has_global_flag = sabuktigin_spawned }
	}

	mean_time_to_happen = {
		months = 24
		modifier = {
			factor = 0.5
			year = 990
		}
		modifier = {
			factor = 0.5
			year = 1000
		}
	}

	immediate = {
		set_global_flag = sabuktigin_spawned
		c_bukhara = { location = { save_event_target_as = sabuktigin_origin } }

		# Pick the target
		random_independent_ruler = {
			limit = {
				war = no
				in_revolt = no
				is_nomadic = no
				is_tribal = no
				is_tributary = no
				c_ghazna = { owner_under_PREV = yes }
			}
			save_event_target_as = sabuktigin_target_ruler
			c_ghazna = { location = { save_event_target_as = sabuktigin_target_province } }
		}

		# Now create Sabuktigin
		create_character = {
			random_traits = no
			dynasty = 790
			name = "Sabuktigin"
			religion = event_target:sabuktigin_origin
			culture = event_target:sabuktigin_origin
			female = no
			age = 18
			attributes = {
				martial = 12
				diplomacy = 8
				stewardship = 9
				intrigue = 9
				learning = 6
			}
			health = 7
			trait = brilliant_strategist
			trait = diligent
			trait = ambitious
			trait = proud
			trait = quick
			trait = adventurer
			historical = yes
		}
		new_character = {
			set_dynasty_flag = emf_is_historical
			emf_new_character = yes
			set_character_flag = sabuktigin_himself
			if = {
				limit = {
					has_dlc = "Holy Fury"
				}
				create_bloodline = {
					type = ghaznavid
				}
			}
			save_event_target_as = sabuktigin
			log = "60400: INFO: Sabuktigin ([This.GetID]) spawned in the court of [Root.GetBestName] ([Root.PrimaryTitle.GetID])"
			wealth = 500
			prestige = 500
			if = {
				limit = { ROOT = { is_nomadic = yes } }
				set_character_flag = will_be_nomadic
			}
			# Give adventurer title and start war
			ROOT = {
				event_target:sabuktigin_origin = {
					event_target:sabuktigin = {
						set_defacto_liege = THIS
						create_title = {
							tier = DUKE
							landless = yes
							temporary = yes
							culture = THIS
							name = "CLAIMANT_ADVENTURE"
							holder = THIS
						}
						if = {
							limit = { has_character_flag = will_be_nomadic }
							clr_character_flag = will_be_nomadic
							set_government_type = nomadic_government
							population = 5000
						}
						set_character_flag = duchy_adventurer
						spawn_unit = {
							province = PREV
							home = PREV
							owner = THIS
							troops = {
								horse_archers = { 2700 2700 }
								light_cavalry = { 1600 1600 }
								light_infantry = { 541 541 }
								heavy_infantry = { 210 210 }
								knights = { 47 47 }
							}
							attrition = 0.25
							cannot_inherit = yes
							maintenance_multiplier = 0
							earmark = sabuktigin_event_troops
						}
						spawn_unit = {
							province = PREV
							home = PREV
							owner = THIS
							match_character = event_target:sabuktigin_target_ruler
							match_mult = 0.33
							match_min = 500
							match_max = 10000
							attrition = 0.25
							disband_on_peace = yes
							earmark = sabuktigin_duchy_adventure
						}
						spawn_unit = {
							province = PREV
							home = PREV
							owner = THIS
							match_character = event_target:sabuktigin_target_ruler
							match_mult = 0.33
							match_min = 500
							match_max = 10000
							attrition = 0.25
							disband_on_peace = yes
							earmark = sabuktigin_duchy_adventure
						}
						spawn_unit = {
							province = PREV
							home = PREV
							owner = THIS
							match_character = event_target:sabuktigin_target_ruler
							match_mult = 0.33
							match_min = 500
							match_max = 10000
							attrition = 0.25
							disband_on_peace = yes
							earmark = sabuktigin_duchy_adventure
						}
						spawn_unit = {
							province = PREV
							home = PREV
							owner = THIS
							match_character = event_target:sabuktigin_target_ruler
							match_mult = 0.33
							match_min = 500
							match_max = 10000
							attrition = 0.25
							disband_on_peace = yes
							earmark = sabuktigin_duchy_adventure
						}
						spawn_unit = {
							province = PREV
							home = PREV
							owner = THIS
							match_character = event_target:sabuktigin_target_ruler
							match_mult = 0.33
							match_min = 500
							match_max = 10000
							attrition = 0.25
							disband_on_peace = yes
							earmark = sabuktigin_duchy_adventure
						}
						spawn_unit = {
							province = PREV
							home = PREV
							owner = THIS
							match_character = event_target:sabuktigin_target_ruler
							match_mult = 0.33
							match_min = 500
							match_max = 10000
							attrition = 0.25
							disband_on_peace = yes
							earmark = sabuktigin_duchy_adventure
						}
						event_target:sabuktigin_target_ruler = {
							event_target:sabuktigin_target_province = {
								event_target:sabuktigin = {
									war = {
										target = PREVPREV
										casus_belli = duchy_adventure
										thirdparty_title = PREV
										tier = DUKE
										infamy = 0
									}
								}
							}
						}
					}
				}
			}
			character_event = { id = 60401 }
		}
	}

	option = {
		name = EVTOPTA60305
	}
}

# Spawn Sabuktigin's extra courtiers
character_event = {
	id = 60401

	hide_window = yes
	is_triggered_only = yes

	immediate = {
		# Create some extra courtiers
		emf_create_courtiers = yes
	}
}

# Sabuktigin is successful!
# Fired from the duchy_adventure CB
narrative_event = {
	id = 60406
	title = EVTNAME60406
	desc = EVTDESC60406
	picture = GFX_evt_mongols
	border = GFX_event_narrative_frame_war

	is_triggered_only = yes

	major = yes

	immediate = {
		set_character_flag = sabuktigin_reinforcements
		set_defacto_liege = ROOT

		prestige = 500
		piety = 100

		if = {
			limit = { independent = no }
			set_defacto_liege = ROOT
			emf_liege_change = yes
		}

		capital_scope = {
			ROOT = {
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = sabuktigin_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = sabuktigin_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = sabuktigin_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = sabuktigin_event_troops
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					troops = {
						light_infantry = { 2250 2250 }
						light_cavalry = { 2000 2000 }
						horse_archers = { 1500 1500 }
						knights = { 50 50 }
					}
					attrition = 0.25
					maintenance_multiplier = 0
					earmark = sabuktigin_event_troops
				}
				random = {
					chance = 50
					spawn_unit = {
						province = PREV
						home = PREV
						owner = THIS
						troops = {
							light_infantry = { 2250 2250 }
							light_cavalry = { 2000 2000 }
							horse_archers = { 1500 1500 }
							knights = { 50 50 }
						}
						attrition = 0.25
						maintenance_multiplier = 0
						earmark = sabuktigin_event_troops
					}
				}
				random = {
					chance = 50
					spawn_unit = {
						province = PREV
						home = PREV
						owner = THIS
						troops = {
							light_infantry = { 2250 2250 }
							light_cavalry = { 2000 2000 }
							horse_archers = { 1500 1500 }
							knights = { 50 50 }
						}
						attrition = 0.25
						maintenance_multiplier = 0
						earmark = sabuktigin_event_troops
					}
				}
				random = {
					chance = 50
					spawn_unit = {
						province = PREV
						home = PREV
						owner = THIS
						troops = {
							light_infantry = { 2250 2250 }
							light_cavalry = { 2000 2000 }
							horse_archers = { 1500 1500 }
							knights = { 50 50 }
						}
						attrition = 0.25
						maintenance_multiplier = 0
						earmark = sabuktigin_event_troops
					}
				}
			}
		}

		log = "60406: Sabuktigin wins his first war!"
	}

	option = {
		name = EVTOPTA60406
		trigger = {
			has_character_flag = sabuktigin_himself
		}
	}
	option = {
		name = EVTOPTB60406
		trigger = {
			NOT = { has_character_flag = sabuktigin_himself }
		}
	}
}

# Event troops no longer needed
character_event = {
	id = 60408
	desc = EVTDESC60208
	picture = GFX_evt_mongols
	border = GFX_event_normal_frame_war

	only_playable = yes
	only_independent = yes
	war = no
	has_character_flag = sabuktigin_reinforcements

	trigger = {
		has_earmarked_regiments = sabuktigin_event_troops
		tier = EMPEROR
		realm_size = 150
	}

	mean_time_to_happen = {
		years = 5
	}

	option = {
		name = EVTOPTA60208
		disband_event_forces = sabuktigin_event_troops
	}
}


##########################################
# New Mongol Events
##########################################

# Mongol horde starts forming
narrative_event = {
	id = 60500
	title = "EVTNAME60500"
	desc = "EVTDESC60500"
	major = yes
	hide_from = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	religion = hip_religion

	trigger = {
		OR = {
			year = 1210
			AND = {
				has_game_rule = {
					name = mongol_invasion
					value = random
				}
				total_years_played = 50
			}
			AND = {
				has_game_rule = {
					name = mongol_invasion
					value = delayed_random
				}
				year = 1000
				total_years_played = 50
			}
		}
		NOR = {
			year = 1218
			has_game_rule = {
				name = mongol_invasion
				value = off
			}
		}
		has_landed_title = e_hip
		e_mongol_empire = { has_holder = no }
		NOT = {
			any_player = {
				is_nomadic = yes
				culture = mongol
			}
		}
		NOT = { has_global_flag = mongol_empire_arrival }
	}
	is_triggered_only = yes

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.5
			year = 1213
		}
		modifier = {
			factor = 5
			year = 1215
		}
		modifier = {
			factor = 100 #If game has historical rule, ensure that the Mongol Invasion WILL happen when the time comes.
			has_game_rule = {
				name = mongol_invasion
				value = historical
			}
		}
		modifier = {
			factor = 0.5
			has_game_rule = {
				name = mongol_invasion
				value = random
			}
			NOT = { total_years_played = 100 }
		}
		modifier = {
			factor = 0.5
			has_game_rule = {
				name = mongol_invasion
				value = delayed_random
			}
			NOT = { total_years_played = 100 }
		}
		modifier = {
			factor = 0.5
			has_game_rule = {
				name = mongol_invasion
				value = random
			}
		}
		modifier = {
			factor = 0.6
			has_game_rule = {
				name = mongol_invasion
				value = delayed_random
			}
		}
	}

	immediate = {
		log = "60500: spawning Temujin for invasion"
		1457 = { save_event_target_as = emf_target_province } # Ordu Baliq

		set_global_flag = mongol_empire_arrival
		activate_title = { title = e_mongol_empire status = yes }

		create_character = {
			random_traits = no
			name = "Temujin"
			dna = "bfimkolbecc"
			dynasty = 11100
			properties = "ge0af0000000"
			age = 43
			attributes = {
				martial = 10
				diplomacy = 8
				intrigue = 8
				stewardship = 9
			}
			health = 6
			fertility = 0.7
			religion = tengri_pagan
			culture = mongol
			trait = adventurer
			trait = brave
			trait = ambitious
			trait = diligent
			trait = cruel
			trait = hunter
			trait = cavalry_leader
			trait = brilliant_strategist
		}

		new_character = {
			set_character_flag = is_temujin
			if = {
				limit = {
					has_dlc = "Holy Fury"
					NOT = {
						any_owned_bloodline = {
							has_bloodline_flag = genghis_khan_line
						}
					}
				}
				create_bloodline = {
					type = genghis_khan
				}
			}
			emf_new_character = yes
			e_mongol_empire = {
				set_title_landless = { title = THIS status = yes }
				set_title_flag = temporary_landless_title
				grant_title = PREV
			}
			set_defacto_liege = THIS
			if = {
				limit = { has_dlc = "Horse Lords" }
				set_government_type = nomadic_government
			}
			if = {
				limit = { NOT = { has_dlc = "Horse Lords" } }
				set_government_type = tribal_government
			}
			wealth = 15000
			set_character_flag = horde_invader
			save_event_target_as = mongol_china_invader
			prestige = 5000
			character_event = { id = 60505 } # Spawn Temujins generals
			character_event = { id = 60509 } # Spawn courtiers
			character_event = { id = 60510 } # Spawn troops
			character_event = { id = 60515 days = 1 } # Spawn population
			character_event = { id = emf_mongol.1000 } # Declare war
		}
		if = {
			limit = {
				has_dlc = "Jade Dragon"
				offmap_china = {
					OR = {
						NOT = { has_offmap_flag = china_invaded_player_dynasty }
						had_offmap_tmp_flag = {
							flag = china_invaded_player_dynasty
							years = 200
						}
					}
				}
			}
			event_target:mongol_china_invader = {
				character_event = { id = 60531 days = 100 random = 100 }
			}
		}
		k_papal_state = {
			owner = {
				if = {
					limit = {
						OR = {
							has_power_omen_modifier_trigger = yes
							has_battle_omen_modifier_trigger = yes
						}
					}
					set_character_flag = negative_event_flag # For the scrying outcome calculation...
				}
			}
		}
	}

	option = {
		name = "EVTOPTA60500"
		trigger = {
			OR = {
				religion_group = christian
				religion_group = muslim
				religion_group = pagan_group
			}
			NOT = { government = nomadic_government }
			has_power_omen_modifier_trigger = no
			has_battle_omen_modifier_trigger = no
		}
	}

	option = {
		name = "EVTOPTB60500"
		trigger = {
			NOT = { religion_group = christian }
			NOT = { religion_group = muslim }
			NOT = { religion_group = pagan_group }
			NOT = { government = nomadic_government }
			has_power_omen_modifier_trigger = no
			has_battle_omen_modifier_trigger = no
		}
	}

	option = {
		name = "EVTOPTC60500"
		trigger = {
			government = nomadic_government
			has_power_omen_modifier_trigger = no
			has_battle_omen_modifier_trigger = no
		}
	}

	option = { # scrying omen included
		name = "EVTOPTA60500"

		calculate_scrying_outcome_effect = yes
		remove_scrying_omen_modifiers_effect = yes
		tooltip_info = yes

		trigger = {
			OR = {
				religion_group = christian
				religion_group = muslim
				religion_group = pagan_group
			}
			NOT = { government = nomadic_government }
			OR = {
				has_power_omen_modifier_trigger = yes
				has_battle_omen_modifier_trigger = yes
			}
		}
	}

	option = { # scrying omen included
		name = "EVTOPTB60500"

		calculate_scrying_outcome_effect = yes
		remove_scrying_omen_modifiers_effect = yes
		tooltip_info = yes

		trigger = {
			NOT = { religion_group = christian }
			NOT = { religion_group = muslim }
			NOT = { religion_group = pagan_group }
			NOT = { government = nomadic_government }
			OR = {
				has_power_omen_modifier_trigger = yes
				has_battle_omen_modifier_trigger = yes
			}
		}
	}

	option = { # scrying omen included
		name = "EVTOPTC60500"

		calculate_scrying_outcome_effect = yes
		remove_scrying_omen_modifiers_effect = yes
		tooltip_info = yes

		trigger = {
			government = nomadic_government
			OR = {
				has_power_omen_modifier_trigger = yes
				has_battle_omen_modifier_trigger = yes
			}
		}
	}
}

# Remove landless status fired from on_action
character_event = {
	id = 60504
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		FROM = {
			tier = COUNT
		}
		primary_title = {
			has_title_flag = temporary_landless_title
			is_landless_type_title = yes
		}
	}

	immediate = {
		any_demesne_title = {
			limit = {
				has_title_flag = temporary_landless_title
			}
			set_title_landless = { title = THIS status = no }
		}
	}
}

# Spawn mongol leaders
character_event = {
	id = 60505
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		# Yesgei, Temujin's father
		create_character = {
			name = "Yesgei"
			age = 62
			dynasty = ROOT
			religion = ROOT
			culture = ROOT
			female = no
			trait = skilled_tactician
			random_traits = yes
		}
		new_character = {
			save_event_target_as = temujin_father
			dynasty = ROOT
			ROOT = { set_father = PREV }
		}

		# Hoelun, Temujin's mother
		create_character = {
			name = "Hoelun"
			age = 58
			dynasty = 101946
			religion = ROOT
			culture = ROOT
			female = yes
			health = 7.5
			random_traits = yes
		}
		new_character = {
			dynasty = 101946
			save_event_target_as = temujin_mother
			ROOT = { set_mother = PREV }
			add_spouse = event_target:temujin_father
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}

		# Hasar, Temujin's brother
		create_character = {
			random_traits = yes
			name = "Hasar"
			age = 42
			female = no
			dynasty = ROOT
			religion = ROOT
			culture = ROOT
			attributes = {
				martial = 8
			}
			trait = skilled_tactician
		}
		new_character = {
			dynasty = ROOT
			emf_new_character = yes
			set_father = event_target:temujin_father
			set_mother = event_target:temujin_mother
			opinion = { who = ROOT modifier = opinion_loyal_servant }
			ROOT = {
				create_character = {
					name = "Yesngge"
					random_traits = yes
					dynasty = ROOT
					religion = ROOT
					culture = ROOT
					female = no
					age = 3
				}
				new_character = {
					set_father = PREVPREV
					opinion = { who = ROOT modifier = opinion_loyal_servant }
				}
			}
		}

		# Hachiun, Temujin's second brother
		create_character = {
			random_traits = yes
			name = "Hachiun"
			age = 40
			female = no
			dynasty = ROOT
			religion = ROOT
			culture = ROOT
			attributes = {
				martial = 8
			}
			trait = skilled_tactician
		}
		new_character = {
			dynasty = ROOT
			emf_new_character = yes
			set_father = event_target:temujin_father
			set_mother = event_target:temujin_mother
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}

		# Temge, Temujin's youngest brother
		create_character = {
			random_traits = yes
			name = "Temge"
			age = 37
			female = no
			dynasty = ROOT
			religion = ROOT
			culture = ROOT
			health = 7.0
			trait = slothful
		}
		new_character = {
			dynasty = ROOT
			emf_new_character = yes
			set_father = event_target:temujin_father
			set_mother = event_target:temujin_mother
			opinion = { who = ROOT modifier = opinion_loyal_servant }
			ROOT = {
				create_character = {
					name = "Jibgan"
					random_traits = yes
					dynasty = ROOT
					religion = ROOT
					culture = ROOT
					female = no
					age = 13
				}
				new_character = {
					dynasty = ROOT
					set_father = PREVPREV
					opinion = { who = ROOT modifier = opinion_loyal_servant }
				}
			}
		}

		event_target:temujin_father = { death = { death_reason = death_battle } }

		# Belgtei, Temujin's half-brother
		create_character = {
			random_traits = yes
			name = "Belgtei"
			age = 37
			dynasty = ROOT
			religion = ROOT
			culture = ROOT
			attributes = {
				diplomacy = 8
			}
			trait = charismatic_negotiator
			trait = child_of_consort
		}
		new_character = {
			dynasty = ROOT
			emf_new_character = yes
			set_father = event_target:temujin_father
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}

		# Borte, Temujin's wife
		create_character = {
			name = "Borte"
			age = 44
			dynasty = 1041000
			religion = ROOT
			culture = ROOT
			female = yes
			random_traits = yes
		}
		new_character = {
			dynasty = 1041000
			emf_new_character = yes
			save_event_target_as = borte
			add_spouse = ROOT
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}

		# Subutai, Temujin's primary general
		create_character = {
			name = "Subutai"
			age = 35
			dynasty = 7315
			religion = ROOT
			culture = ROOT
			attributes = {
				martial = 10
				diplomacy = 4
				intrigue = 6
				stewardship = 6
			}
			trait = brave
			trait = strong
			trait = quick
			trait = diligent
			trait = brilliant_strategist
			trait = trickster
		}
		new_character = {
			dynasty = 7315
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}

		# Chepe, Temujin's secondary general
		create_character = {
			name="Jebe"
			dynasty = 7317
			age = 50
			religion = ROOT
			culture = ROOT
			attributes = {
				martial = 10
				diplomacy = 5
				intrigue = 5
				stewardship = 4
			}
			trait = skilled_tactician
			trait = brave
		}
		new_character = {
			dynasty = 7317
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}

		# Jochi, eldest son
		create_character = {
			random_traits = no
			name = "Jochi"
			age = 24
			dynasty = ROOT
			religion = ROOT
			culture = ROOT
			attributes = {
				martial = 8
			}
			trait = skilled_tactician
			trait = hunter
			trait = kind
			trait = patient
		}
		new_character = {
			dynasty = ROOT
			prestige = 500
			emf_new_character = yes
			set_father = ROOT
			set_mother = event_target:borte
			opinion = { who = ROOT modifier = opinion_loyal_servant }
			set_character_flag = line_of_jochi
			ROOT = {
				create_character = {
					name = "Sarkan"
					random_traits = yes
					dynasty = 1041002
					religion = ROOT
					culture = ROOT
					female = yes
					age = 19
				}
				new_character = {
					dynasty = 1041002
					emf_new_character = yes
					add_spouse = PREVPREV
					opinion = { who = ROOT modifier = opinion_loyal_servant }
					ROOT = {
						create_character = {
							name = "Batu"
							random_traits = yes
							dynasty = ROOT
							religion = ROOT
							culture = ROOT
							female = no
							age = 2
							attributes = {
								martial = 4
							}
						}
						new_character = {
							dynasty = ROOT
							set_father = PREVPREVPREVPREV
							set_mother = PREVPREV
							opinion = { who = ROOT modifier = opinion_loyal_servant }
						}
					}
				}
			}
		}

		# Chagatai, second son
		create_character = {
			random_traits = no
			dynasty = ROOT
			name = "Chagatai"
			culture = ROOT
			religion = ROOT
			age = 22
			trait = skilled_tactician
			trait = wroth
			trait = just
			trait = drunkard
		}
		new_character = {
			dynasty = ROOT
			prestige = 500
			emf_new_character = yes
			set_father = ROOT
			set_mother = event_target:borte
			set_character_flag = line_of_chagatai
			opinion = { who = ROOT modifier = opinion_loyal_servant }
			ROOT = {
				create_character = {
					name = "Ebuskun"
					random_traits = yes
					dynasty = 1041001
					religion = ROOT
					culture = ROOT
					female = yes
					age = 21
					trait = quick
				}
				new_character = {
					dynasty = 1041001
					emf_new_character = yes
					add_spouse = PREVPREV
					opinion = { who = ROOT modifier = opinion_loyal_servant }
					ROOT = {
						create_character = {
							name = "M'etken"
							random_traits = yes
							dynasty = ROOT
							religion = ROOT
							culture = ROOT
							female = no
							trait = conscientious
							attributes = {
								martial = 6
								intrigue = 3
							}
							age = 5
						}
						new_character = {
							dynasty = ROOT
							set_mother = PREVPREV
							set_father = PREVPREVPREVPREV
							opinion = { who = ROOT modifier = opinion_loyal_servant }
						}
						create_character = {
							name = "Yes Mongke"
							random_traits = yes
							dynasty = ROOT
							religion = ROOT
							culture = ROOT
							female = no
							age = 3
							trait = rowdy
							trait = quick
							attributes = {
								martial = 4
								diplomacy = 3
							}
						}
						new_character = {
							dynasty = ROOT
							set_mother = PREVPREV
							set_father = PREVPREVPREVPREV
							opinion = { who = ROOT modifier = opinion_loyal_servant }
						}
					}
				}
			}
		}

		# Ogodei, third son
		create_character = {
			random_traits = no
			dynasty = ROOT
			name = "Ogodei"
			culture = ROOT
			religion = ROOT
			age = 19
			attributes = {
				diplomacy = 8
			}
			trait = skilled_tactician
			trait = gregarious
			trait = just
			trait = hunter
			trait = ambitious
		}
		new_character = {
			dynasty = ROOT
			prestige = 500
			emf_new_character = yes
			set_father = ROOT
			set_mother = event_target:borte
			set_character_flag = line_of_ogodei
			opinion = { who = ROOT modifier = opinion_loyal_servant }
			ROOT = {
				create_character = {
					name = "Tregene"
					random_traits = yes
					dynasty = 1041001
					religion = ROOT
					culture = ROOT
					female = yes
					age = 17
				}
				new_character = {
					dynasty = 1041001
					emf_new_character = yes
					add_spouse = PREVPREV
					opinion = { who = ROOT modifier = opinion_loyal_servant }
					ROOT = {
						create_character = {
							name = "Guyug"
							random_traits = yes
							dynasty = ROOT
							religion = ROOT
							culture = ROOT
							female = no
							age = 1
							trait = affectionate
						}
						new_character = {
							dynasty = ROOT
							set_mother = PREVPREV
							set_father = PREVPREVPREVPREV
							opinion = { who = ROOT modifier = opinion_loyal_servant }
						}
					}
				}
			}
		}

		# Tolui, fourth son
		create_character = {
			dynasty = ROOT
			name = "Tolui"
			random_traits = yes
			culture = ROOT
			religion = ROOT
			attributes = {
				martial = 4
				stewardship = 8
			}
			age = 13
			trait = conscientious
			trait = timid
		}
		new_character = {
			dynasty = ROOT
			emf_new_character = yes
			set_father = ROOT
			set_mother = event_target:borte
			set_character_flag = line_of_tolui
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}

		# Daughters
		create_character = {
			random_traits = yes
			female = yes
			dynasty = ROOT
			name = "Khochen"
			culture = ROOT
			religion = ROOT
			age = 20
		}
		new_character = {
			dynasty = ROOT
			emf_new_character = yes
			set_father = ROOT
			set_mother = event_target:borte
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			female = yes
			dynasty = ROOT
			name = "Alakhai"
			culture = ROOT
			religion = ROOT
			age = 14
			trait = strong
			trait = fair
			attributes = {
				martial = 4
				diplomacy = 6
				stewardship = 6
			}
		}
		new_character = {
			dynasty = ROOT
			emf_new_character = yes
			set_father = ROOT
			set_mother = event_target:borte
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
	}
}

# Spawn extra courtiers
character_event = {
	id = 60509
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = no
			age = 16
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = no
			age = 18
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = no
			age = 18
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = no
			age = 20
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = no
			age = 25
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = no
			age = 26
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = no
			age = 28
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = yes
			age = 16
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = yes
			age = 17
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = yes
			age = 18
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = yes
			age = 18
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = yes
			age = 20
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = no
			age = 27
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = no
			age = 51
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = no
			age = 44
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
		create_character = {
			random_traits = yes
			dynasty = none
			religion = tengri_pagan
			culture = ROOT
			female = no
			age = 24
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			emf_new_character = yes
			opinion = { who = ROOT modifier = opinion_loyal_servant }
		}
	}
}

# Spawn mongol troops
character_event = {
	id = 60510
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		random = {
			chance = 50
			emf_mongol_spawn_unit = yes
			emf_mongol_spawn_unit = yes
			emf_mongol_spawn_unit = yes
		}
		random = {
			chance = 50
			emf_mongol_spawn_unit = yes
			emf_mongol_spawn_unit = yes
			emf_mongol_spawn_unit = yes
		}
	}
}

character_event = {
	id = 60515
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		population = 120000
		add_character_modifier = {
			modifier = invading_population_halt
			duration = 10950
			hidden = yes
		}
		character_event = {
			id = 60516
			days = 365
		}
	}
}

character_event = {
	id = 60516
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				NOT = { government = nomadic_government }
				NOT = { has_character_modifier = invading_population_halt }
			}
			remove_character_modifier = invading_population_halt
			break = yes
		}
		if = {
			limit = {
				NOT = { population_factor = 1 }
			}
			population = 80000
			if = {
				limit = {
					population = 350000
				}
				character_event = {
					id = 60517
					days = 365
				}
				break = yes
			}
		}
		repeat_event = {
			id = 60516
			days = 365
		}
	}
}

character_event = {
	id = 60517
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				NOT = { government = nomadic_government }
				NOT = { has_character_modifier = invading_population_halt }
			}
			remove_character_modifier = invading_population_halt
			break = yes
		}
		if = {
			limit = {
				NOT = { population_factor = 1 }
			}
			remove_character_modifier = invading_population_halt
			break = yes
		}
		repeat_event = {
			id = 60517
			days = 365
		}
	}
}

# Notify world about the greatest of Khans
narrative_event = {
	id = 60520
	title = EVTNAME60520
	desc = EVTDESC60520
	is_triggered_only = yes

	picture = GFX_evt_mongols
	border = GFX_event_narrative_frame_war

	option = {
		name = EVTOPTA_60520
		trigger = {
			primary_title = {
				title = e_mongol_empire
			}
		}
	}

	option = {
		name = EVTOPTB_60520
		trigger = {
			NOT = {
				primary_title = {
					title = e_mongol_empire
				}
			}
			NOT = {
				any_liege = {
					primary_title = {
						title = e_mongol_empire
					}
				}
			}
		}
	}

	option = {
		name = EVTOPTC_60520
		trigger = {
			any_liege = {
				primary_title = {
					title = e_mongol_empire
				}
			}
		}
	}
}

# Ai - reinforcement event for Genghis decision
character_event = {
	id = 60530
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		capital_scope = { save_event_target_as = emf_target_province }
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
		emf_mongol_spawn_unit = yes
	}
}

character_event = {
	id = 60531
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = { # If China exists - Invade it!
			limit = {
				offmap_china = {
					NOT = {
						has_status = china_mongol_invasion
					}
					offmap_ruler = {
						NOT = {
							dynasty = event_target:mongol_china_invader
						}
					}
				}
			}
			offmap_china = {
				if = {
					limit = { # Mongols take presedence over Jurchens/Civil War
						OR = {
							has_status = china_jurchen_invasion
							has_status = china_civil_war
						}
					}
					set_offmap_flag = no_status_news
					set_status = china_unrest
					set_offmap_flag = china_had_unrest
					clr_offmap_flag = no_status_news
				}
				governor = {
					offmap_china = {
						set_offmap_flag = no_status_news
						set_status = china_mongol_invasion
						set_offmap_flag = china_mongol_invasion
						clr_offmap_flag = no_status_news
					}
					any_player = {
						limit = {
							has_offmap_news_enabled = offmap_china
							is_within_diplo_range = PREV
						}
						narrative_event = { id = JD.50141 }
					}
				}
			}
		}
	}
}

##################################
# Rise of the Sultanate of Rum
##################################

# A Turkic character wants a foothold in Armenia
character_event = {
	id = 60600
	
	hide_window = yes # Only fires for unplayable landless characters
	
	min_age = 16
	max_age = 50
	only_men = yes
	capable_only = yes
	prisoner = no
	
	culture_group = altaic
	religion_group = muslim
	
	trigger = {
		OR = { # Pacing mechanic, we don't want too many adventurers to spawn at once
			had_global_flag = { flag = rum_invader_spawned years = 10 }
			NOT = {
				has_global_flag = rum_invader_spawned
			}
		}
	
		OR = {
			AND = {
				diplomacy = 5
				martial = 9
				health = 4
			}
			has_character_flag = demon_child_non_pagan
		}
		
		father_even_if_dead = { # Is of a noble house
			always = yes
		}
		
		NOT = { trait = content }
		NOT = { trait = craven }
		
		NOT = {
			has_game_rule = {
				name = turkic_invasions
				value = off
			}
		}
		OR = {
			AND = {
				has_game_rule = {
					name = turkic_invasions
					value = historical
				}
				year = 1000
				NOT = { year = 1200 }
			}
			AND = {
				has_game_rule = {
					name = turkic_invasions
					value = random
				}
				year = 809
				NOT = { year = 1200 }
			}
		}
		
		NOT = { has_global_flag = rum_spawned }
		OR = {
			NOT = { has_global_flag = rum_spawning }
			had_global_flag = { flag = rum_spawning days = 1460 }
		}
		
		is_ruler = no
		NOT = { any_spouse = { is_ruler = yes } }
		
		NOT = { # Somewhat clunky way of checking that the character does not stand to inherit any titles
			any_heir_title = {
				always = yes
			}
		}
		
		liege = {
			culture_group = altaic
			capital_scope = {
				kingdom = {
					OR ={
						title = k_mesopotamia
						title = k_persia
						title = k_syria
						title = k_armenia
					}
				}
			}
		}
	}
	
	mean_time_to_happen = {
		months = 120
		modifier = {
			factor = 20
			NOT = { dynasty = 613 } # Seljuk 
		}
		modifier = {
			factor = 0.5
			OR = {
				culture = turkish
				culture = turkmen
			}
		}
		modifier = {
			factor = 0.5
			has_character_flag = flag_denied_title
		}
		modifier = {
			factor = 0.01
			has_character_flag = demon_child_non_pagan
		}
		modifier = {
			factor = 3.0
			trait = slothful
		}
		modifier = {
			factor = 3.0
			trait = humble
		}
		modifier = {
			factor = 3.0
			trait = kind
		}
	}
	
	immediate = {
		set_global_flag = rum_invader_spawned
		random_independent_ruler = {
			limit = {
				is_landed = yes
				independent = yes
				in_revolt = no
				ROOT = {
					liege = {
						NOT = {
							war_with = PREVPREV
						}
					}
				}
				NOT = { same_realm = ROOT }
				NOT = { religion_group = muslim }
				any_realm_province = {
					OR = {
						kingdom = {
							title = k_armenia
						}
						duchy = {
							title = d_azerbaijan
						}
					}
				}
			}
			
			random_realm_province = {
				limit = {
					OR = {
						kingdom = {
							title = k_armenia
						}
						duchy = {
							title = d_azerbaijan
						}
					}
				}
				
				save_event_target_as = target_province
				
				ROOT = {
					opinion = {
						who = PREVPREV
						years = 3
						modifier = opinion_duchy_adventure_target
					}
					add_character_modifier = {
						name = planning_duchy_adventure
						hidden = yes
						days = 730
					}
					character_event = {
						id = 60603 # Fire the attack
						days = 730
					}
					
					end_inaccessibility_effect = yes #removes in hiding or in_seclusion
					set_character_flag = do_not_disturb
					character_event = { id = 60602 days = 730 } # Safety clear of DND
					set_global_flag = rum_spawning
				}
				PREV = {
					character_event = {
						id = 60601 # Warn the target
					}
				}
			}
		}
	}
}

# Warn the target
character_event = {
	id = 60601
	desc = EVTDESC_TOG_1211
	picture = GFX_evt_mongols
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	immediate = {
		opinion = {
			who = FROM
			modifier = opinion_targeted_by_adventurer
			months = 24
		}
	}
	
	option = {
		name = EVTOPTA_TOG_1211
	}
}

# Safety clear of DND
character_event = {
	id = 60602
	
	is_triggered_only = yes
	
	hide_window = yes
	
	immediate = {
		clr_character_flag = do_not_disturb
	}
}

# Launch the attack!
character_event = {
	id = 60603
	
	hide_window = yes 
	
	is_triggered_only = yes

	prisoner = no
	only_capable = yes
	
	trigger = {
		is_ruler = no
		NOT = { any_spouse = { is_ruler = yes } }
		
		NOT = {
			any_heir_title = {
				always = yes
			}
		}
		
		event_target:target_province = {
			owner = {
				top_liege = {
					is_landed = yes
					independent = yes
					NOT = { same_realm = ROOT }
					NOT = { religion_group = muslim }
				}
			}
		}
	}
	
	immediate = {
		wealth = 500
		clr_character_flag = do_not_disturb
		
		set_character_flag = rum_creator
		
		liege = {
			character_event = {
				id = 60604
				days = 1
			}
		}
		
		liege = {
			capital_scope = {
				event_target:target_province = {
					top_liege = {
						ROOT = {
							set_defacto_liege = ROOT
							create_title = {
								tier = DUKE
								landless = yes
								temporary = yes
								adventurer = yes
								culture = ROOT
								name = "CLAIMANT_ADVENTURE"
								holder = ROOT
							}
							
							set_character_flag = duchy_adventurer
						
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = THIS
								match_character = PREV
								match_mult = 0.25
								match_min = 2000
								match_max = 10000
								attrition = 0.25
							}
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = THIS
								match_character = PREV
								match_mult = 0.25
								match_min = 2000
								match_max = 10000
								attrition = 0.25
							}
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = THIS
								match_character = PREV
								match_mult = 0.25
								match_min = 2000
								match_max = 10000
								attrition = 0.25
							}
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = THIS
								match_character = PREV
								match_mult = 0.25
								match_min = 2000
								match_max = 10000
								attrition = 0.25
								cannot_inherit = yes
							}
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = THIS
								match_character = PREV
								match_mult = 0.25
								match_min = 2000
								match_max = 10000
								attrition = 0.25
								cannot_inherit = yes
							}
							spawn_unit = {
								province = PREVPREVPREV
								home = PREVPREVPREV
								owner = THIS
								match_character = PREV
								match_mult = 0.25
								match_min = 2000
								match_max = 10000
								attrition = 0.25
								cannot_inherit = yes
							}
							war = {
								target = PREV
								casus_belli = duchy_adventure
								thirdparty_title = PREVPREV
								tier = DUKE
							}
							remove_opinion = {
								who = PREV
								modifier = opinion_duchy_adventure_target
							}
						}
					}
				}
			}
		}
		
		# Create some decent commander characters
		create_random_soldier = {
			random_traits = yes
			dynasty = none
			religion = ROOT
			culture = ROOT
			female = no
			age = 30
		}
		create_random_soldier = {
			random_traits = yes
			dynasty = none
			religion = ROOT
			culture = ROOT
			female = no
			age = 25
		}
		create_random_soldier = {
			random_traits = yes
			dynasty = none
			religion = ROOT
			culture = ROOT
			female = no
			age = 19
		}
		create_random_soldier = {
			random_traits = yes
			dynasty = none
			religion = ROOT
			culture = ROOT
			female = no
			age = 23
		}
		
		clr_global_flag = rum_spawning
		set_global_flag = rum_spawned
	}
}


character_event = {
	id = 60604
	desc = EVTDESC_TOG_1213
	picture = GFX_evt_mongols
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		FROM = { is_ruler = yes } # The DoW worked and the adventurer has a temporary title
	}
	
	immediate = {
		FROM = {
			add_trait = adventurer
		}
		any_liege = {
			character_event = {
				id = 60605
			}
		}
	}
	
	option = {
		name = EVTOPTA_TOG_1203
	}
}

character_event = {
	id = 60605
	desc = EVTDESC_TOG_1214
	picture = GFX_evt_mongols
	border = GFX_event_normal_frame_war
	
	show_from_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_TOG_1203
	}
}

#######################################
# Stage 2 (Armenia) and 3 (Anatolia)
# Fired from CB 'duchy_adventure' or 'kingdom_adventure'
#######################################
character_event = {
	id = 60610
	
	is_triggered_only = yes
	hide_window = yes
	ai = yes
	
	immediate = {
		if = {
			limit = {
				war = no
				independent = yes
			}
			random_independent_ruler = {
				limit = {
					is_landed = yes
					independent = yes
					in_revolt = no
					NOT = { reverse_has_truce = ROOT }
					NOT = { religion_group = muslim }
					any_realm_province = {
						kingdom = {
							title = k_armenia
						}
					}
				}
				random_realm_province = {
					limit = {
						kingdom = {
							title = k_armenia
						}
					}
					ROOT = {
						capital_scope = {
							ROOT = {
								spawn_unit = {
									province = PREV
									home = PREV
									owner = THIS
									match_character = PREVPREVPREVPREV
									match_mult = 0.25
									match_min = 2000
									match_max = 10000
									attrition = 0.25
								}
								spawn_unit = {
									province = PREV
									home = PREV
									owner = THIS
									match_character = PREVPREVPREVPREV
									match_mult = 0.25
									match_min = 2000
									match_max = 10000
									attrition = 0.25
								}
								spawn_unit = {
									province = PREV
									home = PREV
									owner = THIS
									match_character = PREVPREVPREVPREV
									match_mult = 0.25
									match_min = 2000
									match_max = 10000
									attrition = 0.25
								}
							}
						}
						war = {
							target = PREVPREV
							casus_belli = kingdom_adventure
							thirdparty_title = PREV
							tier = KING
						}
						break = yes
					}
				}
			}
			e_byzantium = {
				holder_scope = {
					if = {
						limit = {
							NOT = { religion_group = muslim }
							NOT = { reverse_has_truce = ROOT }
							any_realm_province = {
								kingdom = {
									title = k_anatolia
								}
							}
						}
						random_realm_province = {
							limit = {
								kingdom = {
									title = k_anatolia
								}
							}
							ROOT = {
								capital_scope = {
									ROOT = {
										spawn_unit = {
											province = PREV
											home = PREV
											owner = THIS
											match_character = PREVPREVPREVPREV
											match_mult = 0.25
											match_min = 2000
											match_max = 10000
											attrition = 0.25
										}
										spawn_unit = {
											province = PREV
											home = PREV
											owner = THIS
											match_character = PREVPREVPREVPREV
											match_mult = 0.25
											match_min = 2000
											match_max = 10000
											attrition = 0.25
										}
										spawn_unit = {
											province = PREV
											home = PREV
											owner = THIS
											match_character = PREVPREVPREVPREV
											match_mult = 0.25
											match_min = 2000
											match_max = 10000
											attrition = 0.25
										}
									}
								}
								war = {
									target = PREVPREV
									casus_belli = kingdom_adventure
									thirdparty_title = PREV
									tier = KING
								}
								break = yes
							}
						}
					}
				}
			}
		}
		
		repeat_event = { 
			id = 60610
			days = 30
		}
	}
}
