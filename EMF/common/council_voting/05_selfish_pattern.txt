# -*- ck2.council_voting -*-

selfish_pattern_for = {
	icon = 11
	pattern_type = for
	
	##### INTERACTIONS
	
	declare_war_interaction = {
	# Councillor might gain a title
		custom_tooltip = {
			text = pattern_selfish_gain_title_custom_tooltip
			hidden_tooltip = {
				FROMFROMFROM = { # Gainer
					character = ROOT
				}	
			}
		}
	}
	ask_to_join_war_interaction = {
		OR = {
			custom_tooltip = {
				text = pattern_selfish_affects_me_positively_custom_tooltip
				hidden_tooltip = {
					FROMFROM = { # Gainer
						character = ROOT
					}
				}
			}
			custom_tooltip = {
				text = pattern_selfish_helps_my_ally_custom_tooltip
				hidden_tooltip = {
					FROMFROM = { # Gainer
						is_allied_with = ROOT
					}
				}
			}
		}
	}
	form_non_aggression_pact_interaction = {
		custom_tooltip = {
			text = pattern_selfish_gain_title_custom_tooltip
			hidden_tooltip = {
				character = FROMFROM
			}
		}
	}
	form_alliance_interaction = {
		custom_tooltip = {
			text = pattern_selfish_gain_title_custom_tooltip
			hidden_tooltip = {
				character = FROMFROM
			}
		}
	}
	
	grant_landed_title_interaction = {
		OR = {
			custom_tooltip = {
				text = pattern_selfish_gain_title_custom_tooltip
				hidden_tooltip = {
					FROMFROM = {
						character = ROOT
					}
				}
			}
			custom_tooltip = {
				text = pattern_vastly_over_demesne_tooltip
				hidden_tooltip = {
					AND = {
						liege = {
							is_nomadic = no
							over_max_demesne_size = 4
						}
						FROMFROMFROM = {
							OR = {
								tier = BARON
								tier = COUNT
							}
						}
					}	
				}
			}
		}
	}
	recruit_prisoner = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_positively_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}
			}
		}
	}
	emf_prisoner_house_arrest = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_positively_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}
			}
		}
	}
	emf_prisoner_dungeon = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_positively_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
					has_character_modifier = the_oubliette
				}
			}
		}
	}
	release_from_prison_interaction = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_positively_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}
			}
		}
	}
	transfer_vassal_interaction = {
		custom_tooltip = {
			text = pattern_selfish_gain_title_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}
			}
		}
	}
	release_vassal_interaction = {
		custom_tooltip = {
			text = pattern_selfish_indepedence_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
					in_faction = faction_independence
				}
			}
		}
	}
	offer_vassalization_interaction = {
		custom_tooltip = {
			text = pattern_selfish_no_independence_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
					NOT = { in_faction = faction_independence }
					opinion = { who = FROM value = -30 }
					OR = {
						de_jure_liege_or_above = FROM
						culture_group = FROM
						AND = {
							culture = FROM
							religion = FROM
						}
					}
				}
			}
		}
	}
	release_tributary = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_positively_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}
			}
		}
	}
	
	enforce_peace = {
		OR = {
			custom_tooltip = {
				text = pattern_selfish_save_my_hide_custom_tooltip
				hidden_tooltip = {
					any_war = {
						any_defender = {
							character = ROOT
						}
						attacker = {
							is_liege_or_above = FROM
						}
						OR = {
							war_score = -5
							defender = {
								attacker = {
									relative_power_including_allies_attacker = {
										who = PREV # Defender
										power = 1.0
									}
								}
							}
						}
					}
				}
			}
			
			custom_tooltip = {
				text = pattern_selfish_save_ally_custom_tooltip
				hidden_tooltip = {
					any_allied_character = {
						any_war = {
							defender = {
								is_allied_with = ROOT
							}
							attacker = {
								is_liege_or_above = FROM
							}
							OR = {
								war_score = -5
								defender = {
									attacker = {
										relative_power_including_allies_attacker = {
											who = PREV # Defender
											power = 1.0
										}
									}
								}
							}
						}
					}	
				}
			}
		}
	}
	
	###### LAWS
	
	# If I am religious head, vote yes on papal investiture
	investiture_law_0 = {
		OR = {
			religion_head = {
				character = ROOT
			}
			FROMFROM = {
				religion_head = {
					character = ROOT
				}
			}
			# Theocracies under Princely Elective will want Papal Investiture
			AND = {
				custom_tooltip = {
					text = pattern_selfish_hre_elector_custom_tooltip
					hidden_tooltip = {
						is_theocracy = yes
						FROM = {
							primary_title = {
								succ_law_title = {
									has_law = succ_hre_elective
								}
							}
						}
						OR = { # To make sure they are still dejure vassals of HRE
							e_hre = { #Counts
								persistent_event_target:hre_title_1_per = { 
									holder_scope = { character = ROOT } 
									OR = { 
										any_dejure_liege = { character = FROM } 
										ROOT = { #Popes need no dejure
											religion_head = { character = ROOT } 
										}
									}
								}
							}
							e_hre = { 
								persistent_event_target:hre_title_2_per = { 
									holder_scope = { character = ROOT }
									OR = { 
										any_dejure_liege = { character = FROM } 
										ROOT = { #Popes need no dejure
											religion_head = { character = ROOT } 
										}
									}
								}
							}
							e_hre = { 
								persistent_event_target:hre_title_3_per = { 
									holder_scope = { character = ROOT }
									OR = { 
										any_dejure_liege = { character = FROM } 
										ROOT = { #Popes need no dejure
											religion_head = { character = ROOT } 
										}
									}
								}
							}
							e_hre = { #Dukes
								persistent_event_target:hre_title_4_per = { 
									holder_scope = { character = ROOT } 
									OR = { 
										any_dejure_liege = { character = FROM } 
										ROOT = { #Popes need no dejure
											religion_head = { character = ROOT } 
										}
									}
								}
							}
							e_hre = { 
								persistent_event_target:hre_title_5_per = { 
									holder_scope = { character = ROOT }
									OR = { 
										any_dejure_liege = { character = FROM } 
										ROOT = { #Popes need no dejure
											religion_head = { character = ROOT } 
										}
									}
								}
							}
							e_hre = { 
								persistent_event_target:hre_title_6_per = { 
									holder_scope = { character = ROOT }
									OR = { 
										any_dejure_liege = { character = FROM } 
										ROOT = { #Popes need no dejure
											religion_head = { character = ROOT } 
										}
									}
								}
							}
							e_hre = { 
								persistent_event_target:hre_title_7_per = { 
									holder_scope = { character = ROOT }
									OR = { 
										any_dejure_liege = { character = FROM } 
										ROOT = { #Popes need no dejure
											religion_head = { character = ROOT } 
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	# If I am the king, vote yes on king investiture
	investiture_law_1 = {
		FROMFROM = { character = ROOT }
		NOR = {
			religion_head = {
				character = ROOT
			}
			FROMFROM = {
				religion_head = {
					character = ROOT
				}
			}
		}
	}
	
	# Female could gain a more appropriate job
	status_of_women_1 = {
		custom_tooltip = {
			text = pattern_selfish_gain_job_custom_tooltip
			hidden_tooltip = {
				is_female = yes
				liege = { character = FROM }
				OR = {
					liege = {
						OR = {
							dynasty = ROOT
							is_close_relative = ROOT
							any_spouse = { character = ROOT }
							any_consort = { character = ROOT }
						}
					}
					is_landed = yes
					trait = nun
				}
				FROM = {
					primary_title = {
						has_law = status_of_women_0
					}
				}
				# Spymaster
				intrigue = 8
				calc_true_if = {
					amount = 2
					has_education_intrigue_trigger = yes
					has_lifestyle_intrigue_trigger = yes
					intrigue = 12
				}
				NAND = {
					religion_group = pagan_group
					liege = {
						religion_group = pagan_group
					}
				}
				OR = {
					NOT = { religion = cathar }
					NOT = { trait = perfecti }
				}
				OR = {
					NOT = { religion = bogomilist }
					NOR = {
						trait = perfecti
						is_theocracy = yes
					}
					liege = {
						religion = bogomilist
						OR = {
							has_law = bogomilist_church_2
							has_law = bogomilist_church_3
							has_law = bogomilist_church_4
						}
					}
				}
				NOT = { has_character_flag = guru }
			}
		}
	}
	status_of_women_2 = {
		custom_tooltip = {
			text = pattern_selfish_gain_job_custom_tooltip
			hidden_tooltip = {
				is_female = yes
				liege = { character = FROM }
				OR = {
					liege = {
						OR = {
							dynasty = FROM
							is_close_relative = FROM
							any_spouse = { character = FROM }
							any_consort = { character = FROM }
						}
					}
					is_landed = yes
					trait = nun
				}
				OR = {
					AND = {
						# Spymaster
						intrigue = 8
						FROM = {
							primary_title = {
								has_law = status_of_women_0
							}
						}
						calc_true_if = {
							amount = 2
							has_education_intrigue_trigger = yes
							has_lifestyle_intrigue_trigger = yes
							intrigue = 12
						}
						NAND = {
							religion_group = pagan_group
							liege = {
								religion_group = pagan_group
							}
						}
						OR = {
							NOT = { religion = cathar }
							NOT = { trait = perfecti }
						}
						OR = {
							NOT = { religion = bogomilist }
							NOR = {
								trait = perfecti
								is_theocracy = yes
							}
							liege = {
								religion = bogomilist
								OR = {
									has_law = bogomilist_church_2
									has_law = bogomilist_church_3
									has_law = bogomilist_church_4
								}
							}
						}
						NOT = { has_character_flag = guru }
					}
					AND = {
						# Chancellor
						diplomacy = 8
						FROM = {
							primary_title = {
								OR = {
									has_law = status_of_women_0
									has_law = status_of_women_1
								}
							}
						}
						calc_true_if = {
							amount = 2
							has_education_diplomacy_trigger = yes
							has_lifestyle_diplomacy_trigger = yes
							diplomacy = 12
						}
						OR = {
							NOT = { religion = waldensian }
							is_theocracy = no
							is_ruler = no
						}
						OR = {
							NOT = { religion = bogomilist }
							NOR = {
								trait = perfecti
								is_theocracy = yes
							}
							liege = {
								religion = bogomilist
								OR = {
									has_law = bogomilist_church_2
									has_law = bogomilist_church_3
									has_law = bogomilist_church_4
								}
							}
						}
					}
					AND = {
						# Treasurer
						stewardship = 8
						FROM = {
							primary_title = {
								OR = {
									has_law = status_of_women_0
									has_law = status_of_women_1
								}
							}
						}
						calc_true_if = {
							amount = 2
							has_education_stewardship_trigger = yes
							has_lifestyle_stewardship_trigger = yes
							stewardship = 12
						}
						OR = {
							NOT = { religion = waldensian }
							is_theocracy = no
							is_ruler = no
						}
						OR = {
							NOT = { religion = bogomilist }
							NOR = {
								trait = perfecti
								is_theocracy = yes
							}
							liege = {
								religion = bogomilist
								OR = {
									has_law = bogomilist_church_2
									has_law = bogomilist_church_3
									has_law = bogomilist_church_4
								}
							}
						}
						NOT = { has_character_flag = guru }
					}
				}
			}
		}
	}
	status_of_women_3 = {
		OR = {
			custom_tooltip = {
				text = pattern_selfish_gain_job_custom_tooltip
				hidden_tooltip = {
					is_female = yes
					liege = { character = FROM }
					OR = {
						liege = {
							OR = {
								dynasty = FROM
								is_close_relative = FROM
								any_spouse = { character = FROM }
								any_consort = { character = FROM }
							}
						}
						is_landed = yes
						trait = nun
					}
					OR = {
						AND = {
							# Spymaster
							intrigue = 8
							FROM = {
								primary_title = {
									has_law = status_of_women_0
								}
							}
							calc_true_if = {
								amount = 2
								has_education_intrigue_trigger = yes
								has_lifestyle_intrigue_trigger = yes
								intrigue = 12
							}
							NAND = {
								religion_group = pagan_group
								liege = {
									religion_group = pagan_group
								}
							}
							OR = {
								NOT = { religion = cathar }
								NOT = { trait = perfecti }
							}
							OR = {
								NOT = { religion = bogomilist }
								NOR = {
									trait = perfecti
									is_theocracy = yes
								}
								liege = {
									religion = bogomilist
									OR = {
										has_law = bogomilist_church_2
										has_law = bogomilist_church_3
										has_law = bogomilist_church_4
									}
								}
							}
							NOT = { has_character_flag = guru }
						}
						AND = {
							# Chancellor
							diplomacy = 8
							FROM = {
								primary_title = {
									OR = {
										has_law = status_of_women_0
										has_law = status_of_women_1
									}
								}
							}
							calc_true_if = {
								amount = 2
								has_education_diplomacy_trigger = yes
								has_lifestyle_diplomacy_trigger = yes
								diplomacy = 12
							}
							OR = {
								NOT = { religion = waldensian }
								is_theocracy = no
								is_ruler = no
							}
							OR = {
								NOT = { religion = bogomilist }
								NOR = {
									trait = perfecti
									is_theocracy = yes
								}
								liege = {
									religion = bogomilist
									OR = {
										has_law = bogomilist_church_2
										has_law = bogomilist_church_3
										has_law = bogomilist_church_4
									}
								}
							}
						}
						AND = {
							# Treasurer
							stewardship = 8
							FROM = {
								primary_title = {
									OR = {
										has_law = status_of_women_0
										has_law = status_of_women_1
									}
								}
							}
							calc_true_if = {
								amount = 2
								has_education_stewardship_trigger = yes
								has_lifestyle_stewardship_trigger = yes
								stewardship = 12
							}
							OR = {
								NOT = { religion = waldensian }
								is_theocracy = no
								is_ruler = no
							}
							OR = {
								NOT = { religion = bogomilist }
								NOR = {
									trait = perfecti
									is_theocracy = yes
								}
								liege = {
									religion = bogomilist
									OR = {
										has_law = bogomilist_church_2
										has_law = bogomilist_church_3
										has_law = bogomilist_church_4
									}
								}
							}
							NOT = { has_character_flag = guru }
						}
						AND = {
							# Marshal/Commander
							martial = 8
							FROM = {
								primary_title = {
									OR = {
										has_law = status_of_women_0
										has_law = status_of_women_1
										has_law = status_of_women_2
									}
								}
							}
							calc_true_if = {
								amount = 2
								has_education_martial_trigger = yes
								has_lifestyle_martial_trigger = yes
								martial = 12
							}
							OR = {
								NOT = { religion = hindu }
								trait = kshatriya
							}
							OR = {
								NOT = { religion = cathar }
								NOT = { trait = perfecti }
							}
							OR = {
								NOT = { religion = bogomilist }
								NOR = {
									trait = perfecti
									is_theocracy = yes
								}
								liege = {
									religion = bogomilist
									OR = {
										has_law = bogomilist_church_2
										has_law = bogomilist_church_3
										has_law = bogomilist_church_4
									}
								}
							}
						}
					}
				}
			}
			custom_tooltip = {
				text = pattern_selfish_become_heir_custom_tooltip
				hidden_tooltip = {
					liege = { character = FROM }
					is_female = yes
					FROM = {
						primary_title = {
							OR = {
								has_law = status_of_women_0
								has_law = status_of_women_1
								has_law = status_of_women_2
							}
						}
						OR = {
							emf_antifeminist_religion = no
							succ_law_title = {
								NOT = { has_law = cognatic_succession }
							}
						}
					}
					OR = {
						AND = {
							OR = {
								is_landed = yes
								from_ruler_dynasty = yes
							}
							FROM = {
								succ_law_title = {
									has_law = succ_feudal_elective
								}
							}
						}
						AND = {
							from_ruler_dynasty = yes
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_hre_elective
										has_law = succ_byzantine_elective
									}
								}
							}
						}
						AND = {
							clan = yes
							FROM = {
								succ_law_title = {
									has_law = succ_nomad_succession
								}
							}
						}
						FROM = {
							succ_law_title = {
								has_law = succ_open_elective
							}
						}
						AND = {
							is_child_of = FROM
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_gavelkind
										has_law = succ_elective_gavelkind
										has_law = succ_primogeniture
										has_law = succ_ultimogeniture
										has_law = succ_turkish_succession
									}
								}
							}
						}
						AND = {
							FROM = {
								succ_law_title = {
									has_law = succ_patrician_elective
								}
							}
							any_dynasty_member = {
								OR = {
									is_patrician = yes
									is_merchant_republic = yes
								}
							}
						}
						AND = {
							from_ruler_dynasty = yes
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_tanistry
										has_law = succ_seniority
										has_law = succ_elective_gavelkind
										has_law = succ_eldership
#										has_law = succ_mirath
									}
								}
							}
						}
					}
				}
			}
		}
	}
	status_of_women_4 = {
		OR = {
			custom_tooltip = {
				text = pattern_selfish_gain_job_custom_tooltip
				hidden_tooltip = {
					liege = { character = FROM }
					is_female = yes
					OR = {
						AND = {
							# Spymaster
							intrigue = 8
							OR = {
								FROM = {
									primary_title = {
										has_law = status_of_women_0
									}
								}
								NOR = {
									liege = {
										OR = {
											dynasty = FROM
											is_close_relative = FROM
											any_spouse = { character = FROM }
											any_consort = { character = FROM }
										}
									}
									is_landed = yes
									trait = nun
								}
							}
							calc_true_if = {
								amount = 2
								has_education_intrigue_trigger = yes
								has_lifestyle_intrigue_trigger = yes
								intrigue = 12
							}
							NAND = {
								religion_group = pagan_group
								liege = {
									religion_group = pagan_group
								}
							}
							OR = {
								NOT = { religion = cathar }
								NOT = { trait = perfecti }
							}
							OR = {
								NOT = { religion = bogomilist }
								NOR = {
									trait = perfecti
									is_theocracy = yes
								}
								liege = {
									religion = bogomilist
									OR = {
										has_law = bogomilist_church_2
										has_law = bogomilist_church_3
										has_law = bogomilist_church_4
									}
								}
							}
							NOT = { has_character_flag = guru }
						}
						AND = {
							# Chancellor
							diplomacy = 8
							OR = {
								FROM = {
									primary_title = {
										OR = {
											has_law = status_of_women_0
											has_law = status_of_women_1
										}
									}
								}
								NOR = {
									liege = {
										OR = {
											dynasty = FROM
											is_close_relative = FROM
											any_spouse = { character = FROM }
											any_consort = { character = FROM }
										}
									}
									is_landed = yes
									trait = nun
								}
							}
							calc_true_if = {
								amount = 2
								has_education_diplomacy_trigger = yes
								has_lifestyle_diplomacy_trigger = yes
								diplomacy = 12
							}
							OR = {
								NOT = { religion = waldensian }
								is_theocracy = no
								is_ruler = no
							}
							OR = {
								NOT = { religion = bogomilist }
								NOR = {
									trait = perfecti
									is_theocracy = yes
								}
								liege = {
									religion = bogomilist
									OR = {
										has_law = bogomilist_church_2
										has_law = bogomilist_church_3
										has_law = bogomilist_church_4
									}
								}
							}
						}
						AND = {
							# Treasurer
							stewardship = 8
							OR = {
								FROM = {
									primary_title = {
										OR = {
											has_law = status_of_women_0
											has_law = status_of_women_1
										}
									}
								}
								NOR = {
									liege = {
										OR = {
											dynasty = FROM
											is_close_relative = FROM
											any_spouse = { character = FROM }
											any_consort = { character = FROM }
										}
									}
									is_landed = yes
									trait = nun
								}
							}
							calc_true_if = {
								amount = 2
								has_education_stewardship_trigger = yes
								has_lifestyle_stewardship_trigger = yes
								stewardship = 12
							}
							OR = {
								NOT = { religion = waldensian }
								is_theocracy = no
								is_ruler = no
							}
							OR = {
								NOT = { religion = bogomilist }
								NOR = {
									trait = perfecti
									is_theocracy = yes
								}
								liege = {
									religion = bogomilist
									OR = {
										has_law = bogomilist_church_2
										has_law = bogomilist_church_3
										has_law = bogomilist_church_4
									}
								}
							}
							NOT = { has_character_flag = guru }
						}
						AND = {
							# Marshal/Commander
							martial = 8
							OR = {
								FROM = {
									primary_title = {
										OR = {
											has_law = status_of_women_0
											has_law = status_of_women_1
											has_law = status_of_women_2
										}
									}
								}
								NOR = {
									liege = {
										OR = {
											dynasty = FROM
											is_close_relative = FROM
											any_spouse = { character = FROM }
											any_consort = { character = FROM }
										}
									}
									is_landed = yes
									trait = nun
								}
							}
							calc_true_if = {
								amount = 2
								has_education_martial_trigger = yes
								has_lifestyle_martial_trigger = yes
								martial = 12
							}
							OR = {
								NOT = { religion = hindu }
								trait = kshatriya
							}
							OR = {
								NOT = { religion = cathar }
								NOT = { trait = perfecti }
							}
							OR = {
								NOT = { religion = bogomilist }
								NOR = {
									trait = perfecti
									is_theocracy = yes
								}
								liege = {
									religion = bogomilist
									OR = {
										has_law = bogomilist_church_2
										has_law = bogomilist_church_3
										has_law = bogomilist_church_4
									}
								}
							}
						}
					}
				}
			}
			
			custom_tooltip = {
				text = pattern_selfish_become_heir_custom_tooltip
				hidden_tooltip = {
					liege = { character = FROM }
					is_female = yes
					FROM = {
						succ_law_title = {
							NOR = {
								has_law = true_cognatic_succession
								has_law = enatic_cognatic_succession
								has_law = enatic_succession
							}
						}
						OR = {
							emf_antifeminist_religion = no
							succ_law_title = {
								NOT = { has_law = cognatic_succession }
							}
						}
					}
					OR = {
						AND = {
							OR = {
								is_landed = yes
								from_ruler_dynasty = yes
							}
							FROM = {
								succ_law_title = {
									has_law = succ_feudal_elective
								}
							}
						}
						AND = {
							from_ruler_dynasty = yes
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_hre_elective
										has_law = succ_byzantine_elective
									}
								}
							}
						}
						AND = {
							clan = yes
							FROM = {
								succ_law_title = {
									has_law = succ_nomad_succession
								}
							}
						}
						FROM = {
							succ_law_title = {
								has_law = succ_open_elective
							}
						}
						AND = {
							is_child_of = FROM
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_gavelkind
										has_law = succ_elective_gavelkind
										has_law = succ_primogeniture
										has_law = succ_ultimogeniture
										has_law = succ_turkish_succession
									}
								}
							}
						}
						AND = {
							FROM = {
								succ_law_title = {
									has_law = succ_patrician_elective
								}
							}
							any_dynasty_member = {
								OR = {
									is_patrician = yes
									is_merchant_republic = yes
								}
							}
						}
						AND = {
							from_ruler_dynasty = yes
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_tanistry
										has_law = succ_seniority
										has_law = succ_elective_gavelkind
										has_law = succ_eldership
#										has_law = succ_mirath
									}
								}
							}
						}
					}
				}
			}
		}
	}
	
	# Administration: If I am king, I always want to increase administration
	administration_1 = {
		FROMFROM = {
			character = ROOT
			has_law = administration_0
		}
	}
	
	administration_2 = {
		FROMFROM = {
			character = ROOT
			OR = {
				has_law = administration_0
				has_law = administration_1
			}
		}
	}
	
	crown_authority_0 = {
		FROMFROM = {
			has_law = crown_authority_1
		}
		in_faction = faction_lower_crown_authority
	}
	crown_authority_1 = {
		FROMFROM = {
			has_law = crown_authority_2
		}
		in_faction = faction_lower_crown_authority
	}
	crown_authority_2 = {
		FROMFROM = {
			has_law = crown_authority_3
		}
		in_faction = faction_lower_crown_authority
	}
	crown_authority_3 = {
		FROMFROM = {
			has_law = crown_authority_4
		}
		in_faction = faction_lower_crown_authority
	}
	
	# Revokation: If I am the king, I always want at least some form of title revokation allowed. If I am infidel, I want to make sure there is no free revokation on me.
	ze_revokation_1 = {
		FROMFROM = {
			OR = {
				AND = {
					character = ROOT
					has_law = ze_revokation_0
				}
				AND = {
					NOT = { character = ROOT }
					NOT = { religion = ROOT }
					has_law = ze_revokation_2
				}
			}
		}
	}
	ze_revokation_2 = {
		FROMFROM = {
			character = ROOT
			has_law = ze_revokation_0
		}
	}
	
	# Out-of-Realm Inheritance: If I am the king, I always want External Inheritance Disabled
	inheritance_1 = {
		FROMFROM = { character = ROOT }
	}
	
	# Imperial Kingdom Creation (Nobody): If I am a king already, I do not want my competitors to be able to become kings.
	imperial_kingdom_creation_0 = {
		NOT = { FROMFROM = { character = ROOT } }
		de_jure_liege_or_above = FROMFROM
		higher_real_tier_than = DUKE
	}
	
	# Imperial Kingdom Creation (Anyone): If I am not a king and this governs my de jure title, I want to be able to become king
	imperial_kingdom_creation_1 = {
		de_jure_liege_or_above = FROMFROM
		OR = {
			AND = {
				NOT = { higher_real_tier_than = DUKE }
				num_of_duke_titles = 2
			}
			has_law = imperial_kingdom_creation_2
		}
	}
	
	# No King's Peace: If I am a powerful vassal, I want to be able to use force to become more powerful
	king_peace_0 = {
		NOT = { FROMFROM = { character = ROOT } }
		is_powerful_vassal = yes
	}
	
	# King's Internal Peace: Logic works the same way as under Enforce Realm Peace interaction
	king_peace_1 = {
		FROMFROM = { has_law = king_peace_0 }
		OR = {
			FROMFROM = { character = ROOT } # King will always want to pass Internal King's Peace
			custom_tooltip = {
				text = pattern_selfish_save_my_hide_custom_tooltip
				hidden_tooltip = {
					any_war = {
						any_defender = {
							character = ROOT
						}
						attacker = {
							is_liege_or_above = FROM
						}
						OR = {
							war_score = -5
							defender = {
								attacker = {
									relative_power_including_allies_attacker = {
										who = PREV # Defender
										power = 1.0
									}
								}
							}
						}
					}
				}
			}
			
			custom_tooltip = {
				text = pattern_selfish_save_ally_custom_tooltip
				hidden_tooltip = {
					any_allied_character = {
						any_war = {
							defender = {
								is_allied_with = ROOT
							}
							attacker = {
								is_liege_or_above = FROM
							}
							OR = {
								war_score = -5
								defender = {
									attacker = {
										relative_power_including_allies_attacker = {
											who = PREV # Defender
											power = 1.0
										}
									}
								}
							}
						}
					}	
				}
			}
		}
	}
	
	# King's Total Peace: Logic works similar to Enforce Realm Peace interaction, but triggers are more finicky.
	king_peace_2 = {
		FROMFROM = { has_law = king_peace_1 }
		OR = {
			custom_tooltip = {
				text = pattern_selfish_save_my_hide_custom_tooltip
				hidden_tooltip = {
					any_war = {
						any_defender = {
							character = ROOT
						}
						any_attacker = {
							de_jure_liege_or_above = FROM
							primary_title = { is_crown_law_title = no }
						}
						OR = {
							war_score = -5
							defender = {
								attacker = {
									relative_power_including_allies_attacker = {
										who = PREV # Defender
										power = 1.0
									}
								}
							}
						}
					}
				}
			}
			
			custom_tooltip = {
				text = pattern_selfish_save_ally_custom_tooltip
				hidden_tooltip = {
					any_allied_character = {
						any_war = {
							defender = {
								is_allied_with = ROOT
							}
							attacker = {
								de_jure_liege_or_above = FROM
								primary_title = { is_crown_law_title = no }
							}
							OR = {
								war_score = -5
								defender = {
									attacker = {
										relative_power_including_allies_attacker = {
											who = PREV # Defender
											power = 1.0
										}
									}
								}
							}
						}
					}	
				}
			}
		}
	}
}

selfish_pattern_against = {
	icon = 12
	pattern_type = against
	
	##### INTERACTIONS
	
	declare_war_interaction = {
	# Councillor might lose a title
		custom_tooltip = {
			text = pattern_selfish_lose_title_custom_tooltip
			hidden_tooltip = {
				OR = {
					FROMFROM = { # Defender
						character = ROOT
					}
					AND = {
						FROMFROMFROMFROM = { # Thirdparty_title
							holder_scope = {
								character = ROOT
								is_liege_or_above = ROOT_FROMFROM
							}
						}
					}
				}
			}
		}
	}
	prepare_invasion_interaction = {
		custom_tooltip = {
			text = pattern_selfish_lose_title_custom_tooltip
			hidden_tooltip = {
				FROMFROM = { # Defender
					character = ROOT
				}
			}
		}
	}
	ask_to_join_war_interaction = {
		OR = {
			custom_tooltip = {
				text = pattern_selfish_affects_me_custom_tooltip
				hidden_tooltip = {
					FROMFROM = {
						war_with = ROOT
					}
				}
			}
			custom_tooltip = {
				text = pattern_selfish_hurts_my_ally_custom_tooltip
				hidden_tooltip = {
					any_allied_character = {
						ROOT_FROMFROM = {
							war_with = PREV
						}
					}
				}
			}
		}
	}
	
	break_non_aggression_pact = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_custom_tooltip
			hidden_tooltip = {
				character = FROMFROMFROM
			}
		}
	}
	dissolve_alliance_interaction = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_custom_tooltip
			hidden_tooltip = {
				character = FROMFROMFROM
			}
		}
	}
	
	# ROOT - Voter, FROM - Actor, FROMFROM - Recipient, FROMFROMFROM - Revoked title.
	revoke_title_interaction = {
		custom_tooltip = {
			text = pattern_selfish_lose_title_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}	
			}
		}
	}
	split_clan_interaction = {
		custom_tooltip = {
			text = pattern_selfish_lose_title_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}	
			}
		}
	}
	absorb_clan_interaction = {
		custom_tooltip = {
			text = pattern_selfish_lose_title_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}	
			}
		}
	}
	lollard_revoke_temple = {
		custom_tooltip = {
			text = pattern_selfish_lose_title_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}	
			}
		}
	}
	retract_vassal_interaction = {
		custom_tooltip = {
			text = pattern_selfish_lose_title_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}
			}
		}
	}
	transfer_vassal_interaction = {
		custom_tooltip = {
			text = pattern_selfish_vassal_is_mine_custom_tooltip
			hidden_tooltip = {
				is_ruler = yes
				FROMFROMFROM = {
					de_jure_liege_or_above = ROOT
				}
				NOT = {
					FROMFROM = {
						character = ROOT
					}
				}
			}
		}
	}
	release_vassal_interaction = {
		custom_tooltip = {
			text = pattern_selfish_no_independence_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
					NOT = { in_faction = faction_independence }
					opinion = { who = FROM value = -30 }
					OR = {
						de_jure_liege_or_above = FROM
						culture_group = FROM
						AND = {
							culture = FROM
							religion = FROM
						}
					}
				}
			}
		}
	}
	imprison_character_interaction = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}
			}
		}
		custom_tooltip = {
			text = pattern_selfish_affects_council_stability_tooltip
			hidden_tooltip = {
				FROMFROM = {
					is_voter = yes
					same_liege = ROOT
					NOT = { is_foe = ROOT }
				}
			}
		}
	}
	# ROOT - Voter, FROM - Actor, FROMFROM - Recipient, FROMFROMFROM - Granted title.
	grant_landed_title_interaction = {
		OR = {
			custom_tooltip = {
				text = pattern_i_am_unlanded_custom_tooltip
				hidden_tooltip = {
					AND = {
						OR = {
							is_landed = no
							AND = {
								is_patrician = yes
								NOT = {
									any_demesne_title = {
										OR = {
											tier = BARON
											tier = COUNT
										}
										NOT = {
											holding_type = family_palace
										}
									}
								}
							}
						}
						obedient = no
						OR = {
							is_female = no
							FROMFROMFROM = {
								succ_law_title = {
									NOR = {
										has_law = agnatic_succession
										has_law = cognatic_succession
									}
								}
							}
						}
						OR = {
							is_female = yes
							FROMFROMFROM = {
								succ_law_title = {
									NOR = {
										has_law = enatic_succession
										has_law = enatic_cognatic_succession
									}
								}
							}
						}
						FROMFROM = {
							is_landed = yes
							OR = {
								is_patrician = no
								any_demesne_title = {
									OR = {
										tier = BARON
										tier = COUNT
									}
									NOT = {
										holding_type = family_palace
									}
								}
							}
						}
						FROMFROMFROM = {
							OR = {
								tier = BARON
								tier = COUNT
							}
						}
						liege = { 
							is_nomadic = no
							NOT = { over_max_demesne_size = 2 }
						}
					}
				}
			}
			FROMFROMFROM = {
				OR = {
					custom_tooltip = {
						text = pattern_my_de_jure_title_custom_tooltip
						hidden_tooltip = {
							any_direct_de_jure_vassal_title = {
								holder_scope = { character = ROOT }
							}
						}
					}
					custom_tooltip = {
						text = pattern_i_desire_this_title_custom_tooltip
						hidden_tooltip = {
							any_de_jure_liege_title = {
								holder_scope = { character = ROOT }
							}
						}
					}
				}
			}
		}
	}
	# ROOT - Voter, FROM - Actor, FROMFROM - Recipient
	exile_imprisoned_interaction = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}
			}
		}
	}
	# ROOT - Voter, FROM - Actor, FROMFROM - Recipient
	execute_imprisoned_interaction = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}
			}
		}
	}
	ransom_character_interaction = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}
			}
		}
	}
	emf_prisoner_oubliette = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}
			}
		}
	}
	emf_prisoner_dungeon = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
					has_character_modifier = house_arrest
				}
			}
		}
	}
	emf_prisoner_castration = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}
			}
		}
	}
	emf_prisoner_blinding = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}
			}
		}
	}
	emf_prisoner_zun_judgement = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}
			}
		}
	}
	kharijite_public_execution = {
		custom_tooltip = {
			text = pattern_selfish_affects_me_custom_tooltip
			hidden_tooltip = {
				FROMFROM = {
					character = ROOT
				}
			}
		}
	}

	# ROOT - Voter, FROM = Liege, FROMFROM = Vote Starter
	enforce_peace = {
		OR = {
			custom_tooltip = {
				text = pattern_selfish_i_am_winning_custom_tooltip
				hidden_tooltip = {
					any_war = {
						any_attacker = {
							character = ROOT
						}
						defender = {
							is_liege_or_above = FROM
						}
						OR = {
							war_score = 5
							defender = {
								attacker = {
									relative_power_including_allies_attacker = {
										who = PREV # Defender
										power = 1.0
									}
								}
							}
						}
					}	
				}
			}
			
			custom_tooltip = {
				text = pattern_selfish_ally_is_winning_custom_tooltip
				hidden_tooltip = {
						any_allied_character = {
						any_war = {
							attacker = {
								is_allied_with = ROOT
							}
							defender = {
								is_liege_or_above = FROM
							}
							OR = {
								war_score = 5
								defender = {
									attacker = {
										relative_power_including_allies_attacker = {
											who = PREV # Defender
											power = 1.0
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	
	##### LAWS
	# If I am religious head, vote no on king investiture
	investiture_law_1 = {
		OR = {
			religion_head = {
				character = ROOT
			}
			FROMFROM = {
				religion_head = {
					character = ROOT
				}
			}
			# Theocracies under Princely Elective will want Papal Investiture
			AND = {
				custom_tooltip = {
					text = pattern_selfish_hre_elector_custom_tooltip
					hidden_tooltip = {
						is_theocracy = yes
						FROM = {
							primary_title = {
								succ_law_title = {
									has_law = succ_hre_elective
								}
							}
						}
						OR = { # To make sure they are still dejure vassals of HRE
							e_hre = { #Counts
								persistent_event_target:hre_title_1_per = { 
									holder_scope = { character = ROOT } 
									OR = { 
										any_dejure_liege = { character = FROM } 
										ROOT = { #Popes need no dejure
											religion_head = { character = ROOT } 
										}
									}
								}
							}
							e_hre = { 
								persistent_event_target:hre_title_2_per = { 
									holder_scope = { character = ROOT }
									OR = { 
										any_dejure_liege = { character = FROM } 
										ROOT = { #Popes need no dejure
											religion_head = { character = ROOT } 
										}
									}
								}
							}
							e_hre = { 
								persistent_event_target:hre_title_3_per = { 
									holder_scope = { character = ROOT }
									OR = { 
										any_dejure_liege = { character = FROM } 
										ROOT = { #Popes need no dejure
											religion_head = { character = ROOT } 
										}
									}
								}
							}
							e_hre = { #Dukes
								persistent_event_target:hre_title_4_per = { 
									holder_scope = { character = ROOT } 
									OR = { 
										any_dejure_liege = { character = FROM } 
										ROOT = { #Popes need no dejure
											religion_head = { character = ROOT } 
										}
									}
								}
							}
							e_hre = { 
								persistent_event_target:hre_title_5_per = { 
									holder_scope = { character = ROOT }
									OR = { 
										any_dejure_liege = { character = FROM } 
										ROOT = { #Popes need no dejure
											religion_head = { character = ROOT } 
										}
									}
								}
							}
							e_hre = { 
								persistent_event_target:hre_title_6_per = { 
									holder_scope = { character = ROOT }
									OR = { 
										any_dejure_liege = { character = FROM } 
										ROOT = { #Popes need no dejure
											religion_head = { character = ROOT } 
										}
									}
								}
							}
							e_hre = { 
								persistent_event_target:hre_title_7_per = { 
									holder_scope = { character = ROOT }
									OR = { 
										any_dejure_liege = { character = FROM } 
										ROOT = { #Popes need no dejure
											religion_head = { character = ROOT } 
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	# If I am the king, vote no on papal investiture
	investiture_law_0 = {
		FROMFROM = { character = ROOT }
		NOR = {
			religion_head = {
				character = ROOT
			}
			FROMFROM = {
				religion_head = {
					character = ROOT
				}
			}
		}
	}
	
	# Female could lose job
	status_of_women_0 = {
		OR = {
			custom_tooltip = {
				text = pattern_selfish_lose_job_custom_tooltip
				hidden_tooltip = {
					is_female = yes
					liege = { character = FROM }
					OR = {
						AND = {
							FROM = {
								primary_title = {
									OR = {
										has_law = status_of_women_2
										has_law = status_of_women_3
										has_law = status_of_women_4
									}
								}
							}
							OR = {
								# Lose from 2
								has_job_title = job_chancellor
								has_job_title = job_treasurer
								# Lose from 3
								has_job_title = job_marshal
								has_minor_title = title_commander
							}
						}
						# Lose from 4
						AND = {
							NOR = {
								liege = {
									OR = {
										dynasty = FROM
										is_close_relative = FROM
										any_spouse = { character = FROM }
										any_consort = { character = FROM }
									}
								}
								is_landed = yes
								trait = nun
							}
							FROM = { primary_title = { has_law = status_of_women_4 } }
							OR = {
								has_job_title = job_spymaster
								has_job_title = job_chancellor
								has_job_title = job_treasurer
								has_job_title = job_marshal
								has_minor_title = title_commander
							}
						}
					}
				}
			}
			
			custom_tooltip = {
				text = pattern_selfish_female_lose_cognatic_custom_tooltip
				hidden_tooltip = {
					is_female = yes
					liege = { character = FROM }
					OR = {
						FROM = {
							emf_antifeminist_religion = yes
							succ_law_title = {
								has_law = cognatic_succession
							}
							primary_title = {
								OR = {
									has_law = status_of_women_3
									has_law = status_of_women_4
								}
							}
						}
						FROM = {
							OR = {
								emf_feminist_religion = no
								emf_antifeminist_religion = yes
							}
							succ_law_title = {
								has_law = true_cognatic_succession
								has_law = enatic_cognatic_succession
								has_law = enatic_succession
							}
							primary_title = {
								has_law = status_of_women_4
							}
						}
					}
					OR = {
						AND = {
							OR = {
								is_landed = yes
								from_ruler_dynasty = yes
							}
							FROM = {
								succ_law_title = {
									has_law = succ_feudal_elective
								}
							}
						}
						AND = {
							from_ruler_dynasty = yes
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_hre_elective
										has_law = succ_byzantine_elective
									}
								}
							}
						}
						AND = {
							clan = yes
							FROM = {
								succ_law_title = {
									has_law = succ_nomad_succession
								}
							}
						}
						FROM = {
							succ_law_title = {
								has_law = succ_open_elective
							}
						}
						AND = {
							is_child_of = FROM
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_gavelkind
										has_law = succ_elective_gavelkind
										has_law = succ_primogeniture
										has_law = succ_ultimogeniture
										has_law = succ_turkish_succession
									}
								}
							}
						}
						AND = {
							FROM = {
								succ_law_title = {
									has_law = succ_patrician_elective
								}
							}
							any_dynasty_member = {
								OR = {
									is_patrician = yes
									is_merchant_republic = yes
								}
							}
						}
						AND = {
							from_ruler_dynasty = yes
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_elective_gavelkind
										has_law = succ_tanistry
										has_law = succ_seniority
										has_law = succ_eldership
#										has_law = succ_mirath
									}
								}
							}
						}
					}
				}
			}
		}
	}
	status_of_women_1 = {
		OR = {
			custom_tooltip = {
				text = pattern_selfish_lose_job_custom_tooltip
				hidden_tooltip = {
					is_female = yes
					liege = { character = FROM }
					OR = {
						AND = {
							FROM = {
								primary_title = {
									OR = {
										has_law = status_of_women_2
										has_law = status_of_women_3
										has_law = status_of_women_4
									}
								}
							}
							OR = {
								# Lose from 2
								has_job_title = job_chancellor
								has_job_title = job_treasurer
								# Lose from 3
								has_job_title = job_marshal
								has_minor_title = title_commander
							}
						}
						# Lose from 4
						AND = {
							NOR = {
								liege = {
									OR = {
										dynasty = FROM
										is_close_relative = FROM
										any_spouse = { character = FROM }
										any_consort = { character = FROM }
									}
								}
								is_landed = yes
								trait = nun
							}
							FROM = { primary_title = { has_law = status_of_women_4 } }
							OR = {
								has_job_title = job_spymaster
								has_job_title = job_chancellor
								has_job_title = job_treasurer
								has_job_title = job_marshal
								has_minor_title = title_commander
							}
						}
					}
				}
			}
			
			custom_tooltip = {
				text = pattern_selfish_female_lose_cognatic_custom_tooltip
				hidden_tooltip = {
					is_female = yes
					liege = { character = FROM }
					OR = {
						FROM = {
							emf_antifeminist_religion = yes
							succ_law_title = {
								has_law = cognatic_succession
							}
							primary_title = {
								OR = {
									has_law = status_of_women_3
									has_law = status_of_women_4
								}
							}
						}
						FROM = {
							OR = {
								emf_feminist_religion = no
								emf_antifeminist_religion = yes
							}
							succ_law_title = {
								has_law = true_cognatic_succession
								has_law = enatic_cognatic_succession
								has_law = enatic_succession
							}
							primary_title = {
								has_law = status_of_women_4
							}
						}
					}
					OR = {
						AND = {
							OR = {
								is_landed = yes
								from_ruler_dynasty = yes
							}
							FROM = {
								succ_law_title = {
									has_law = succ_feudal_elective
								}
							}
						}
						AND = {
							from_ruler_dynasty = yes
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_hre_elective
										has_law = succ_byzantine_elective
									}
								}
							}
						}
						AND = {
							clan = yes
							FROM = {
								succ_law_title = {
									has_law = succ_nomad_succession
								}
							}
						}
						FROM = {
							succ_law_title = {
								has_law = succ_open_elective
							}
						}
						AND = {
							is_child_of = FROM
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_gavelkind
										has_law = succ_elective_gavelkind
										has_law = succ_primogeniture
										has_law = succ_ultimogeniture
										has_law = succ_turkish_succession
									}
								}
							}
						}
						AND = {
							FROM = {
								succ_law_title = {
									has_law = succ_patrician_elective
								}
							}
							any_dynasty_member = {
								OR = {
									is_patrician = yes
									is_merchant_republic = yes
								}
							}
						}
						AND = {
							from_ruler_dynasty = yes
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_elective_gavelkind
										has_law = succ_tanistry
										has_law = succ_seniority
										has_law = succ_eldership
#										has_law = succ_mirath
									}
								}
							}
						}
					}
				}
			}
		}
	}
	status_of_women_2 = {
		OR = {
			custom_tooltip = {
				text = pattern_selfish_lose_job_custom_tooltip
				hidden_tooltip = {
					is_female = yes
					liege = { character = FROM }
					OR = {
						AND = {
							FROM = {
								primary_title = {
									OR = {
										has_law = status_of_women_3
										has_law = status_of_women_4
									}
								}
							}
							OR = {
								# Lose from 3
								has_job_title = job_marshal
								has_minor_title = title_commander
							}
						}
						# Lose from 4
						AND = {
							NOR = {
								liege = {
									OR = {
										dynasty = FROM
										is_close_relative = FROM
										any_spouse = { character = FROM }
										any_consort = { character = FROM }
									}
								}
								is_landed = yes
								trait = nun
							}
							FROM = { primary_title = { has_law = status_of_women_4 } }
							OR = {
								has_job_title = job_spymaster
								has_job_title = job_chancellor
								has_job_title = job_treasurer
								has_job_title = job_marshal
								has_minor_title = title_commander
							}
						}
					}
				}
			}
			
			custom_tooltip = {
				text = pattern_selfish_female_lose_cognatic_custom_tooltip
				hidden_tooltip = {
					is_female = yes
					liege = { character = FROM }
					OR = {
						FROM = {
							emf_antifeminist_religion = yes
							succ_law_title = {
								has_law = cognatic_succession
							}
							primary_title = {
								OR = {
									has_law = status_of_women_3
									has_law = status_of_women_4
								}
							}
						}
						FROM = {
							OR = {
								emf_feminist_religion = no
								emf_antifeminist_religion = yes
							}
							succ_law_title = {
								has_law = true_cognatic_succession
								has_law = enatic_cognatic_succession
								has_law = enatic_succession
							}
							primary_title = {
								has_law = status_of_women_4
							}
						}
					}
					OR = {
						AND = {
							OR = {
								is_landed = yes
								from_ruler_dynasty = yes
							}
							FROM = {
								succ_law_title = {
									has_law = succ_feudal_elective
								}
							}
						}
						AND = {
							from_ruler_dynasty = yes
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_hre_elective
										has_law = succ_byzantine_elective
									}
								}
							}
						}
						AND = {
							clan = yes
							FROM = {
								succ_law_title = {
									has_law = succ_nomad_succession
								}
							}
						}
						FROM = {
							succ_law_title = {
								has_law = succ_open_elective
							}
						}
						AND = {
							is_child_of = FROM
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_gavelkind
										has_law = succ_elective_gavelkind
										has_law = succ_primogeniture
										has_law = succ_ultimogeniture
										has_law = succ_turkish_succession
									}
								}
							}
						}
						AND = {
							FROM = {
								succ_law_title = {
									has_law = succ_patrician_elective
								}
							}
							any_dynasty_member = {
								OR = {
									is_patrician = yes
									is_merchant_republic = yes
								}
							}
						}
						AND = {
							from_ruler_dynasty = yes
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_elective_gavelkind
										has_law = succ_tanistry
										has_law = succ_seniority
										has_law = succ_eldership
#										has_law = succ_mirath
									}
								}
							}
						}
					}
				}
			}
		}
	}
	status_of_women_3 = {
		OR = {
			custom_tooltip = {
				text = pattern_selfish_lose_job_custom_tooltip
				hidden_tooltip = {
					is_female = yes
					liege = { character = FROM }
					OR = {
						# Lose from 4
						AND = {
							NOR = {
								liege = {
									OR = {
										dynasty = FROM
										is_close_relative = FROM
										any_spouse = { character = FROM }
										any_consort = { character = FROM }
									}
								}
								is_landed = yes
								trait = nun
							}
							FROM = { primary_title = { has_law = status_of_women_4 } }
							OR = {
								has_job_title = job_spymaster
								has_job_title = job_chancellor
								has_job_title = job_treasurer
								has_job_title = job_marshal
								has_minor_title = title_commander
							}
						}
					}
				}
			}
			
			custom_tooltip = {
				text = pattern_selfish_female_lose_cognatic_custom_tooltip
				hidden_tooltip = {
					is_female = yes
					liege = { character = FROM }
					OR = {
						FROM = {
							emf_antifeminist_religion = yes
							succ_law_title = {
								has_law = cognatic_succession
							}
							primary_title = {
								has_law = status_of_women_4
							}
						}
						FROM = {
							OR = {
								emf_feminist_religion = no
								emf_antifeminist_religion = yes
							}
							succ_law_title = {
								has_law = true_cognatic_succession
								has_law = enatic_cognatic_succession
								has_law = enatic_succession
							}
							primary_title = {
								has_law = status_of_women_4
							}
						}
					}
					OR = {
						AND = {
							OR = {
								is_landed = yes
								from_ruler_dynasty = yes
							}
							FROM = {
								succ_law_title = {
									has_law = succ_feudal_elective
								}
							}
						}
						AND = {
							from_ruler_dynasty = yes
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_hre_elective
										has_law = succ_byzantine_elective
									}
								}
							}
						}
						AND = {
							clan = yes
							FROM = {
								succ_law_title = {
									has_law = succ_nomad_succession
								}
							}
						}
						FROM = {
							succ_law_title = {
								has_law = succ_open_elective
							}
						}
						AND = {
							is_child_of = FROM
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_gavelkind
										has_law = succ_elective_gavelkind
										has_law = succ_primogeniture
										has_law = succ_ultimogeniture
										has_law = succ_turkish_succession
									}
								}
							}
						}
						AND = {
							FROM = {
								succ_law_title = {
									has_law = succ_patrician_elective
								}
							}
							any_dynasty_member = {
								OR = {
									is_patrician = yes
									is_merchant_republic = yes
								}
							}
						}
						AND = {
							from_ruler_dynasty = yes
							FROM = {
								succ_law_title = {
									OR = {
										has_law = succ_elective_gavelkind
										has_law = succ_tanistry
										has_law = succ_seniority
										has_law = succ_eldership
#										has_law = succ_mirath
									}
								}
							}
						}
					}
				}
			}
		}
	}
	
	# Administration: If I am king, I always want to increase administration
	administration_0 = {
		FROMFROM = {
			character = ROOT
			OR = {
				has_law = administration_1
				has_law = administration_2
			}
		}
	}
	
	administration_1 = {
		FROMFROM = {
			character = ROOT
			has_law = administration_2
		}
	}
	
	crown_authority_1 = {
		FROMFROM = {
			has_law = crown_authority_0
		}
		in_faction = faction_lower_crown_authority
	}
	crown_authority_2 = {
		FROMFROM = {
			has_law = crown_authority_1
		}
		in_faction = faction_lower_crown_authority
	}
	crown_authority_3 = {
		FROMFROM = {
			has_law = crown_authority_2
		}
		in_faction = faction_lower_crown_authority
	}
	crown_authority_4 = {
		FROMFROM = {
			has_law = crown_authority_3
		}
		in_faction = faction_lower_crown_authority
	}
	
	# Revokation: If I am the king, I always want at least some form of title revokation allowed
	ze_revokation_0 = {
		FROMFROM = { character = ROOT }
	}
	ze_revokation_2 = {
		FROMFROM = {
			NOT = { character = ROOT }
			NOT = { religion = ROOT }
		}
	}
	
	# Out-of-Realm Inheritance: If I am the king, I do not want External Inheritance Enabled
	inheritance_0 = {
		FROMFROM = { character = ROOT }
	}
	
	# Imperial Kingdom Creation (Nobody): If I am not a king and this governs my de jure title, I want to be able to become king
	imperial_kingdom_creation_0 = {
		de_jure_liege_or_above = FROMFROM
		NOT = { higher_real_tier_than = DUKE }
		num_of_duke_titles = 2
	}
	
	# Imperial Kingdom Creation (Anyone): If I am a king already, I do not want my competitors to be able to become kings.
	imperial_kingdom_creation_1 = {
		NOT = {
			FROMFROM = {
				character = ROOT
				has_law = imperial_kingdom_creation_0
			}
		}
		de_jure_liege_or_above = FROMFROM
		higher_real_tier_than = DUKE
	}
	
	# No King's Peace: If I am the king, I do not want No King's Peace
	king_peace_0 = {
		FROMFROM = { character = ROOT }
	}
	
	# King's Internal Peace: Logic works the same way as under Enforce Realm Peace interaction
	king_peace_1 = {
		NOT = { FROMFROM = { character = ROOT } }
		OR = {
			custom_tooltip = {
				text = pattern_selfish_i_am_winning_custom_tooltip
				hidden_tooltip = {
					any_war = {
						any_attacker = {
							character = ROOT
						}
						defender = {
							is_liege_or_above = FROMFROM
						}
						OR = {
							war_score = 5
							defender = {
								attacker = {
									relative_power_including_allies_attacker = {
										who = PREV # Defender
										power = 1.0
									}
								}
							}
						}
					}	
				}
			}
			
			custom_tooltip = {
				text = pattern_selfish_ally_is_winning_custom_tooltip
				hidden_tooltip = {
					any_allied_character = {
						any_war = {
							attacker = {
								is_allied_with = ROOT
							}
							defender = {
								is_liege_or_above = FROMFROM
							}
							OR = {
								war_score = 5
								defender = {
									attacker = {
										relative_power_including_allies_attacker = {
											who = PREV # Defender
											power = 1.0
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	
	# King's Total Peace: Logic works similar to how it does under Enforce Realm Peace interaction, but triggers are more finicky
	king_peace_2 = {
		FROMFROM = { has_law = king_peace_1 }
		OR = {
			custom_tooltip = {
				text = pattern_selfish_i_am_winning_custom_tooltip
				hidden_tooltip = {
					any_war = {
						any_attacker = {
							character = ROOT
						}
						defender = {
							de_jure_liege_or_above = FROMFROM
							primary_title = { is_crown_law_title = no }
						}
						OR = {
							war_score = 5
							defender = {
								attacker = {
									relative_power_including_allies_attacker = {
										who = PREV # Defender
										power = 1.0
									}
								}
							}
						}
					}	
				}
			}
			
			custom_tooltip = {
				text = pattern_selfish_ally_is_winning_custom_tooltip
				hidden_tooltip = {
					any_allied_character = {
						any_war = {
							attacker = {
								is_allied_with = ROOT
							}
							defender = {
								de_jure_liege_or_above = FROMFROM
								primary_title = { is_crown_law_title = no }
							}
							OR = {
								war_score = 5
								defender = {
									attacker = {
										relative_power_including_allies_attacker = {
											who = PREV # Defender
											power = 1.0
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}
