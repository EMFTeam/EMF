# -*- ck2.laws -*-

law_groups = {
	crown_authority = {
		law_type = realm
		allowed_for_councillors = no
	}
	revokation = { # Non-Zeus version (Zeus won't correctly work w/ de jure revocation laws)
		law_type = realm
		allowed_for_councillors = no
	}
	king_peace = {
		law_type = realm
		allowed_for_councillors = yes
	}
	inheritance = {
		law_type = realm
		allowed_for_councillors = yes
	}
	investiture_law = {
		law_type = realm
		allowed_for_councillors = no
	}
	imperial_kingdom_creation = {
		law_type = realm
		allowed_for_councillors = no
	}
}

de_jure_laws = {
	crown_authority_0 = {
		show_as_title = yes
		group = crown_authority
		default = yes

		feudal_opinion = 4

		potential = {
			owner = {
				is_tribal = no
				is_nomadic = no
			}
			temporary = no
		}
		allow = {
			trigger_if = {
				limit = { owner = { is_republic = yes } }
				holder_scope = { is_republic = no }
			}
			has_law = crown_authority_1
			custom_tooltip = {
				text = emf_laws_ctt_ca_change_cooldown
				owner = {
					OR = {
						NOT = { has_flag = emf_ca_cooldown_@PREV }
						had_flag = { flag = emf_ca_cooldown_@PREV days = 18250 }
					}
				}
			}
			custom_tooltip = {
				text = emf_laws_ctt_ca_change_cooldown_title
				OR = {
					NOT = { has_flag = emf_ca_cooldown }
					had_flag = { flag = emf_ca_cooldown days = 9125 }
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
		pass_effect = {
			hidden_effect = {
				if = {
					limit = {
						NOR = {
							has_dlc = "Zeus"
							has_law = revokation_0
						}
					}
					add_law = revokation_0
				}
				if = {
					limit = {
						has_dlc = "Zeus"
						is_primary_holder_title = yes
						NOT = { has_law = ze_revokation_0 }
					}
					add_law = ze_revokation_0
				}
				if = {
					limit = { NOT = { has_law = king_peace_0 } }
					add_law = king_peace_0
				}
				if = {
					limit = { NOT = { has_law = inheritance_0 } }
					add_law = inheritance_0
				}
				if = {
					limit = { has_global_flag = EMF } # Don't do this until we've finished startup
					owner = { pf_mood_refresh_delayed_effect = yes }
				}
			}
		}
		effect = {
			if = {
				limit = { NOT = { has_dlc = "Zeus" } }
				custom_tooltip = { text = emf_laws_ctt_disables_revokation_1 }
			}
			else = {
				custom_tooltip = { text = emf_laws_ctt_disables_ze_revokation_1 }
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = yes
					owner = {
						NOR = {
							government = chinese_imperial_government
							has_religion_feature = religion_cosmopolitan
							has_religion_feature = religion_syncretic_christian
							has_religion_feature = religion_syncretic_muslim
							has_religion_feature = religion_syncretic_zoroastrian
							has_religion_feature = religion_syncretic_indian
						}
					}
				}
				if = {
					limit = { NOT = { has_dlc = "Zeus" } }
					custom_tooltip = { text = emf_laws_ctt_disables_revokation_2 }
				}
				else = {
					custom_tooltip = { text = emf_laws_ctt_disables_ze_revokation_2 }
				}
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = yes
				}
				custom_tooltip = { text = emf_laws_ctt_disables_inheritance_1 }
			}
			if = {
				limit = {
					has_law = crown_authority_4
				}
				custom_tooltip = { text = emf_laws_ctt_disables_king_peace_1 }
				custom_tooltip = { text = emf_laws_ctt_disables_king_peace_2 }
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = yes
					emf_laws_potential_not_for_byzantium = yes
					OR = {
						AND = {
							emf_laws_succ_basic_potential = yes
							holder_scope = {
								is_feudal = yes
								OR = {
									emf_unreformed_pagan = no
									religion = hellenic_pagan
								}
							}
						}
						has_flag = alternate_byz
					}
					holder_scope = {
						is_patrician = no
						NOT = { culture = basque }
					}
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_disables_succ_primogeniture }
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = yes
					emf_laws_potential_not_for_byzantium = yes
					holder_scope = {
						NOT = { religion_group = muslim }
						OR = {
							independent = yes
							NOT = { any_liege = { holy_order = yes } }
						}
						is_patrician = no
						OR = {
							culture = mongol
							emf_unreformed_pagan = no
						}
					}
					OR = {
						AND = {
							holder_scope = { is_feudal = yes }
							OR = {
								is_landless_type_title = no
								temporary = yes
							}
						}
						AND = {
							is_nomadic = no
							OR = {
								title = e_mongol_empire
								title = e_golden_horde
								title = e_il-khanate
							}
						}
					}
					is_primary_type_title = no
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_disables_succ_ultimogeniture }
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = yes
					emf_laws_succ_basic_potential = yes
					emf_laws_potential_not_for_byzantium = yes
					owner = {
						is_feudal = yes
						OR = {
							emf_unreformed_pagan = no
							religion = hellenic_pagan
						}
					}
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_disables_succ_dynastic_elective }
			}
			if = {
				limit = {
					emf_laws_potential_not_for_byzantium = yes
					OR = {
						is_landless_type_title = no
						is_tribal_type_title = yes
						temporary = yes
					}
					is_primary_type_title = no
					owner = {
						is_patrician = no
						OR = {
							independent = yes
							NOT = { any_liege = { holy_order = yes } }
						}
						NOR = {
							religion_group = muslim
							religion_group = indian_group
						}
						OR = {
							emf_unreformed_pagan = no
							religion = hellenic_pagan
						}
					}
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_disables_succ_seniority }
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = yes
				}
				custom_tooltip = { text = emf_laws_ctt_disables_dejure_duchy_claim }
			}
			if = {
				limit = {
					tier = EMPEROR
					has_law = crown_authority_4
				}
				custom_tooltip = { text = emf_laws_ctt_enables_dejure_kingdom_claim }
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = yes
				}
				custom_tooltip = { text = emf_laws_ctt_disables_subjugation_duke }
			}
			if = {
				limit = {
					tier = EMPEROR
					emf_laws_has_high_ca_plus = yes
				}
				custom_tooltip = { text = emf_laws_ctt_disables_subjugation_king }
			}
			if = {
				limit = {
					tier = EMPEROR
					temporary = no
					trigger_if = {
						limit = { has_game_started = yes }
						has_random_dejure = no
					}
				}
				if = {
					limit = {
						emf_laws_has_medium_ca_plus = yes
					}
					custom_tooltip = { text = emf_laws_ctt_disables_imperial_kingdom_creation_0 }
				}
				if = {
					limit = {
						emf_laws_has_high_ca_plus = yes
					}
					custom_tooltip = { text = emf_laws_ctt_disables_imperial_kingdom_creation_1 }
				}
				if = {
					limit = {
						has_law = crown_authority_4
					}
					custom_tooltip = { text = emf_laws_ctt_disables_imperial_kingdom_creation_2 }
				}
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = yes
				}
				custom_tooltip = { text = emf_laws_ctt_allows_internal_military_plots }
			}
			hidden_tooltip = {
				revoke_law = crown_authority_0
				revoke_law = crown_authority_1
				revoke_law = crown_authority_2
				revoke_law = crown_authority_3
				revoke_law = crown_authority_4
			}
		}
	}

	crown_authority_1 = {
		show_as_title = yes
		group = crown_authority

		feudal_opinion = -2

		potential = {
			owner = {
				is_tribal = no
				is_nomadic = no
			}
			temporary = no
		}
		allow = {
			trigger_if = {
				limit = { has_law = crown_authority_0 }
				has_law = crown_authority_0
				holder_scope = {
					trigger_if = {
						limit = { ai = yes }
						prestige >= 250
					}
					trigger_else = {
						custom_tooltip = {
							text = NEEDS_500_PRESTIGE_COST
							prestige >= 500
						}
					}
					trigger_if = {
						limit = { emf_needs_coronation = yes }
						emf_is_crowned = yes
					}
				}
			}
			trigger_else = {
				has_law = crown_authority_2
			}
			custom_tooltip = {
				text = emf_laws_ctt_ca_change_cooldown
				owner = {
					OR = {
						NOT = { has_flag = emf_ca_cooldown_@PREV }
						had_flag = { flag = emf_ca_cooldown_@PREV days = 18250 }
					}
				}
			}
			custom_tooltip = {
				text = emf_laws_ctt_ca_change_cooldown_title
				OR = {
					NOT = { has_flag = emf_ca_cooldown }
					had_flag = { flag = emf_ca_cooldown days = 9125 }
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { has_law = crown_authority_0 }
			}
		}
		pass_effect = {
			hidden_effect = {
				if = {
					limit = {
						has_law = crown_authority_0
						emf_laws_penalty = yes
					}
					clr_flag = emf_ca_cooldown
					set_flag = emf_ca_cooldown
					owner = {
						clr_flag = emf_ca_cooldown_@PREV
						set_flag = emf_ca_cooldown_@PREV
						if = {
							limit = { ai = no }
							prestige = -500
						}
					}
					emf_laws_increase_authority_opinion = yes
				}
				if = {
					limit = { owner = { ai = yes } }
					if = {
						limit = {
							NOR = {
								has_dlc = "Zeus"
								has_law = revokation_1
							}
						}
						add_law = revokation_1
					}
					if = {
						limit = {
							has_dlc = "Zeus"
							is_primary_holder_title = yes
							NOT = { has_law = ze_revokation_1 }
						}
						add_law = ze_revokation_1
					}
				}
				if = {
					limit = { owner = { ai = no } }
					if = {
						limit = {
							NOT = { has_dlc = "Zeus" }
							has_law = revokation_2
						}
						add_law = revokation_1
					}
					if = {
						limit = {
							has_dlc = "Zeus"
							is_primary_holder_title = yes
							has_law = ze_revokation_2
						}
						add_law = ze_revokation_1
					}
				}
				if = {
					limit = { NOT = { has_law = king_peace_0 } }
					add_law = king_peace_0
				}
				if = {
					limit = { NOT = { has_law = inheritance_0 } }
					add_law = inheritance_0
				}
				if = {
					limit = { has_global_flag = EMF } # Don't do this until we've finished startup
					owner = { pf_mood_refresh_delayed_effect = yes }
				}
			}
		}
		effect = {
			if = {
				limit = {
					has_law = crown_authority_0
					emf_laws_penalty = yes
				}
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_tooltip = {
				revoke_law = crown_authority_0
				revoke_law = crown_authority_1
				revoke_law = crown_authority_2
				revoke_law = crown_authority_3
				revoke_law = crown_authority_4
			}
			if = {
				limit = {
					has_law = crown_authority_0
				}
				if = {
					limit = { NOT = { has_dlc = "Zeus" } }
					custom_tooltip = { text = emf_laws_ctt_enables_revokation_1 }
				}
				else = {
					custom_tooltip = { text = emf_laws_ctt_enables_ze_revokation_1 }
				}
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = yes
					owner = {
						NOR = {
							government = chinese_imperial_government
							has_religion_feature = religion_cosmopolitan
							has_religion_feature = religion_syncretic_christian
							has_religion_feature = religion_syncretic_muslim
							has_religion_feature = religion_syncretic_zoroastrian
							has_religion_feature = religion_syncretic_indian
						}
					}
				}
				if = {
					limit = { NOT = { has_dlc = "Zeus" } }
					custom_tooltip = { text = emf_laws_ctt_disables_revokation_2 }
				}
				else = {
					custom_tooltip = { text = emf_laws_ctt_disables_ze_revokation_2 }
				}
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = yes
				}
				custom_tooltip = { text = emf_laws_ctt_disables_inheritance_1 }
			}
			if = {
				limit = {
					has_law = crown_authority_4
				}
				custom_tooltip = { text = emf_laws_ctt_disables_king_peace_1 }
				custom_tooltip = { text = emf_laws_ctt_disables_king_peace_2 }
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = yes
					emf_laws_potential_not_for_byzantium = yes
					OR = {
						AND = {
							emf_laws_succ_basic_potential = yes
							holder_scope = {
								is_feudal = yes
								OR = {
									emf_unreformed_pagan = no
									religion = hellenic_pagan
								}
							}
						}
						has_flag = alternate_byz
					}
					holder_scope = {
						is_patrician = no
						NOT = { culture = basque }
					}
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_disables_succ_primogeniture }
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = yes
					emf_laws_potential_not_for_byzantium = yes
					holder_scope = {
						NOT = { religion_group = muslim }
						OR = {
							independent = yes
							NOT = { any_liege = { holy_order = yes } }
						}
						is_patrician = no
						OR = {
							culture = mongol
							emf_unreformed_pagan = no
						}
					}
					OR = {
						AND = {
							holder_scope = { is_feudal = yes }
							OR = {
								is_landless_type_title = no
								temporary = yes
							}
						}
						AND = {
							is_nomadic = no
							OR = {
								title = e_mongol_empire
								title = e_golden_horde
								title = e_il-khanate
							}
						}
					}
					is_primary_type_title = no
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_disables_succ_ultimogeniture }
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = yes
					emf_laws_succ_basic_potential = yes
					emf_laws_potential_not_for_byzantium = yes
					owner = {
						is_feudal = yes
						OR = {
							emf_unreformed_pagan = no
							religion = hellenic_pagan
						}
					}
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_disables_succ_dynastic_elective }
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = yes
					emf_laws_potential_not_for_byzantium = yes
					OR = {
						is_landless_type_title = no
						is_tribal_type_title = yes
						temporary = yes
					}
					is_primary_type_title = no
					owner = {
						is_patrician = no
						OR = {
							independent = yes
							NOT = { any_liege = { holy_order = yes } }
						}
						NOR = {
							religion_group = muslim
							religion_group = indian_group
						}
						OR = {
							emf_unreformed_pagan = no
							religion = hellenic_pagan
						}
					}
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_disables_succ_seniority }
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = yes
				}
				custom_tooltip = { text = emf_laws_ctt_disables_dejure_duchy_claim }
			}
			if = {
				limit = {
					tier = EMPEROR
					has_law = crown_authority_4
				}
				custom_tooltip = { text = emf_laws_ctt_disables_dejure_kingdom_claim }
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = yes
				}
				custom_tooltip = { text = emf_laws_ctt_disables_subjugation_duke }
			}
			if = {
				limit = {
					tier = EMPEROR
					emf_laws_has_high_ca_plus = yes
				}
				custom_tooltip = { text = emf_laws_ctt_disables_subjugation_king }
			}
			if = {
				limit = {
					tier = EMPEROR
					temporary = no
					trigger_if = {
						limit = { has_game_started = yes }
						has_random_dejure = no
					}
				}
				if = {
					limit = {
						emf_laws_has_medium_ca_plus = yes
					}
					custom_tooltip = { text = emf_laws_ctt_disables_imperial_kingdom_creation_0 }
				}
				if = {
					limit = {
						emf_laws_has_high_ca_plus = yes
					}
					custom_tooltip = { text = emf_laws_ctt_disables_imperial_kingdom_creation_1 }
				}
				if = {
					limit = {
						has_law = crown_authority_4
					}
					custom_tooltip = { text = emf_laws_ctt_disables_imperial_kingdom_creation_2 }
				}
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = yes
				}
				custom_tooltip = { text = emf_laws_ctt_allows_internal_military_plots }
			}
		}

		city_vassal_min_levy = 0.05
		castle_vassal_min_levy = 0.05
		temple_vassal_min_levy = 0.05
		tribal_vassal_min_levy = 0.05
	}

	crown_authority_2 = {
		show_as_title = yes
		group = crown_authority

		feudal_opinion = -8

		potential = {
			owner = {
				is_tribal = no
				is_nomadic = no
			}
			temporary = no
		}
		allow = {
			trigger_if = {
				limit = { has_law = crown_authority_1 }
				has_law = crown_authority_1
				holder_scope = {
					trigger_if = {
						limit = { ai = yes }
						prestige >= 500
					}
					trigger_else = {
						custom_tooltip = {
							text = NEEDS_1000_PRESTIGE_COST
							prestige >= 1000
						}
					}
					trigger_if = {
						limit = { emf_needs_coronation = yes }
						emf_is_crowned = yes
					}
					trigger_if = {
						limit = { religion_group = pagan_group }
						emf_not_unreformed_pagan = yes
					}
				}
			}
			trigger_else = {
				has_law = crown_authority_3
			}
			custom_tooltip = {
				text = emf_laws_ctt_ca_change_cooldown
				owner = {
					OR = {
						NOT = { has_flag = emf_ca_cooldown_@PREV }
						had_flag = { flag = emf_ca_cooldown_@PREV days = 18250 }
					}
				}
			}
			custom_tooltip = {
				text = emf_laws_ctt_ca_change_cooldown_title
				OR = {
					NOT = { has_flag = emf_ca_cooldown }
					had_flag = { flag = emf_ca_cooldown days = 9125 }
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = {
					has_law = crown_authority_1
				}
			}
		}
		pass_effect = {
			hidden_effect = {
				if = {
					limit = {
						OR = {
							has_law = crown_authority_0
							has_law = crown_authority_1
						}
						emf_laws_penalty = yes
					}
					clr_flag = emf_ca_cooldown
					set_flag = emf_ca_cooldown
					owner = {
						clr_flag = emf_ca_cooldown_@PREV
						set_flag = emf_ca_cooldown_@PREV
						if = {
							limit = { ai = no }
							prestige = -1000
						}
					}
					emf_laws_increase_authority_opinion = yes
				}
				if = {
					limit = { owner = { ai = yes } }
					if = {
						limit = {
							NOR = {
								has_dlc = "Zeus"
								has_law = revokation_2
							}
						}
						add_law = revokation_2
					}
					if = {
						limit = {
							has_dlc = "Zeus"
							is_primary_holder_title = yes
							NOT = { has_law = ze_revokation_2 }
						}
						add_law = ze_revokation_2
					}
				}
				if = {
					limit = { NOT = { has_law = king_peace_0 } }
					add_law = king_peace_0
				}
				if = {
					limit = { NOT = { has_law = inheritance_0 } }
					add_law = inheritance_0
				}
				if = {
					limit = { has_global_flag = EMF } # Don't do this until we've finished startup
					owner = { pf_mood_refresh_delayed_effect = yes }
				}
			}
		}
		effect = {
			if = {
				limit = {
					OR = {
						has_law = crown_authority_0
						has_law = crown_authority_1
					}
					emf_laws_penalty = yes
				}
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_effect = {
				revoke_law = crown_authority_0
				revoke_law = crown_authority_1
				revoke_law = crown_authority_2
				revoke_law = crown_authority_3
				revoke_law = crown_authority_4
			}
			if = {
				limit = {
					has_law = crown_authority_0
				}
				if = {
					limit = { NOT = { has_dlc = "Zeus" } }
					custom_tooltip = { text = emf_laws_ctt_enables_revokation_1 }
				}
				else = {
					custom_tooltip = { text = emf_laws_ctt_enables_ze_revokation_1 }
				}
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = no
					owner = {
						NOR = {
							government = chinese_imperial_government
							has_religion_feature = religion_cosmopolitan
							has_religion_feature = religion_syncretic_christian
							has_religion_feature = religion_syncretic_muslim
							has_religion_feature = religion_syncretic_zoroastrian
							has_religion_feature = religion_syncretic_indian
						}
					}
				}
				if = {
					limit = { NOT = { has_dlc = "Zeus" } }
					custom_tooltip = { text = emf_laws_ctt_enables_revokation_2 }
				}
				else = {
					custom_tooltip = { text = emf_laws_ctt_enables_ze_revokation_2 }
				}
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = yes
				}
				custom_tooltip = { text = emf_laws_ctt_disables_inheritance_1 }
			}
			if = {
				limit = {
					has_law = crown_authority_4
				}
				custom_tooltip = { text = emf_laws_ctt_disables_king_peace_1 }
				custom_tooltip = { text = emf_laws_ctt_disables_king_peace_2 }
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = yes
					emf_laws_potential_not_for_byzantium = yes
					OR = {
						AND = {
							emf_laws_succ_basic_potential = yes
							holder_scope = {
								is_feudal = yes
								OR = {
									emf_unreformed_pagan = no
									religion = hellenic_pagan
								}
							}
						}
						has_flag = alternate_byz
					}
					holder_scope = {
						is_patrician = no
						NOT = { culture = basque }
					}
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_disables_succ_primogeniture }
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = yes
					emf_laws_potential_not_for_byzantium = yes
					holder_scope = {
						NOT = { religion_group = muslim }
						OR = {
							independent = yes
							NOT = { any_liege = { holy_order = yes } }
						}
						is_patrician = no
						OR = {
							culture = mongol
							emf_unreformed_pagan = no
						}
					}
					OR = {
						AND = {
							holder_scope = { is_feudal = yes }
							OR = {
								is_landless_type_title = no
								temporary = yes
							}
						}
						AND = {
							is_nomadic = no
							OR = {
								title = e_mongol_empire
								title = e_golden_horde
								title = e_il-khanate
							}
						}
					}
					is_primary_type_title = no
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_disables_succ_ultimogeniture }
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = yes
					emf_laws_succ_basic_potential = yes
					emf_laws_potential_not_for_byzantium = yes
					owner = {
						is_feudal = yes
						OR = {
							emf_unreformed_pagan = no
							religion = hellenic_pagan
						}
					}
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_disables_succ_dynastic_elective }
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = no
					emf_laws_potential_not_for_byzantium = yes
					OR = {
						is_landless_type_title = no
						is_tribal_type_title = yes
						temporary = yes
					}
					is_primary_type_title = no
					owner = {
						is_patrician = no
						OR = {
							independent = yes
							NOT = { any_liege = { holy_order = yes } }
						}
						NOR = {
							religion_group = muslim
							religion_group = indian_group
						}
						OR = {
							emf_unreformed_pagan = no
							religion = hellenic_pagan
						}
					}
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_enables_succ_seniority }
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = no
				}
				custom_tooltip = { text = emf_laws_ctt_enables_dejure_duchy_claim }
			}
			if = {
				limit = {
					tier = EMPEROR
					has_law = crown_authority_4
				}
				custom_tooltip = { text = emf_laws_ctt_disables_dejure_kingdom_claim }
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = no
				}
				custom_tooltip = { text = emf_laws_ctt_enables_subjugation_duke }
			}
			if = {
				limit = {
					tier = EMPEROR
					emf_laws_has_high_ca_plus = yes
				}
				custom_tooltip = { text = emf_laws_ctt_disables_subjugation_king }
			}
			if = {
				limit = {
					tier = EMPEROR
					temporary = no
					trigger_if = {
						limit = { has_game_started = yes }
						has_random_dejure = no
					}
				}
				if = {
					limit = {
						emf_laws_has_medium_ca_plus = no
					}
					custom_tooltip = { text = emf_laws_ctt_enables_imperial_kingdom_creation_0 }
				}
				if = {
					limit = {
						emf_laws_has_high_ca_plus = yes
					}
					custom_tooltip = { text = emf_laws_ctt_disables_imperial_kingdom_creation_1 }
				}
				if = {
					limit = {
						has_law = crown_authority_4
					}
					custom_tooltip = { text = emf_laws_ctt_disables_imperial_kingdom_creation_2 }
				}
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = yes
				}
				custom_tooltip = { text = emf_laws_ctt_allows_internal_military_plots }
			}
		}

		city_vassal_min_levy = 0.1
		castle_vassal_min_levy = 0.1
		temple_vassal_min_levy = 0.1
		tribal_vassal_min_levy = 0.1
	}

	crown_authority_3 = {
		show_as_title = yes
		group = crown_authority

		feudal_opinion = -14

		potential = {
			owner = {
				is_tribal = no
				is_nomadic = no
			}
			temporary = no
		}
		allow = {
			trigger_if = {
				limit = { has_law = crown_authority_2 }
				has_law = crown_authority_2
				holder_scope = {
					trigger_if = {
						limit = { ai = yes }
						prestige >= 500
					}
					trigger_else = {
						custom_tooltip = {
							text = NEEDS_1500_PRESTIGE_COST
							prestige >= 1500
						}
					}
					trigger_if = {
						limit = { emf_needs_coronation = yes }
						emf_is_crowned = yes
					}
					trigger_if = {
						limit = { religion_group = pagan_group }
						emf_not_unreformed_pagan = yes
					}
				}
			}
			trigger_else = {
				has_law = crown_authority_4
			}
			custom_tooltip = {
				text = emf_laws_ctt_ca_change_cooldown
				owner = {
					OR = {
						NOT = { has_flag = emf_ca_cooldown_@PREV }
						had_flag = { flag = emf_ca_cooldown_@PREV days = 18250 }
					}
				}
			}
			custom_tooltip = {
				text = emf_laws_ctt_ca_change_cooldown_title
				OR = {
					NOT = { has_flag = emf_ca_cooldown }
					had_flag = { flag = emf_ca_cooldown days = 9125 }
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NAND = {
					has_law = crown_authority_2
					ruled_years = 5
				}
			}
		}
		pass_effect = {
			hidden_effect = {
				if = {
					limit = {
						OR = {
							has_law = crown_authority_0
							has_law = crown_authority_1
							has_law = crown_authority_2
						}
						emf_laws_penalty = yes
					}
					clr_flag = emf_ca_cooldown
					set_flag = emf_ca_cooldown
					owner = {
						clr_flag = emf_ca_cooldown_@PREV
						set_flag = emf_ca_cooldown_@PREV
						if = {
							limit = { ai = no }
							prestige = -1500
						}
					}
					emf_laws_increase_authority_opinion = yes
				}
				if = {
					limit = { owner = { ai = yes } }
					if = {
						limit = {
							NOR = {
								has_dlc = "Zeus"
								has_law = revokation_2
							}
						}
						add_law = revokation_2
					}
					if = {
						limit = {
							has_dlc = "Zeus"
							is_primary_holder_title = yes
							NOT = { has_law = ze_revokation_2 }
						}
						add_law = ze_revokation_2
					}
					if = {
						limit = { NOT = { has_law = inheritance_1 } }
						add_law = inheritance_1
					}
				}
				if = {
					limit = { NOT = { has_law = king_peace_0 } }
					add_law = king_peace_0
				}
				if = {
					limit = { has_global_flag = EMF } # Don't do this until we've finished startup
					owner = { pf_mood_refresh_delayed_effect = yes }
				}
			}
		}
		effect = {
			if = {
				limit = {
					emf_laws_has_high_ca_plus = no
					emf_laws_penalty = yes
				}
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_tooltip = {
				revoke_law = crown_authority_0
				revoke_law = crown_authority_1
				revoke_law = crown_authority_2
				revoke_law = crown_authority_3
				revoke_law = crown_authority_4
			}
			if = {
				limit = {
					has_law = crown_authority_0
				}
				if = {
					limit = { NOT = { has_dlc = "Zeus" } }
					custom_tooltip = { text = emf_laws_ctt_enables_revokation_1 }
				}
				else = {
					custom_tooltip = { text = emf_laws_ctt_enables_ze_revokation_1 }
				}
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = no
					owner = {
						NOR = {
							government = chinese_imperial_government
							has_religion_feature = religion_cosmopolitan
							has_religion_feature = religion_syncretic_christian
							has_religion_feature = religion_syncretic_muslim
							has_religion_feature = religion_syncretic_zoroastrian
							has_religion_feature = religion_syncretic_indian
						}
					}
				}
				if = {
					limit = { NOT = { has_dlc = "Zeus" } }
					custom_tooltip = { text = emf_laws_ctt_enables_revokation_2 }
				}
				else = {
					custom_tooltip = { text = emf_laws_ctt_enables_ze_revokation_2 }
				}
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = no
				}
				custom_tooltip = { text = emf_laws_ctt_enables_inheritance_1 }
			}
			if = {
				limit = {
					has_law = crown_authority_4
				}
				custom_tooltip = { text = emf_laws_ctt_disables_king_peace_1 }
				custom_tooltip = { text = emf_laws_ctt_disables_king_peace_2 }
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = no
					emf_laws_potential_not_for_byzantium = yes
					OR = {
						AND = {
							emf_laws_succ_basic_potential = yes
							holder_scope = {
								is_feudal = yes
								OR = {
									emf_unreformed_pagan = no
									religion = hellenic_pagan
								}
							}
						}
						has_flag = alternate_byz
					}
					holder_scope = {
						is_patrician = no
						NOT = { culture = basque }
					}
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_enables_succ_primogeniture }
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = no
					emf_laws_potential_not_for_byzantium = yes
					holder_scope = {
						NOT = { religion_group = muslim }
						OR = {
							independent = yes
							NOT = { any_liege = { holy_order = yes } }
						}
						is_patrician = no
						OR = {
							culture = mongol
							emf_unreformed_pagan = no
						}
					}
					OR = {
						AND = {
							holder_scope = { is_feudal = yes }
							OR = {
								is_landless_type_title = no
								temporary = yes
							}
						}
						AND = {
							is_nomadic = no
							OR = {
								title = e_mongol_empire
								title = e_golden_horde
								title = e_il-khanate
							}
						}
					}
					is_primary_type_title = no
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_enables_succ_ultimogeniture }
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = no
					emf_laws_succ_basic_potential = yes
					emf_laws_potential_not_for_byzantium = yes
					owner = {
						is_feudal = yes
						OR = {
							emf_unreformed_pagan = no
							religion = hellenic_pagan
						}
					}
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_enables_succ_dynastic_elective }
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = no
					emf_laws_potential_not_for_byzantium = yes
					OR = {
						is_landless_type_title = no
						is_tribal_type_title = yes
						temporary = yes
					}
					is_primary_type_title = no
					owner = {
						is_patrician = no
						OR = {
							independent = yes
							NOT = { any_liege = { holy_order = yes } }
						}
						NOR = {
							religion_group = muslim
							religion_group = indian_group
						}
						OR = {
							emf_unreformed_pagan = no
							religion = hellenic_pagan
						}
					}
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_enables_succ_seniority }
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = no
				}
				custom_tooltip = { text = emf_laws_ctt_enables_dejure_duchy_claim }
			}
			if = {
				limit = {
					tier = EMPEROR
					has_law = crown_authority_4
				}
				custom_tooltip = { text = emf_laws_ctt_disables_dejure_kingdom_claim }
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = no
				}
				custom_tooltip = { text = emf_laws_ctt_enables_subjugation_duke }
			}
			if = {
				limit = {
					tier = EMPEROR
					emf_laws_has_high_ca_plus = no
				}
				custom_tooltip = { text = emf_laws_ctt_enables_subjugation_king }
			}
			if = {
				limit = {
					tier = EMPEROR
					temporary = no
					trigger_if = {
						limit = { has_game_started = yes }
						has_random_dejure = no
					}
				}
				if = {
					limit = {
						emf_laws_has_medium_ca_plus = no
					}
					custom_tooltip = { text = emf_laws_ctt_enables_imperial_kingdom_creation_0 }
				}
				if = {
					limit = {
						emf_laws_has_high_ca_plus = no
					}
					custom_tooltip = { text = emf_laws_ctt_enables_imperial_kingdom_creation_1 }
				}
				if = {
					limit = {
						has_law = crown_authority_4
					}
					custom_tooltip = { text = emf_laws_ctt_disables_imperial_kingdom_creation_2 }
				}
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = no
				}
				custom_tooltip = { text = emf_laws_ctt_prevents_internal_military_plots }
			}
		}

		city_vassal_min_levy = 0.20
		castle_vassal_min_levy = 0.20
		temple_vassal_min_levy = 0.20
		tribal_vassal_min_levy = 0.20

		demesne_size = 1
	}

	crown_authority_4 = {
		show_as_title = yes
		group = crown_authority

		feudal_opinion = -20

		potential = {
			owner = {
				is_tribal = no
				is_nomadic = no
			}
			temporary = no
		}
		allow = {
			has_law = crown_authority_3
			holder_scope = {
				trigger_if = {
					limit = { ai = yes }
					prestige >= 500
				}
				trigger_else = {
					custom_tooltip = {
						text = NEEDS_2000_PRESTIGE_COST
						prestige >= 2000
					}
				}
				trigger_if = {
					limit = { emf_needs_coronation = yes }
					emf_is_crowned = yes
				}
				trigger_if = {
					limit = { religion_group = pagan_group }
					emf_not_unreformed_pagan = yes
				}
			}
			custom_tooltip = {
				text = emf_laws_ctt_ca_change_cooldown
				owner = {
					OR = {
						NOT = { has_flag = emf_ca_cooldown_@PREV }
						had_flag = { flag = emf_ca_cooldown_@PREV days = 18250 }
					}
				}
			}
			custom_tooltip = {
				text = emf_laws_ctt_ca_change_cooldown_title
				OR = {
					NOT = { has_flag = emf_ca_cooldown }
					had_flag = { flag = emf_ca_cooldown days = 9125 }
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NAND = {
					has_law = crown_authority_3
					ruled_years = 5
				}
			}
		}
		pass_effect = {
			hidden_effect = {
				if = {
					limit = {
						OR = {
							has_law = crown_authority_0
							has_law = crown_authority_1
							has_law = crown_authority_2
							has_law = crown_authority_3
						}
						emf_laws_penalty = yes
					}
					clr_flag = emf_ca_cooldown
					set_flag = emf_ca_cooldown
					owner = {
						clr_flag = emf_ca_cooldown_@PREV
						set_flag = emf_ca_cooldown_@PREV
						if = {
							limit = { ai = no }
							prestige = -2000
						}
					}
					emf_laws_increase_authority_opinion = yes
				}
				if = {
					limit = { owner = { ai = yes } }
					if = {
						limit = {
							NOR = {
								has_dlc = "Zeus"
								has_law = revokation_2
							}
						}
						add_law = revokation_2
					}
					if = {
						limit = {
							has_dlc = "Zeus"
							is_primary_holder_title = yes
							NOT = { has_law = ze_revokation_2 }
						}
						add_law = ze_revokation_2
					}
					if = {
						limit = {
							NOR = {
								has_law = king_peace_1
								has_law = king_peace_2
							}
						}
						add_law = king_peace_1
					}
					if = {
						limit = { NOT = { has_law = inheritance_1 } }
						add_law = inheritance_1
					}
				}
				if = {
					limit = { has_global_flag = EMF } # Don't do this until we've finished startup
					owner = { pf_mood_refresh_delayed_effect = yes }
				}
			}
		}
		effect = {
			if = {
				limit = {
					OR = {
						has_law = crown_authority_0
						has_law = crown_authority_1
						has_law = crown_authority_2
						has_law = crown_authority_3
					}
					emf_laws_penalty = yes
				}
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_tooltip = {
				revoke_law = crown_authority_0
				revoke_law = crown_authority_1
				revoke_law = crown_authority_2
				revoke_law = crown_authority_3
				revoke_law = crown_authority_4
			}
			if = {
				limit = {
					has_law = crown_authority_0
				}
				if = {
					limit = { NOT = { has_dlc = "Zeus" } }
					custom_tooltip = { text = emf_laws_ctt_enables_revokation_1 }
				}
				else = {
					custom_tooltip = { text = emf_laws_ctt_enables_ze_revokation_1 }
				}
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = no
					owner = {
						NOR = {
							government = chinese_imperial_government
							has_religion_feature = religion_cosmopolitan
							has_religion_feature = religion_syncretic_christian
							has_religion_feature = religion_syncretic_muslim
							has_religion_feature = religion_syncretic_zoroastrian
							has_religion_feature = religion_syncretic_indian
						}
					}
				}
				if = {
					limit = { NOT = { has_dlc = "Zeus" } }
					custom_tooltip = { text = emf_laws_ctt_enables_revokation_2 }
				}
				else = {
					custom_tooltip = { text = emf_laws_ctt_enables_ze_revokation_2 }
				}
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = no
				}
				custom_tooltip = { text = emf_laws_ctt_enables_inheritance_1 }
			}
			custom_tooltip = { text = emf_laws_ctt_enables_king_peace_1 }
			custom_tooltip = { text = emf_laws_ctt_enables_king_peace_2 }
			if = {
				limit = {
					emf_laws_has_high_ca_plus = no
					emf_laws_potential_not_for_byzantium = yes
					OR = {
						AND = {
							emf_laws_succ_basic_potential = yes
							holder_scope = {
								is_feudal = yes
								OR = {
									emf_unreformed_pagan = no
									religion = hellenic_pagan
								}
							}
						}
						has_flag = alternate_byz
					}
					holder_scope = {
						is_patrician = no
						NOT = { culture = basque }
					}
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_enables_succ_primogeniture }
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = no
					emf_laws_potential_not_for_byzantium = yes
					holder_scope = {
						NOT = { religion_group = muslim }
						OR = {
							independent = yes
							NOT = { any_liege = { holy_order = yes } }
						}
						is_patrician = no
						OR = {
							culture = mongol
							emf_unreformed_pagan = no
						}
					}
					OR = {
						AND = {
							holder_scope = { is_feudal = yes }
							OR = {
								is_landless_type_title = no
								temporary = yes
							}
						}
						AND = {
							is_nomadic = no
							OR = {
								title = e_mongol_empire
								title = e_golden_horde
								title = e_il-khanate
							}
						}
					}
					is_primary_type_title = no
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_enables_succ_ultimogeniture }
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = no
					emf_laws_succ_basic_potential = yes
					emf_laws_potential_not_for_byzantium = yes
					owner = {
						is_feudal = yes
						OR = {
							emf_unreformed_pagan = no
							religion = hellenic_pagan
						}
					}
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_enables_succ_dynastic_elective }
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = no
					emf_laws_potential_not_for_byzantium = yes
					OR = {
						is_landless_type_title = no
						is_tribal_type_title = yes
						temporary = yes
					}
					is_primary_type_title = no
					owner = {
						is_patrician = no
						OR = {
							independent = yes
							NOT = { any_liege = { holy_order = yes } }
						}
						NOR = {
							religion_group = muslim
							religion_group = indian_group
						}
						OR = {
							emf_unreformed_pagan = no
							religion = hellenic_pagan
						}
					}
					NOT = { emf_laws_holder_has_late_administration_plus = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_enables_succ_seniority }
			}
			if = {
				limit = {
					tier = EMPEROR
					owner = { is_feudal = yes }
				}
				custom_tooltip = { text = emf_laws_ctt_progresses_administration_2 }
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = no
				}
				custom_tooltip = { text = emf_laws_ctt_enables_dejure_duchy_claim }
			}
			if = {
				limit = {
					tier = EMPEROR
				}
				custom_tooltip = { text = emf_laws_ctt_enables_dejure_kingdom_claim }
			}
			if = {
				limit = {
					emf_laws_has_medium_ca_plus = no
				}
				custom_tooltip = { text = emf_laws_ctt_enables_subjugation_duke }
			}
			if = {
				limit = {
					tier = EMPEROR
					emf_laws_has_high_ca_plus = no
				}
				custom_tooltip = { text = emf_laws_ctt_enables_subjugation_king }
			}
			if = {
				limit = {
					tier = EMPEROR
					temporary = no
					trigger_if = {
						limit = { has_game_started = yes }
						has_random_dejure = no
					}
				}
				if = {
					limit = {
						emf_laws_has_medium_ca_plus = no
					}
					custom_tooltip = { text = emf_laws_ctt_enables_imperial_kingdom_creation_0 }
				}
				if = {
					limit = {
						emf_laws_has_high_ca_plus = no
					}
					custom_tooltip = { text = emf_laws_ctt_enables_imperial_kingdom_creation_1 }
				}
				custom_tooltip = { text = emf_laws_ctt_enables_imperial_kingdom_creation_2 }
			}
			if = {
				limit = {
					emf_laws_has_high_ca_plus = no
				}
				custom_tooltip = { text = emf_laws_ctt_prevents_internal_military_plots }
			}
		}

		city_vassal_min_levy = 0.35
		castle_vassal_min_levy = 0.35
		temple_vassal_min_levy = 0.35
		tribal_vassal_min_levy = 0.35

		demesne_size = 3
	}

	# TITLE REVOCATION (CROWN LAW VERSION FOR NON-ZEUS)
	##################################

	revokation_0 = {
		show_as_title = yes
		group = revokation
		default = yes

		feudal_opinion = 5
		city_opinion = 5
		temple_opinion = 5
		tribal_opinion = 5

		potential = {
			NOT = { has_dlc = "Zeus" }
			OR = {
				higher_tier_than = BARON
				owner = { is_patrician = yes }
			}
			owner = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
					government = confucian_bureaucracy
				}
			}
		}
		allow = {
			has_law = revokation_1
		}
		ai_will_do = {
			factor = 0
		}
		effect = {
			hidden_effect = {
				revoke_law = revokation_0
				revoke_law = revokation_1
				revoke_law = revokation_2
			}
			set_allow_title_revokation = no
			set_allow_free_infidel_revokation = no
		}
	}

	revokation_1 = {
		show_as_title = yes
		group = revokation

		potential = {
			NOT = { has_dlc = "Zeus" }
			OR = {
				higher_tier_than = BARON
				owner = { is_patrician = yes }
			}
			owner = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
					government = confucian_bureaucracy
				}
			}
		}
		allow = {
			OR = {
				AND = {
					has_law = revokation_0
					emf_laws_has_limited_ca_plus = yes
				}
				has_law = revokation_2
			}
		}
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0
				NOT = { has_law = revokation_0 }
			}
		}
		pass_effect = {
			if = {
				limit = {
					has_law = revokation_0
					owner = { ai = no }
					emf_laws_penalty = yes
				}
				emf_laws_increase_authority_opinion = yes
			}
		}
		effect = {
			if = {
				limit = { has_law = revokation_0 }
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_effect = {
				revoke_law = revokation_0
				revoke_law = revokation_1
				revoke_law = revokation_2
			}
			set_allow_title_revokation = yes
			set_allow_free_infidel_revokation = no
			if = {
				limit = {
					tier = EMPEROR
					owner = { is_feudal = yes }
					has_law = inheritance_1
					has_law = administration_1
					owner = { 
						OR = { 
							government = chinese_imperial_government 
							has_religion_feature = religion_cosmopolitan
							has_religion_feature = religion_syncretic_christian
							has_religion_feature = religion_syncretic_muslim
							has_religion_feature = religion_syncretic_zoroastrian
							has_religion_feature = religion_syncretic_indian
						} 
					}
					NOT = { has_law = king_peace_0 }
					trigger_if = {
						limit = { has_dlc = "Zeus" }
						emf_laws_has_no_council_power = yes
					}
				}
				custom_tooltip = { text = emf_laws_ctt_enables_administration_2 }
			}
		}
	}

	revokation_2 = {
		show_as_title = yes
		group = revokation

		feudal_opinion = -5
		city_opinion = -5
		temple_opinion = -5
		tribal_opinion = -5

		potential = {
			NOT = { has_dlc = "Zeus" }
			OR = {
				higher_tier_than = BARON
				owner = { is_patrician = yes }
			}
			owner = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
					government = confucian_bureaucracy
					government = chinese_imperial_government
					has_religion_feature = religion_cosmopolitan
					has_religion_feature = religion_syncretic_christian
					has_religion_feature = religion_syncretic_muslim
					has_religion_feature = religion_syncretic_zoroastrian
					has_religion_feature = religion_syncretic_indian
				}
			}
		}
		allow = {
			has_law = revokation_1
			emf_laws_has_medium_ca_plus = yes
			trigger_if = {
				limit = { owner = { government = chinese_imperial_government } }
				owner = {
					show_scope_change = no
					NOT = { government = chinese_imperial_government }
				}
			}
			NOT = {
				holder_scope = {
					OR = {
						has_religion_feature = religion_cosmopolitan
						has_religion_feature = religion_syncretic_christian
						has_religion_feature = religion_syncretic_muslim
						has_religion_feature = religion_syncretic_zoroastrian
						has_religion_feature = religion_syncretic_indian
					}
				}
			}
		}
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0
				NOT = { has_law = revokation_1 }
			}
		}
		pass_effect = {
			if = {
				limit = {
					OR = {
						has_law = revokation_0
						has_law = revokation_1
					}
					owner = { ai = no }
					emf_laws_penalty = yes
				}
				emf_laws_increase_authority_opinion = yes
			}
		}
		effect = {
			if = {
				limit = {
					OR = {
						has_law = revokation_0
						has_law = revokation_1
					}
				}
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_effect = {
				revoke_law = revokation_0
				revoke_law = revokation_1
				revoke_law = revokation_2
			}
			set_allow_title_revokation = yes
			set_allow_free_infidel_revokation = yes
			if = {
				limit = {
					tier = EMPEROR
					owner = { is_feudal = yes }
					has_law = inheritance_1
					has_law = administration_1
					owner = { 
						NOR = { 
							government = chinese_imperial_government 
							has_religion_feature = religion_cosmopolitan
							has_religion_feature = religion_syncretic_christian
							has_religion_feature = religion_syncretic_muslim
							has_religion_feature = religion_syncretic_zoroastrian
							has_religion_feature = religion_syncretic_indian
						} 
					}
					NOT = { has_law = king_peace_0 }
					trigger_if = {
						limit = { has_dlc = "Zeus" }
						emf_laws_has_no_council_power = yes
					}
				}
				custom_tooltip = { text = emf_laws_ctt_enables_administration_2 }
			}
		}
	}

	# KING'S PEACE
	##################################

	king_peace_0 = {
		show_as_title = yes
		group = king_peace
		default = yes

		potential = {
			owner = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
					is_theocracy = yes
					government = order_government
				}
			}
			temporary = no
		}
		allow = {
			has_law = king_peace_1
		}
		ai_will_do = {
			factor = 0
		}
		effect = {
			hidden_effect = {
				revoke_law = king_peace_0
				revoke_law = king_peace_1
				revoke_law = king_peace_2
			}
			set_the_kings_peace = no
			set_the_kings_full_peace = no
		}
	}

	king_peace_1 = {
		show_as_title = yes
		group = king_peace

		feudal_opinion = -5

		potential = {
			owner = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
					is_theocracy = yes
					government = order_government
				}
			}
			temporary = no
		}
		allow = {
			OR = {
				AND = {
					has_law = crown_authority_4
					has_law = king_peace_0
				}
				has_law = king_peace_2
			}
		}
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0
				NOT = { has_law = king_peace_0 }
			}
		}
		pass_effect = {
			hidden_effect = {
				if = {
					limit = {
						has_law = king_peace_0
						owner = { ai = no }
						emf_laws_penalty = yes
					}
					emf_laws_increase_authority_opinion = yes
				}
			}
		}
		effect = {
			if = {
				limit = { has_law = king_peace_0 }
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_effect = {
				revoke_law = king_peace_0
				revoke_law = king_peace_1
				revoke_law = king_peace_2
			}
			set_the_kings_peace = no # Handled in soft-code
			set_the_kings_full_peace = no
			if = {
				limit = {
					tier = EMPEROR
					owner = { is_feudal = yes }
					has_law = inheritance_1
					has_law = administration_1
					trigger_if = {
						limit = {
							has_dlc = "Zeus"
						}
						trigger_if = {
							limit = {
								owner = { 
									NOR = { 
										government = chinese_imperial_government 
										has_religion_feature = religion_cosmopolitan
										has_religion_feature = religion_syncretic_christian
										has_religion_feature = religion_syncretic_muslim
										has_religion_feature = religion_syncretic_zoroastrian
										has_religion_feature = religion_syncretic_indian
									} 
								}
							}
							has_law = ze_revokation_2
						}
						trigger_else = {
							has_law = ze_revokation_1
						}
					}
					trigger_else_if = {
						limit = {
							owner = { 
								NOR = { 
									government = chinese_imperial_government 
									has_religion_feature = religion_cosmopolitan
									has_religion_feature = religion_syncretic_christian
									has_religion_feature = religion_syncretic_muslim
									has_religion_feature = religion_syncretic_zoroastrian
									has_religion_feature = religion_syncretic_indian
								} 
							}
						}
						has_law = revokation_2
					}
					trigger_else = {
						has_law = revokation_1
					}
					trigger_if = {
						limit = { has_dlc = "Zeus" }
						emf_laws_has_no_council_power = yes
					}
				}
				custom_tooltip = { text = emf_laws_ctt_enables_administration_2 }
			}
		}
	}

	king_peace_2 = {
		show_as_title = yes
		group = king_peace

		feudal_opinion = -10

		potential = {
			owner = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
					is_theocracy = yes
					government = order_government
				}
			}
			temporary = no
		}
		allow = {
			has_law = crown_authority_4
			has_law = king_peace_1
		}
		ai_will_do = {
			factor = 0
		}
		pass_effect = {
			hidden_effect = {
				if = {
					limit = {
						OR = {
							has_law = king_peace_0
							has_law = king_peace_1
						}
						owner = { ai = no }
						emf_laws_penalty = yes
					}
					emf_laws_increase_authority_opinion = yes
				}
			}
		}
		effect = {
			if = {
				limit = {
					OR = {
						has_law = king_peace_0
						has_law = king_peace_1
					}
				}
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_effect = {
				revoke_law = king_peace_0
				revoke_law = king_peace_1
				revoke_law = king_peace_2
			}
			set_the_kings_peace = no # Handled in soft-code
			set_the_kings_full_peace = no # Handled in soft-code
			if = {
				limit = {
					tier = EMPEROR
					owner = { is_feudal = yes }
					has_law = inheritance_1
					has_law = administration_1
					trigger_if = {
						limit = {
							has_dlc = "Zeus"
						}
						trigger_if = {
							limit = {
								owner = { 
									NOR = { 
										government = chinese_imperial_government 
										has_religion_feature = religion_cosmopolitan
										has_religion_feature = religion_syncretic_christian
										has_religion_feature = religion_syncretic_muslim
										has_religion_feature = religion_syncretic_zoroastrian
										has_religion_feature = religion_syncretic_indian
									} 
								}
							}
							has_law = ze_revokation_2
						}
						trigger_else = {
							has_law = ze_revokation_1
						}
					}
					trigger_else_if = {
						limit = {
							owner = { 
								NOR = { 
									government = chinese_imperial_government 
									has_religion_feature = religion_cosmopolitan
									has_religion_feature = religion_syncretic_christian
									has_religion_feature = religion_syncretic_muslim
									has_religion_feature = religion_syncretic_zoroastrian
									has_religion_feature = religion_syncretic_indian
								} 
							}
						}
						has_law = revokation_2
					}
					trigger_else = {
						has_law = revokation_1
					}
					trigger_if = {
						limit = { has_dlc = "Zeus" }
						emf_laws_has_no_council_power = yes
					}
				}
				custom_tooltip = { text = emf_laws_ctt_enables_administration_2 }
			}
		}
	}

	#### PROTECTED INHERITANCE ####
	###############################

	inheritance_0 = {
		show_as_title = yes
		group = inheritance
		default = yes

		potential = {
			owner = {
				is_tribal = no
				is_nomadic = no
				NOT = { government = order_government }
			}
			temporary = no
		}
		allow = {
		}
		ai_will_do = {
			factor = 0
		}
		effect = {
			hidden_effect = {
				revoke_law = inheritance_0
				revoke_law = inheritance_1
			}
			set_protected_inheritance = no
		}
	}

	inheritance_1 = {
		show_as_title = yes
		group = inheritance

		feudal_opinion = -2

		potential = {
			owner = {
				is_tribal = no
				is_nomadic = no
				NOT = { government = order_government }
			}
			temporary = no
		}
		allow = {
			emf_laws_has_high_ca_plus = yes
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { has_law = inheritance_0 }
			}
		}
		pass_effect = {
			hidden_effect = {
				if = {
					limit = {
						has_law = inheritance_0
						owner = { ai = no }
						emf_laws_penalty = yes
					}
					emf_laws_increase_authority_opinion = yes
				}
			}
		}
		effect = {
			if = {
				limit = { has_law = inheritance_0 }
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_effect = {
				revoke_law = inheritance_0
				revoke_law = inheritance_1
			}
			set_protected_inheritance = yes
			if = {
				limit = {
					tier = EMPEROR
					owner = { is_feudal = yes }
					has_law = administration_1
					trigger_if = {
						limit = {
							has_dlc = "Zeus"
						}
						trigger_if = {
							limit = {
								owner = { 
									NOR = { 
										government = chinese_imperial_government 
										has_religion_feature = religion_cosmopolitan
										has_religion_feature = religion_syncretic_christian
										has_religion_feature = religion_syncretic_muslim
										has_religion_feature = religion_syncretic_zoroastrian
										has_religion_feature = religion_syncretic_indian
									} 
								}
							}
							has_law = ze_revokation_2
						}
						trigger_else = {
							has_law = ze_revokation_1
						}
					}
					trigger_else_if = {
						limit = {
							owner = { 
								NOR = { 
									government = chinese_imperial_government 
									has_religion_feature = religion_cosmopolitan
									has_religion_feature = religion_syncretic_christian
									has_religion_feature = religion_syncretic_muslim
									has_religion_feature = religion_syncretic_zoroastrian
									has_religion_feature = religion_syncretic_indian
								} 
							}
						}
						has_law = revokation_2
					}
					trigger_else = {
						has_law = revokation_1
					}
					NOT = { has_law = king_peace_0 }
					trigger_if = {
						limit = { has_dlc = "Zeus" }
						emf_laws_has_no_council_power = yes
					}
				}
				custom_tooltip = { text = emf_laws_ctt_enables_administration_2 }
			}
		}
	}

	# INVESTITURE LAW
	##################################

	investiture_law_0 = {
		show_as_title = yes
		group = investiture_law
		default = yes

		potential = {
			owner = {
				is_tribal = no
				is_nomadic = no
				religion_head = {
					OR = {
						# TODO: codegen for religions that have investiture=yes
						religion = catholic
						religion = fraticelli
						religion = cathar
						religion = bogomilist
						religion = manichean
					}
				}
				NOT = { rightful_religious_head_scope = { character = ROOT } }
			}
		}
		allow = {
			trigger_if = {
				limit = { temporary = yes }
				temporary = no
			}
			year >= 1000
			custom_tooltip = {
				text = emf_laws_ctt_investiture_change_cooldown
				owner = {
					OR = {
						NOT = { has_flag = emf_inv_cooldown_@PREV }
						had_flag = { flag = emf_inv_cooldown_@PREV days = 18250 }
					}
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.005 # Rare to do this (ca. 200yr/title)
			}
			modifier = {
				factor = 0
				NOT = { has_law = investiture_law_1 }
			}
			modifier = {
				factor = 0
				owner = { ai_zeal <= -40 }
			}
			modifier = {
				factor = 1.5
				owner = { ai_zeal >= 40 }
			}
			modifier = {
				factor = 1.5
				owner = { ai_zeal >= 30 }
			}
			modifier = {
				factor = 1.5
				owner = { ai_zeal >= 29 }
			}
			modifier = {
				factor = 1.5
				owner = { ai_zeal >= 10 }
			}
			modifier = {
				factor = 0.67
				owner = { ai_zeal <= 0 }
			}
			modifier = {
				factor = 0.67
				owner = { ai_zeal <= -10 }
			}
			modifier = {
				factor = 0.67
				owner = { ai_zeal <= -20 }
			}
			modifier = {
				factor = 0.67
				owner = { ai_zeal <= -30 }
			}
		}
		pass_effect = {
			hidden_effect = {
				if = {
					limit = { emf_laws_penalty = yes }
					owner = {
						clr_flag = emf_inv_cooldown_@PREV
						set_flag = emf_inv_cooldown_@PREV
					}
					if = {
						limit = {
							owner = {
								NOT = { has_flag = emf_forced_investiture_head_tmp }
							}
						}
						emf_laws_investiture_law_0_pass = yes
					}
				}
			}
		}
		effect = {
			if = {
				limit = { NOT = { has_law = investiture_law_0 } }
				tooltip = {
					emf_laws_investiture_law_0_pass = yes
				}
			}
			hidden_effect = {
				revoke_law = investiture_law_0
				revoke_law = investiture_law_1
			}
			set_investiture = head
		}
	}

	investiture_law_1 = {
		show_as_title = yes
		rel_head_opinion = -30
		free_invest_vassal_opinion = 5 # vassals with bishops will appreciate this law
		temple_all_opinion = 30 # Bishops will be grateful to their liege for their appointment
		group = investiture_law

		potential = {
			owner = {
				is_tribal = no
				is_nomadic = no
				religion_head = {
					OR = {
						# TODO: codegen for religions that have investiture=yes
						religion = catholic
						religion = fraticelli
						religion = cathar
						religion = bogomilist
						religion = manichean
					}
				}
				NOT = { rightful_religious_head_scope = { character = ROOT } }
			}
		}
		allow = {
			trigger_if = {
				limit = { temporary = yes }
				temporary = no
			}
			trigger_if = {
				limit = { holy_order = yes }
				holy_order = no
			}
			custom_tooltip = {
				text = emf_laws_ctt_investiture_change_cooldown
				owner = {
					OR = {
						NOT = { has_flag = emf_inv_cooldown_@PREV }
						had_flag = { flag = emf_inv_cooldown_@PREV days = 18250 }
					}
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.005 # Rare to do this (ca. 200yr for any given crown law title)
			}
			modifier = {
				factor = 0
				NOT = { has_law = investiture_law_0 }
			}
			modifier = {
				factor = 0
				owner = { ai_zeal >= 40 }
			}
			modifier = {
				factor = 0.5
				owner = { ai_zeal >= 30 }
			}
			modifier = {
				factor = 0.67
				owner = { ai_zeal >= 20 }
			}
			modifier = {
				factor = 0.67
				owner = { ai_zeal >= 10 }
			}
			modifier = {
				factor = 1.5
				owner = { ai_zeal <= 0 }
			}
			modifier = {
				factor = 1.5
				owner = { ai_zeal <= -10 }
			}
			modifier = {
				factor = 1.5
				owner = { ai_zeal <= -20 }
			}
			modifier = {
				factor = 1.5
				owner = { ai_zeal <= -30 }
			}
		}
		pass_effect = {
			hidden_effect = {
				if = {
					limit = { emf_laws_penalty = yes }
					owner = {
						clr_flag = emf_inv_cooldown_@PREV
						set_flag = emf_inv_cooldown_@PREV
					}
					if = {
						limit = {
							owner = {
								NOT = { has_flag = emf_forced_investiture_any_tmp }
							}
						}
						emf_laws_investiture_law_1_pass = yes
					}
				}
			}
		}
		effect = {
			if = {
				limit = { NOT = { has_law = investiture_law_1 } }
				tooltip = {
					emf_laws_investiture_law_1_pass = yes
				}
			}
			hidden_effect = {
				revoke_law = investiture_law_0
				revoke_law = investiture_law_1
			}
			set_investiture = any
		}
	}

	# [IMPERIAL] DE JURE VASSAL KINGDOM CREATION
	############################################

	imperial_kingdom_creation_0 = {
		show_as_title = yes
		group = imperial_kingdom_creation
		default = yes

		potential = {
			tier = EMPEROR
			owner = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
			temporary = no
			trigger_if = {
				limit = { has_game_started = yes }
				has_random_dejure = no
			}
		}
		allow = {
			emf_laws_has_medium_ca_plus = yes
			has_law = imperial_kingdom_creation_1
			custom_tooltip = {
				text = HOLDER_NEEDS_1500_PRESTIGE_COST
				owner = { prestige = 1500 }
			}
			custom_tooltip = {
				text = emf_laws_ctt_ikc_change_cooldown
				owner = {
					OR = {
						NOT = { has_flag = emf_ikc_cooldown_@PREV }
						had_flag = { flag = emf_ikc_cooldown_@PREV days = 18250 }
					}
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
		pass_effect = {
			hidden_effect = {
				if = {
					limit = { emf_laws_penalty = yes }
					owner = {
						clr_flag = emf_ikc_cooldown_@PREV
						set_flag = emf_ikc_cooldown_@PREV
						prestige = -1500
						any_realm_lord = {
							limit = {
								is_feudal = yes
								holy_order = no
								mercenary = no
								any_realm_title = {
									tier = COUNT
									empire = { title = PREVPREVPREVPREV }
								}
							}
							opinion = { who = PREV modifier = opinion_ikc_law_change }
						}
					}
				}
			}
		}
		effect = {
			hidden_effect = {
				revoke_law = imperial_kingdom_creation_0
				revoke_law = imperial_kingdom_creation_1
				revoke_law = imperial_kingdom_creation_2
			}
		}
	}

	imperial_kingdom_creation_1 = {
		show_as_title = yes
		group = imperial_kingdom_creation

		potential = {
			tier = EMPEROR
			owner = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
			temporary = no
			trigger_if = {
				limit = { has_game_started = yes }
				has_random_dejure = no
			}
		}
		allow = {
			emf_laws_has_high_ca_plus = yes
			custom_tooltip = {
				text = HOLDER_NEEDS_1500_PRESTIGE_COST
				owner = { prestige = 1500 }
			}
			custom_tooltip = {
				text = emf_laws_ctt_ikc_change_cooldown
				owner = {
					OR = {
						NOT = { has_flag = emf_ikc_cooldown_@PREV }
						had_flag = { flag = emf_ikc_cooldown_@PREV days = 18250 }
					}
				}
			}
			trigger_if = {
				limit = {
					NOR = {
						has_law = imperial_kingdom_creation_0
						has_law = imperial_kingdom_creation_2
					}
				}
				OR = {
					has_law = imperial_kingdom_creation_0
					has_law = imperial_kingdom_creation_2
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
		pass_effect = {
			hidden_effect = {
				if = {
					limit = { emf_laws_penalty = yes }
					owner = {
						clr_flag = emf_ikc_cooldown_@PREV
						set_flag = emf_ikc_cooldown_@PREV
						prestige = -1500
						any_realm_lord = {
							limit = {
								is_feudal = yes
								holy_order = no
								mercenary = no
								any_realm_title = {
									tier = COUNT
									empire = { title = PREVPREVPREVPREV }
								}
							}
							opinion = { who = PREV modifier = opinion_ikc_law_change }
						}
					}
				}
			}
		}
		effect = {
			hidden_effect = {
				revoke_law = imperial_kingdom_creation_0
				revoke_law = imperial_kingdom_creation_1
				revoke_law = imperial_kingdom_creation_2
			}
		}

		vassal_limit = -5
	}

	imperial_kingdom_creation_2 = {
		show_as_title = yes
		group = imperial_kingdom_creation

		potential = {
			tier = EMPEROR
			owner = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
			temporary = no
			trigger_if = {
				limit = { has_game_started = yes }
				has_random_dejure = no
			}
		}
		allow = {
			has_law = crown_authority_4
			has_law = imperial_kingdom_creation_1
			custom_tooltip = {
				text = HOLDER_NEEDS_1500_PRESTIGE_COST
				owner = { prestige = 1500 }
			}
			custom_tooltip = {
				text = emf_laws_ctt_ikc_change_cooldown
				owner = {
					OR = {
						NOT = { has_flag = emf_ikc_cooldown_@PREV }
						had_flag = { flag = emf_ikc_cooldown_@PREV days = 18250 }
					}
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = {
					limit = { emf_laws_penalty = yes }
					owner = {
						clr_flag = emf_ikc_cooldown_@PREV
						set_flag = emf_ikc_cooldown_@PREV
						prestige = -1500
						any_realm_lord = {
							limit = {
								is_feudal = yes
								holy_order = no
								mercenary = no
								any_realm_title = {
									tier = COUNT
									empire = { title = PREVPREVPREVPREV }
								}
							}
							opinion = { who = PREV modifier = opinion_ikc_law_change }
						}
					}
				}
			}
		}
		effect = {
			hidden_tooltip = {
				revoke_law = imperial_kingdom_creation_0
				revoke_law = imperial_kingdom_creation_1
				revoke_law = imperial_kingdom_creation_2
			}
		}

		vassal_limit = -5
		feudal_opinion = -5
	}
}

