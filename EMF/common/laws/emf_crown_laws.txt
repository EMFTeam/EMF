# -*- ck2.laws -*-

law_groups = {
	crown_authority = {
		law_type = realm
		allowed_for_councillors = no
	}
	revokation = { # Non-Zeus version (Zeus won't correctly work w/ de jure revocation laws)
		law_type = realm
		allowed_for_councillors = no
	}
	king_peace = {
		law_type = realm
		allowed_for_councillors = yes
	}
	inheritance = {
		law_type = realm
		allowed_for_councillors = yes
	}
	investiture_law = {
		law_type = realm
		allowed_for_councillors = no
	}
	imperial_kingdom_creation = {
		law_type = realm
		allowed_for_councillors = no
	}
}

de_jure_laws = {

	crown_authority_0 = {
		show_as_title = yes
		group = crown_authority
		default = yes
		
		feudal_opinion = 4
		
		potential = {
			holder_scope = {
				is_tribal = no
				is_nomadic = no
			}
			temporary = no
		}
		allow = {
			holder_scope = { is_republic = no }
			has_law = crown_authority_1
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = {
					limit = {
						NOR = {
							has_dlc = "Zeus"
							has_law = revokation_0
						}
					}
					add_law = revokation_0
				}
				if = {
					limit = {
						has_dlc = "Zeus"
						is_primary_holder_title = yes
						NOT = { has_law = ze_revokation_0 }
					}
					add_law = ze_revokation_0
				}
				if = {
					limit = { NOT = { has_law = king_peace_0 } }
					add_law = king_peace_0
				}
				if = {
					limit = { NOT = { has_law = inheritance_0 } }
					add_law = inheritance_0
				}
				holder_scope = { pf_mood_refresh_delayed_effect = yes }
			}
		}
		effect = {
			hidden_tooltip = {
				revoke_law = crown_authority_0
				revoke_law = crown_authority_1
				revoke_law = crown_authority_2
				revoke_law = crown_authority_3
				revoke_law = crown_authority_4
			}
		}
	}
	
	crown_authority_1 = {
		show_as_title = yes
		group = crown_authority
		
		feudal_opinion = -2
		
		potential = {
			holder_scope = {
				is_tribal = no
				is_nomadic = no
			}
			temporary = no
		}
		allow = {
			OR = {
				AND = {
					has_law = crown_authority_0
					holder_scope = { prestige = 500 }
					holder_scope = { NOT = { trait = uncrowned } }
					custom_tooltip = {
						text = emf_laws_ctt_ca_change_cooldown
						hidden_tooltip = {
							holder_scope = { NOT = { has_character_flag = emf_ca_cooldown_@PREV } }
						}
					}
				}
				has_law = crown_authority_2
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { has_law = crown_authority_0 }
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = {
					limit = {
						has_law = crown_authority_0
						emf_laws_penalty_trigger = yes
					}
					holder_scope = {
						prestige = -250
						set_character_flag = emf_ca_cooldown_@PREV
					}
					emf_laws_increase_authority_opinion_effect = yes
				}
				if = {
					limit = { holder_scope = { ai = yes } }
					if = {
						limit = {
							NOR = {
								has_dlc = "Zeus"
								has_law = revokation_1
							}
						}
						add_law = revokation_1
					}
					if = {
						limit = {
							has_dlc = "Zeus"
							is_primary_holder_title = yes
							NOT = { has_law = ze_revokation_1 }
						}
						add_law = ze_revokation_1
					}
				}
				if = {
					limit = { holder_scope = { ai = no } }
					if = {
						limit = {
							NOT = { has_dlc = "Zeus" }
							has_law = revokation_2
						}
						add_law = revokation_1
					}
					if = {
						limit = {
							has_dlc = "Zeus"
							is_primary_holder_title = yes
							has_law = ze_revokation_2
						}
						add_law = ze_revokation_1
					}
				}
				if = {
					limit = { NOT = { has_law = king_peace_0 } }
					add_law = king_peace_0
				}
				if = {
					limit = { NOT = { has_law = inheritance_0 } }
					add_law = inheritance_0
				}
				holder_scope = { pf_mood_refresh_delayed_effect = yes }
			}
		}
		effect = {
			if = {
				limit = {
					has_law = crown_authority_0
					emf_laws_penalty_trigger = yes
				}
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_tooltip = {
				revoke_law = crown_authority_0
				revoke_law = crown_authority_1
				revoke_law = crown_authority_2
				revoke_law = crown_authority_3
				revoke_law = crown_authority_4
			}
			if = {
				limit = { NOT = { has_dlc = "Zeus" } }
				custom_tooltip = { text = emf_laws_ctt_enables_revokation_1 }
			}
			if = {
				limit = { has_dlc = "Zeus" }
				custom_tooltip = { text = emf_laws_ctt_enables_ze_revokation_1 }
			}
		}
		
		city_vassal_min_levy = 0.15
		castle_vassal_min_levy = 0.15
		temple_vassal_min_levy = 0.15
	}
	
	crown_authority_2 = {
		show_as_title = yes
		group = crown_authority
		
		feudal_opinion = -8
		
		potential = {
			holder_scope = {
				is_tribal = no
				is_nomadic = no
			}
			temporary = no
		}
		allow = {
			OR = {
				AND = {
					has_law = crown_authority_1
					holder_scope = { prestige = 1000 }
					holder_scope = { NOT = { trait = uncrowned } }
					custom_tooltip = {
						text = emf_laws_ctt_ca_change_cooldown
						hidden_tooltip = {
							holder_scope = { NOT = { has_character_flag = emf_ca_cooldown_@PREV } }
						}
					}
				}
				has_law = crown_authority_3
			}
			holder_scope = {
				custom_tooltip = { 
					text = TT_NOT_UNREFORMED_PAGAN
					hidden_tooltip = {
						OR = {
							NOT = { religion_group = pagan_group }
							is_reformed_religion = yes
						}
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NAND = {
					has_law = crown_authority_1
					ruled_years = 5
				}
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = {
					limit = {
						OR = {
							has_law = crown_authority_0
							has_law = crown_authority_1
						}
						emf_laws_penalty_trigger = yes
					}
					holder_scope = {
						prestige = -500
						set_character_flag = emf_ca_cooldown_@PREV
					}
					emf_laws_increase_authority_opinion_effect = yes
				}
				if = {
					limit = { holder_scope = { ai = yes } }
					if = {
						limit = {
							NOR = {
								has_dlc = "Zeus"
								has_law = revokation_2
							}
						}
						add_law = revokation_2
					}
					if = {
						limit = {
							has_dlc = "Zeus"
							is_primary_holder_title = yes
							NOT = { has_law = ze_revokation_2 }
						}
						add_law = ze_revokation_2
					}
				}
				if = {
					limit = { NOT = { has_law = king_peace_0 } }
					add_law = king_peace_0
				}
				if = {
					limit = { NOT = { has_law = inheritance_0 } }
					add_law = inheritance_0
				}
				holder_scope = { pf_mood_refresh_delayed_effect = yes }
			}
		}
		effect = {
			if = {
				limit = {
					OR = {
						has_law = crown_authority_0
						has_law = crown_authority_1
					}
					emf_laws_penalty_trigger = yes
				}
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_tooltip = {
				revoke_law = crown_authority_0
				revoke_law = crown_authority_1
				revoke_law = crown_authority_2
				revoke_law = crown_authority_3
				revoke_law = crown_authority_4
			}
			if = {
				limit = { NOT = { has_dlc = "Zeus" } }
				custom_tooltip = { text = emf_laws_ctt_enables_revokation_2 }
			}
			if = {
				limit = { has_dlc = "Zeus" }
				custom_tooltip = { text = emf_laws_ctt_enables_ze_revokation_2 }
			}
			custom_tooltip = { text = emf_laws_ctt_enables_succ_seniority }
			custom_tooltip = { text = emf_laws_ctt_enables_dejure_duchy_claim }
			custom_tooltip = { text = emf_laws_ctt_enables_subjugation_duke }
			custom_tooltip = { text = emf_laws_ctt_enables_imperial_kingdom_creation_0 }
		}
		
		city_vassal_min_levy = 0.3
		castle_vassal_min_levy = 0.3
		temple_vassal_min_levy = 0.3
	}
	
	crown_authority_3 = {
		show_as_title = yes
		group = crown_authority
		
		feudal_opinion = -14
		
		potential = {
			holder_scope = {
				is_tribal = no
				is_nomadic = no
			}
			temporary = no
		}
		allow = {
			OR = {
				AND = {
					has_law = crown_authority_2
					holder_scope = { prestige = 1500 }
					holder_scope = { NOT = { trait = uncrowned } }
					custom_tooltip = {
						text = emf_laws_ctt_ca_change_cooldown
						hidden_tooltip = {
							holder_scope = { NOT = { has_character_flag = emf_ca_cooldown_@PREV } }
						}
					}
				}
				has_law = crown_authority_4
			}
			holder_scope = {
				custom_tooltip = {
					text = TT_NOT_UNREFORMED_PAGAN
					hidden_tooltip = {
						OR = {
							NOT = { religion_group = pagan_group }
							is_reformed_religion = yes
						}
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NAND = {
					has_law = crown_authority_2
					ruled_years = 5
				}
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = {
					limit = {
						OR = {
							has_law = crown_authority_0
							has_law = crown_authority_1
							has_law = crown_authority_2
						}
						emf_laws_penalty_trigger = yes
					}
					holder_scope = {
						prestige = -750
						set_character_flag = emf_ca_cooldown_@PREV
					}
					emf_laws_increase_authority_opinion_effect = yes
				}
				if = {
					limit = { holder_scope = { ai = yes } }
					if = {
						limit = {
							NOR = {
								has_dlc = "Zeus"
								has_law = revokation_2
							}
						}
						add_law = revokation_2
					}
					if = {
						limit = {
							has_dlc = "Zeus"
							is_primary_holder_title = yes
							NOT = { has_law = ze_revokation_2 }
						}
						add_law = ze_revokation_2
					}
					if = {
						limit = { NOT = { has_law = inheritance_1 } }
						add_law = inheritance_1
					}
				}
				if = {
					limit = { NOT = { has_law = king_peace_0 } }
					add_law = king_peace_0
				}
				holder_scope = { pf_mood_refresh_delayed_effect = yes }
			}
		}
		effect = {
			if = {
				limit = {
					OR = {
						has_law = crown_authority_0
						has_law = crown_authority_1
						has_law = crown_authority_2
					}
					emf_laws_penalty_trigger = yes
				}
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_tooltip = {
				revoke_law = crown_authority_0
				revoke_law = crown_authority_1
				revoke_law = crown_authority_2
				revoke_law = crown_authority_3
				revoke_law = crown_authority_4
			}
			custom_tooltip = { text = emf_laws_ctt_enables_inheritance_1 }
			custom_tooltip = { text = emf_laws_ctt_enables_succ_primogeniture }
			custom_tooltip = { text = emf_laws_ctt_enables_succ_ultimogeniture }
			custom_tooltip = { text = emf_laws_ctt_prevents_internal_military_plots }
			custom_tooltip = { text = emf_laws_ctt_enables_subjugation_king }
			custom_tooltip = { text = emf_laws_ctt_enables_imperial_kingdom_creation_1 }
		}
		
		city_vassal_min_levy = 0.45
		castle_vassal_min_levy = 0.45
		temple_vassal_min_levy = 0.45
		
		demesne_size = 1
	}
	
	crown_authority_4 = {
		show_as_title = yes
		group = crown_authority
		
		feudal_opinion = -20
		
		potential = {
			holder_scope = {
				is_tribal = no
				is_nomadic = no
			}
			temporary = no
		}
		allow = {
			has_law = crown_authority_3
			holder_scope = {
				prestige = 2000
				NOT = { trait = uncrowned }
				custom_tooltip = {
					text = TT_NOT_UNREFORMED_PAGAN
					hidden_tooltip = {
						OR = {
							NOT = { religion_group = pagan_group }
							is_reformed_religion = yes
						}
					}
				}
			}
			custom_tooltip = {
				text = emf_laws_ctt_ca_change_cooldown
				hidden_tooltip = {
					holder_scope = { NOT = { has_character_flag = emf_ca_cooldown_@PREV } }
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NAND = {
					has_law = crown_authority_3
					ruled_years = 10
				}
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = {
					limit = {
						OR = {
							has_law = crown_authority_0
							has_law = crown_authority_1
							has_law = crown_authority_2
							has_law = crown_authority_3
						}
						emf_laws_penalty_trigger = yes
					}
					holder_scope = {
						prestige = -1000
						set_character_flag = emf_ca_cooldown_@PREV
					}
					emf_laws_increase_authority_opinion_effect = yes
				}
				if = {
					limit = { holder_scope = { ai = yes } }
					if = {
						limit = {
							NOR = {
								has_dlc = "Zeus"
								has_law = revokation_2
							}
						}
						add_law = revokation_2
					}
					if = {
						limit = {
							has_dlc = "Zeus"
							is_primary_holder_title = yes
							NOT = { has_law = ze_revokation_2 }
						}
						add_law = ze_revokation_2
					}
					if = {
						limit = {
							NOR = {
								has_law = king_peace_1
								has_law = king_peace_2
							}
						}
						add_law = king_peace_1
					}
					if = {
						limit = { NOT = { has_law = inheritance_1 } }
						add_law = inheritance_1
					}
				}
				holder_scope = { pf_mood_refresh_delayed_effect = yes }
			}
		}
		effect = {
			if = {
				limit = {
					OR = {
						has_law = crown_authority_0
						has_law = crown_authority_1
						has_law = crown_authority_2
						has_law = crown_authority_3
					}
					emf_laws_penalty_trigger = yes
				}
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_tooltip = {
				revoke_law = crown_authority_0
				revoke_law = crown_authority_1
				revoke_law = crown_authority_2
				revoke_law = crown_authority_3
				revoke_law = crown_authority_4
			}
			custom_tooltip = { text = emf_laws_ctt_enables_king_peace_1 }
			custom_tooltip = { text = emf_laws_ctt_enables_king_peace_2 }
			custom_tooltip = { text = emf_laws_ctt_enables_administration_2 }
			custom_tooltip = { text = emf_laws_ctt_enables_dejure_kingdom_claim }
			custom_tooltip = { text = emf_laws_ctt_enables_imperial_kingdom_creation_2 }
		}
		
		city_vassal_min_levy = 0.6
		castle_vassal_min_levy = 0.6
		temple_vassal_min_levy = 0.6
		
		demesne_size = 3
	}

	# TITLE REVOCATION (CROWN LAW VERSION FOR NON-ZEUS)
	##################################

	revokation_0 = {
		show_as_title = yes
		group = revokation
		default = yes
		
		feudal_opinion = 5
		city_opinion = 5
		temple_opinion = 5
		tribal_opinion = 5
		
		potential = {
			NOT = { has_dlc = "Zeus" }
			holder_scope = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
		}
		allow = {
			has_law = revokation_1
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = revokation_0
				revoke_law = revokation_1
				revoke_law = revokation_2
			}
			set_allow_title_revokation = no
			set_allow_free_infidel_revokation = no
		}
	}
	
	revokation_1 = {
		show_as_title = yes
		group = revokation
		
		potential = {
			NOT = { has_dlc = "Zeus" }
			holder_scope = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
		}
		allow = {
			OR = {
				AND = {
					has_law = revokation_0
					emf_laws_has_limited_ca_plus = yes
				}
				has_law = revokation_2
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				NOT = { has_law = revokation_0 }
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			if = {
				limit = {
					has_law = revokation_0
					holder_scope = { ai = no }
					emf_laws_penalty_trigger = yes
				}
				emf_laws_increase_authority_opinion_effect = yes
			}
		}
		effect = {
			if = {
				limit = { has_law = revokation_0 }
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_tooltip = {
				revoke_law = revokation_0
				revoke_law = revokation_1
				revoke_law = revokation_2
			}
			set_allow_title_revokation = yes
			set_allow_free_infidel_revokation = no
		}
	}
	
	revokation_2 = {
		show_as_title = yes
		group = revokation
		
		feudal_opinion = -5
		city_opinion = -5
		temple_opinion = -5
		tribal_opinion = -5
		
		potential = {
			NOT = { has_dlc = "Zeus" }
			holder_scope = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
		}
		allow = {
			emf_laws_has_medium_ca_plus = yes
			has_law = revokation_1
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				NOT = { has_law = revokation_1 }
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			if = {
				limit = {
					OR = {
						has_law = revokation_0
						has_law = revokation_1
					}
					holder_scope = { ai = no }
					emf_laws_penalty_trigger = yes
				}
				emf_laws_increase_authority_opinion_effect = yes
			}
		}
		effect = {
			if = {
				limit = {
					OR = {
						has_law = revokation_0
						has_law = revokation_1
					}
				}
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_tooltip = {
				revoke_law = revokation_0
				revoke_law = revokation_1
				revoke_law = revokation_2
			}
			set_allow_title_revokation = yes
			set_allow_free_infidel_revokation = yes
		}
	}
	
	# KING'S PEACE
	##################################

	king_peace_0 = {
		show_as_title = yes
		group = king_peace
		default = yes
		
		potential = {
			holder_scope = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
			temporary = no
		}
		allow = {
			has_law = king_peace_1
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = king_peace_0
				revoke_law = king_peace_1
				revoke_law = king_peace_2
			}
			set_the_kings_peace = no
			set_the_kings_full_peace = no
		}
	}
	
	king_peace_1 = {
		show_as_title = yes
		group = king_peace
		
		feudal_opinion = -5
		
		potential = {
			holder_scope = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
			temporary = no
		}
		allow = {
			OR = {
				AND = {
					has_law = crown_authority_4
					has_law = king_peace_0
				}
				has_law = king_peace_2
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				NOT = { has_law = king_peace_0 }
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = {
					limit = {
						has_law = king_peace_0
						holder_scope = { ai = no }
						emf_laws_penalty_trigger = yes
					}
					emf_laws_increase_authority_opinion_effect = yes
				}
			}
		}
		effect = {
			if = {
				limit = { has_law = king_peace_0 }
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_tooltip = {
				revoke_law = king_peace_0
				revoke_law = king_peace_1
				revoke_law = king_peace_2
			}
			set_the_kings_peace = yes
			set_the_kings_full_peace = no
		}
	}
	
	king_peace_2 = {
		show_as_title = yes
		group = king_peace
		
		feudal_opinion = -10
		
		potential = {
			holder_scope = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
			temporary = no
		}
		allow = {
			has_law = crown_authority_4
			has_law = king_peace_1
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = {
					limit = {
						OR = {
							has_law = king_peace_0
							has_law = king_peace_1
						}
						holder_scope = { ai = no }
						emf_laws_penalty_trigger = yes
					}
					emf_laws_increase_authority_opinion_effect = yes
				}
			}
		}
		effect = {
			if = {
				limit = {
					OR = {
						has_law = king_peace_0
						has_law = king_peace_1
					}
				}
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_tooltip = {
				revoke_law = king_peace_0
				revoke_law = king_peace_1
				revoke_law = king_peace_2
			}
			set_the_kings_peace = yes
			set_the_kings_full_peace = yes
		}
	}
	
	#### PROTECTED INHERITANCE ####
	###############################
	
	inheritance_0 = {
		show_as_title = yes
		group = inheritance
		default = yes
		
		potential = {
			holder_scope = {
				is_tribal = no
				is_nomadic = no
			}
			temporary = no
		}
		allow = {
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = inheritance_0
				revoke_law = inheritance_1
			}
			set_protected_inheritance = no
		}
	}
	
	inheritance_1 = {
		show_as_title = yes
		group = inheritance
		
		feudal_opinion = -2
		
		potential = {
			holder_scope = {
				is_tribal = no
				is_nomadic = no
			}
			temporary = no
		}
		allow = {
			emf_laws_has_high_ca_plus = yes
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { has_law = inheritance_0 }
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = {
					limit = {
						has_law = inheritance_0
						holder_scope = { ai = no }
						emf_laws_penalty_trigger = yes
					}
					emf_laws_increase_authority_opinion_effect = yes
				}
			}
		}
		effect = {
			if = {
				limit = { has_law = inheritance_0 }
				custom_tooltip = { text = emf_laws_ctt_opinion_increase_authority }
			}
			hidden_tooltip = {
				revoke_law = inheritance_0
				revoke_law = inheritance_1
			}
			set_protected_inheritance = yes
		}
	}

	# INVESTITURE LAW
	##################################

	investiture_law_0 = {
		show_as_title = yes
		group = investiture_law
		default = yes
		
		default_selection = {
			factor = 1
		}
		
		potential = {
			holder_scope = {
				is_tribal = no
				is_nomadic = no
				religion_head = {
					primary_title = {
						OR = {
							title = k_papal_state
							title = d_fraticelli
							title = d_cathar
							title = d_bogomilist
							title = d_manichean
						}
					}
				}
			}
			temporary = no
		}
		allow = {
			custom_tooltip = {
				text = emf_laws_ctt_investiture_change_cooldown
				hidden_tooltip = {
					holder_scope = { NOT = { has_character_flag = emf_inv_cooldown_@PREV } }
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
			modifier = { # Just adding this so I don't forget when I add a real ai_will_do for investiture=head
				factor = 0
				NOT = { year = 1000 }
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = {
					limit = { emf_laws_penalty_trigger = yes }
					holder_scope = {
						set_character_flag = emf_inv_cooldown_@PREV
					}
				}
				if = {
					limit = {
						holder_scope = {
							NOT = { has_character_flag = emf_forced_investiture_head_tmp }
						}
						emf_laws_penalty_trigger = yes
					}
					emf_laws_investiture_law_0_pass_effect = yes
				}
			}
		}
		effect = {
			if = {
				limit = { NOT = { has_law = investiture_law_0 } }
				tooltip = {
					emf_laws_investiture_law_0_pass_effect = yes
				}
			}
			hidden_tooltip = {
				revoke_law = investiture_law_0
				revoke_law = investiture_law_1
			}
			set_investiture = head
		}
	}
	
	investiture_law_1 = {
		show_as_title = yes
		rel_head_opinion = -30
		free_invest_vassal_opinion = 5 # vassals with bishops will appreciate this law
		temple_all_opinion = 20 # Bishops will be grateful to their liege for their appointment
		group = investiture_law
		
		default_selection = {
			factor = 0
			additive_modifier = {
				value = 10
				NOT = { year = 1000 }
			}
		}
		
		potential = {
			holder_scope = {
				is_tribal = no
				is_nomadic = no
				religion_head = {
					primary_title = {
						OR = {
							title = k_papal_state
							title = d_fraticelli
							title = d_cathar
							title = d_bogomilist
							title = d_manichean
						}
					}
				}
			}
			temporary = no
		}
		allow = {
			custom_tooltip = {
				text = emf_laws_ctt_investiture_change_cooldown
				hidden_tooltip = {
					holder_scope = { NOT = { has_character_flag = emf_inv_cooldown_@PREV } }
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.005 # Rare to do this
			}
			modifier = {
				factor = 0
				NOT = { has_law = investiture_law_0 }
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = {
					limit = { emf_laws_penalty_trigger = yes }
					holder_scope = {
						set_character_flag = emf_inv_cooldown_@PREV
					}
				}
				if = {
					limit = {
						holder_scope = {
							NOT = { has_character_flag = emf_forced_investiture_any_tmp }
						}
						emf_laws_penalty_trigger = yes
					}
					emf_laws_investiture_law_1_pass_effect = yes
				}
			}
		}
		effect = {
			if = {
				limit = { NOT = { has_law = investiture_law_1 } }
				tooltip = {
					emf_laws_investiture_law_1_pass_effect = yes
				}
			}
			hidden_tooltip = {
				revoke_law = investiture_law_0
				revoke_law = investiture_law_1
			}
			set_investiture = any
		}
	}
	
	# [IMPERIAL] DE JURE VASSAL KINGDOM CREATION
	############################################

	imperial_kingdom_creation_0 = {
		show_as_title = yes
		group = imperial_kingdom_creation
		default = yes
		
		potential = {
			tier = EMPEROR
			holder_scope = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
			temporary = no
		}
		allow = {
			emf_laws_has_medium_ca_plus = yes
			custom_tooltip = {
				text = HOLDER_NEEDS_1500_PRESTIGE_COST
				hidden_tooltip = { holder_scope = { prestige = 1500 } }
			}
			custom_tooltip = {
				text = emf_laws_ctt_ikc_change_cooldown
				hidden_tooltip = {
					holder_scope = {
						NOT = { has_character_flag = emf_ikc_cooldown_@PREV }
					}
				}
			}
			has_law = imperial_kingdom_creation_1
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = {
					limit = { emf_laws_penalty_trigger = yes }
					holder_scope = {
						set_character_flag = emf_ikc_cooldown_@PREV
						prestige = -1500
						any_realm_lord = {
							limit = {
								is_feudal = yes
								holy_order = no
								mercenary = no
								any_realm_title = {
									tier = COUNT
									empire = { title = PREVPREVPREVPREV }
								}
							}
							opinion = { who = LIEGE modifier = opinion_ikc_law_change }
						}
					}
				}
			}
		}
		effect = {
			hidden_tooltip = {
				revoke_law = imperial_kingdom_creation_0
				revoke_law = imperial_kingdom_creation_1
				revoke_law = imperial_kingdom_creation_2
			}
		}
	}
	
	imperial_kingdom_creation_1 = {
		show_as_title = yes
		group = imperial_kingdom_creation
		
		potential = {
			tier = EMPEROR
			holder_scope = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
			temporary = no
		}
		allow = {
			emf_laws_has_high_ca_plus = yes
			custom_tooltip = {
				text = HOLDER_NEEDS_1500_PRESTIGE_COST
				hidden_tooltip = { holder_scope = { prestige = 1500 } }
			}
			custom_tooltip = {
				text = emf_laws_ctt_ikc_change_cooldown
				hidden_tooltip = {
					holder_scope = {
						NOT = { has_character_flag = emf_ikc_cooldown_@PREV }
					}
				}
			}
			OR = {
				has_law = imperial_kingdom_creation_0
				has_law = imperial_kingdom_creation_2
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = {
					limit = { emf_laws_penalty_trigger = yes }
					holder_scope = {
						set_character_flag = emf_ikc_cooldown_@PREV
						prestige = -1500
						any_realm_lord = {
							limit = {
								is_feudal = yes
								holy_order = no
								mercenary = no
								any_realm_title = {
									tier = COUNT
									empire = { title = PREVPREVPREVPREV }
								}
							}
							opinion = { who = LIEGE modifier = opinion_ikc_law_change }
						}
					}
				}
			}
		}
		effect = {
			hidden_tooltip = {
				revoke_law = imperial_kingdom_creation_0
				revoke_law = imperial_kingdom_creation_1
				revoke_law = imperial_kingdom_creation_2
			}
		}
		
		vassal_limit = -5
	}
	
	imperial_kingdom_creation_2 = {
		show_as_title = yes
		group = imperial_kingdom_creation
		
		potential = {
			tier = EMPEROR
			holder_scope = {
				NOR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
			temporary = no
		}
		allow = {
			has_law = crown_authority_4
			custom_tooltip = {
				text = HOLDER_NEEDS_1500_PRESTIGE_COST
				hidden_tooltip = { holder_scope = { prestige = 1500 } }
			}
			custom_tooltip = {
				text = emf_laws_ctt_ikc_change_cooldown
				hidden_tooltip = {
					holder_scope = {
						NOT = { has_character_flag = emf_ikc_cooldown_@PREV }
					}
				}
			}
			has_law = imperial_kingdom_creation_1
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = {
					limit = { emf_laws_penalty_trigger = yes }
					holder_scope = {
						set_character_flag = emf_ikc_cooldown_@PREV
						prestige = -1500
						any_realm_lord = {
							limit = {
								is_feudal = yes
								holy_order = no
								mercenary = no
								any_realm_title = {
									tier = COUNT
									empire = { title = PREVPREVPREVPREV }
								}
							}
							opinion = { who = LIEGE modifier = opinion_ikc_law_change }
						}
					}
				}
			}
		}
		effect = {
			hidden_tooltip = {
				revoke_law = imperial_kingdom_creation_0
				revoke_law = imperial_kingdom_creation_1
				revoke_law = imperial_kingdom_creation_2
			}
		}
		
		vassal_limit = -5
		feudal_opinion = -5
	}
}

