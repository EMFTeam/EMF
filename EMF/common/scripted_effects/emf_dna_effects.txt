# -*- ck2.scripted_effects -*-

## Intelligence ##

emf_dna_set_flags_for_genius = {
	random_list = {
		24 = {
			set_flag = i_AA
			set_flag = i_BB
			set_flag = i_CC
		}
		12 = {
			set_flag = i_AA
			set_flag = i_BB
			set_flag = i_Cc
		}
		12 = {
			set_flag = i_AA
			set_flag = i_Bb
			set_flag = i_CC
		}
		12 = {
			set_flag = i_Aa
			set_flag = i_BB
			set_flag = i_CC
		}
	}
}

emf_dna_set_flags_for_quick = {
	random_list = {
		1 = {
			set_flag = i_AA
		}
		1 = {
			set_flag = i_Aa
		}
	}
	random_list = {
		1 = {
			set_flag = i_BB
		}
		1 = {
			set_flag = i_Bb
		}
	}
	random_list = {
		1 = {
			set_flag = i_CC
		}
		1 = {
			set_flag = i_Cc
		}
	}
}

emf_dna_set_flags_for_bright = {
	random_list = {
		3 = {
			set_flag = i_AA
		}
		5 = {
			set_flag = i_Aa
		}
	}
	random_list = {
		3 = {
			set_flag = i_BB
		}
		5 = {
			set_flag = i_Bb
		}
	}
	random_list = {
		3 = {
			set_flag = i_CC
		}
		5 = {
			set_flag = i_Cc
		}
	}
}

emf_dna_set_flags_for_average_intelligence = {
	random_list = {
		1 = {
			set_flag = i_AA
		}
		4 = {
			set_flag = i_Aa
		}
		1 = {
			set_flag = i_aa
		}
	}
	random_list = {
		1 = {
			set_flag = i_BB
		}
		4 = {
			set_flag = i_Bb
		}
		1 = {
			set_flag = i_bb
		}
	}
	random_list = {
		1 = {
			set_flag = i_CC
		}
		4 = {
			set_flag = i_Cc
		}
		1 = {
			set_flag = i_cc
		}
	}
}

emf_dna_set_flags_for_dim = {
	random_list = {
		3 = {
			set_flag = i_aa
		}
		5 = {
			set_flag = i_Aa
		}
	}
	random_list = {
		3 = {
			set_flag = i_bb
		}
		5 = {
			set_flag = i_Bb
		}
	}
	random_list = {
		3 = {
			set_flag = i_cc
		}
		5 = {
			set_flag = i_Cc
		}
	}
}

emf_dna_set_flags_for_slow = {
	random_list = {
		1 = {
			set_flag = i_Aa
		}
		1 = {
			set_flag = i_aa
		}
	}
	random_list = {
		1 = {
			set_flag = i_Bb
		}
		1 = {
			set_flag = i_bb
		}
	}
	random_list = {
		1 = {
			set_flag = i_Cc
		}
		1 = {
			set_flag = i_cc
		}
	}
}

emf_dna_set_flags_for_imbecile = {
	random_list = {
		1 = {
			set_flag = i_Aa
		}
		2 = {
			set_flag = i_aa
		}
	}
	random_list = {
		1 = {
			set_flag = i_Bb
		}
		2 = {
			set_flag = i_bb
		}
	}
	random_list = {
		1 = {
			set_flag = i_Cc
		}
		2 = {
			set_flag = i_cc
		}
	}
}

## Attractiveness ##

emf_dna_set_flags_for_fair = {
	random_list = {
		1 = {
			set_flag = a_AA
		}
		1 = {
			set_flag = a_Aa
		}
	}
	random_list = {
		1 = {
			set_flag = a_BB
		}
		1 = {
			set_flag = a_Bb
		}
	}
	random_list = {
		1 = {
			set_flag = a_CC
		}
		1 = {
			set_flag = a_Cc
		}
	}
}

emf_dna_set_flags_for_comely = {
	random_list = {
		3 = {
			set_flag = a_AA
		}
		5 = {
			set_flag = a_Aa
		}
	}
	random_list = {
		3 = {
			set_flag = a_BB
		}
		5 = {
			set_flag = a_Bb
		}
	}
	random_list = {
		3 = {
			set_flag = a_CC
		}
		5 = {
			set_flag = a_Cc
		}
	}
}

emf_dna_set_flags_for_average_attractiveness = {
	random_list = {
		1 = {
			set_flag = a_AA
		}
		4 = {
			set_flag = a_Aa
		}
		1 = {
			set_flag = a_aa
		}
	}
	random_list = {
		1 = {
			set_flag = a_BB
		}
		4 = {
			set_flag = a_Bb
		}
		1 = {
			set_flag = a_bb
		}
	}
	random_list = {
		1 = {
			set_flag = a_CC
		}
		4 = {
			set_flag = a_Cc
		}
		1 = {
			set_flag = a_cc
		}
	}
}

emf_dna_set_flags_for_homely = {
	random_list = {
		2 = {
			set_flag = a_aa
		}
		5 = {
			set_flag = a_Aa
		}
	}
	random_list = {
		2 = {
			set_flag = a_bb
		}
		5 = {
			set_flag = a_Bb
		}
	}
	random_list = {
		2 = {
			set_flag = a_cc
		}
		5 = {
			set_flag = a_Cc
		}
	}
}

emf_dna_set_flags_for_ugly = {
	random_list = {
		1 = {
			set_flag = a_Aa
		}
		1 = {
			set_flag = a_aa
		}
	}
	random_list = {
		1 = {
			set_flag = a_Bb
		}
		1 = {
			set_flag = a_bb
		}
	}
	random_list = {
		1 = {
			set_flag = a_Cc
		}
		1 = {
			set_flag = a_cc
		}
	}
}

## Strength ##

emf_dna_set_flags_for_strong = {
	random_list = {
		1 = {
			set_flag = st_AA
		}
		1 = {
			set_flag = st_Aa
		}
	}
	random_list = {
		1 = {
			set_flag = st_BB
		}
		1 = {
			set_flag = st_Bb
		}
	}
	random_list = {
		1 = {
			set_flag = st_CC
		}
		1 = {
			set_flag = st_Cc
		}
	}
}

emf_dna_set_flags_for_burly = {
	random_list = {
		3 = {
			set_flag = st_AA
		}
		5 = {
			set_flag = st_Aa
		}
	}
	random_list = {
		3 = {
			set_flag = st_BB
		}
		5 = {
			set_flag = st_Bb
		}
	}
	random_list = {
		3 = {
			set_flag = st_CC
		}
		5 = {
			set_flag = st_Cc
		}
	}
}

emf_dna_set_flags_for_average_strength = {
	random_list = {
		1 = {
			set_flag = st_AA
		}
		4 = {
			set_flag = st_Aa
		}
		1 = {
			set_flag = st_aa
		}
	}
	random_list = {
		1 = {
			set_flag = st_BB
		}
		4 = {
			set_flag = st_Bb
		}
		1 = {
			set_flag = st_bb
		}
	}
	random_list = {
		1 = {
			set_flag = st_CC
		}
		4 = {
			set_flag = st_Cc
		}
		1 = {
			set_flag = st_cc
		}
	}
}

emf_dna_set_flags_for_delicate = {
	random_list = {
		2 = {
			set_flag = st_aa
		}
		5 = {
			set_flag = st_Aa
		}
	}
	random_list = {
		2 = {
			set_flag = st_bb
		}
		5 = {
			set_flag = st_Bb
		}
	}
	random_list = {
		2 = {
			set_flag = st_cc
		}
		5 = {
			set_flag = st_Cc
		}
	}
}

emf_dna_set_flags_for_weak = {
	random_list = {
		1 = {
			set_flag = st_Aa
		}
		1 = {
			set_flag = st_aa
		}
	}
	random_list = {
		1 = {
			set_flag = st_Bb
		}
		1 = {
			set_flag = st_bb
		}
	}
	random_list = {
		1 = {
			set_flag = st_Cc
		}
		1 = {
			set_flag = st_cc
		}
	}
}

## Height ##

emf_dna_set_flags_for_giant = {
	random_list = {
		1 = {
			set_flag = ht_AA
		}
		1 = {
			set_flag = ht_Aa
		}
	}
	random_list = {
		1 = {
			set_flag = ht_BB
		}
		1 = {
			set_flag = ht_Bb
		}
	}
	random_list = {
		1 = {
			set_flag = ht_CC
		}
		1 = {
			set_flag = ht_Cc
		}
	}
}

emf_dna_set_flags_for_tall = {
	random_list = {
		3 = {
			set_flag = ht_AA
		}
		5 = {
			set_flag = ht_Aa
		}
	}
	random_list = {
		3 = {
			set_flag = ht_BB
		}
		5 = {
			set_flag = ht_Bb
		}
	}
	random_list = {
		3 = {
			set_flag = ht_CC
		}
		5 = {
			set_flag = ht_Cc
		}
	}
}

emf_dna_set_flags_for_average_height = {
	random_list = {
		1 = {
			set_flag = ht_AA
		}
		4 = {
			set_flag = ht_Aa
		}
		1 = {
			set_flag = ht_aa
		}
	}
	random_list = {
		1 = {
			set_flag = ht_BB
		}
		4 = {
			set_flag = ht_Bb
		}
		1 = {
			set_flag = ht_bb
		}
	}
	random_list = {
		1 = {
			set_flag = ht_CC
		}
		4 = {
			set_flag = ht_Cc
		}
		1 = {
			set_flag = ht_cc
		}
	}
}

emf_dna_set_flags_for_short = {
	random_list = {
		3 = {
			set_flag = ht_aa
		}
		5 = {
			set_flag = ht_Aa
		}
	}
	random_list = {
		3 = {
			set_flag = ht_bb
		}
		5 = {
			set_flag = ht_Bb
		}
	}
	random_list = {
		3 = {
			set_flag = ht_cc
		}
		5 = {
			set_flag = ht_Cc
		}
	}
}

emf_dna_set_flags_for_tiny = {
	random_list = {
		1 = {
			set_flag = ht_Aa
		}
		1 = {
			set_flag = ht_aa
		}
	}
	random_list = {
		1 = {
			set_flag = ht_Bb
		}
		1 = {
			set_flag = ht_bb
		}
	}
	random_list = {
		1 = {
			set_flag = ht_Cc
		}
		1 = {
			set_flag = ht_cc
		}
	}
}

## Perceptiveness ##

emf_dna_set_flags_for_perceptive = {
	random_list = {
		1 = {
			set_flag = p_AA
		}
		1 = {
			set_flag = p_Aa
		}
	}
	random_list = {
		1 = {
			set_flag = p_BB
		}
		1 = {
			set_flag = p_Bb
		}
	}
	random_list = {
		1 = {
			set_flag = p_CC
		}
		1 = {
			set_flag = p_Cc
		}
	}
}

emf_dna_set_flags_for_average_perceptiveness = {
	random_list = {
		1 = {
			set_flag = p_AA
		}
		4 = {
			set_flag = p_Aa
		}
		1 = {
			set_flag = p_aa
		}
	}
	random_list = {
		1 = {
			set_flag = p_BB
		}
		4 = {
			set_flag = p_Bb
		}
		1 = {
			set_flag = p_bb
		}
	}
	random_list = {
		1 = {
			set_flag = p_CC
		}
		4 = {
			set_flag = p_Cc
		}
		1 = {
			set_flag = p_cc
		}
	}
}

emf_dna_set_flags_for_absentminded = {
	random_list = {
		1 = {
			set_flag = p_Aa
		}
		1 = {
			set_flag = p_aa
		}
	}
	random_list = {
		1 = {
			set_flag = p_Bb
		}
		1 = {
			set_flag = p_bb
		}
	}
	random_list = {
		1 = {
			set_flag = p_Cc
		}
		1 = {
			set_flag = p_cc
		}
	}
}

## Health ##

emf_dna_set_flags_for_average_health = {
	random_list = {
		1 = {
			set_flag = hl_AA
		}
		4 = {
			set_flag = hl_Aa
		}
		1 = {
			set_flag = hl_aa
		}
	}
	random_list = {
		1 = {
			set_flag = hl_BB
		}
		4 = {
			set_flag = hl_Bb
		}
		1 = {
			set_flag = hl_bb
		}
	}
	random_list = {
		1 = {
			set_flag = hl_CC
		}
		4 = {
			set_flag = hl_Cc
		}
		1 = {
			set_flag = hl_cc
		}
	}
}

emf_dna_apply_effects_health = {
	## Count alleles
	set_variable = { which = local_alleles value = 0 }
	if = {
		limit = { has_flag = hl_AA }
		change_variable = { which = local_alleles value = 2 }
	}
	else_if = {
		limit = { has_flag = hl_Aa }
		change_variable = { which = local_alleles value = 1 }
	}
	else_if = {
		limit = { has_flag = hl_aa }
		change_variable = { which = local_alleles value = 0 }
	}
	if = {
		limit = { has_flag = hl_BB }
		change_variable = { which = local_alleles value = 2 }
	}
	else_if = {
		limit = { has_flag = hl_Bb }
		change_variable = { which = local_alleles value = 1 }
	}
	else_if = {
		limit = { has_flag = hl_bb }
		change_variable = { which = local_alleles value = 0 }
	}
	if = {
		limit = { has_flag = hl_CC }
		change_variable = { which = local_alleles value = 2 }
	}
	else_if = {
		limit = { has_flag = hl_Cc }
		change_variable = { which = local_alleles value = 1 }
	}
	else_if = {
		limit = { has_flag = hl_cc }
		change_variable = { which = local_alleles value = 0 }
	}
	
	## Trait Assignment ##
	if = {
		limit = {
			check_variable = { which = local_alleles value = 6 }
		}
		random_list = {
			2 = {
				health = 1.2
			}
			2 = {
				health = 0.8
			}
			2 = {
				health = 0.4
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { which = local_alleles value = 5 }
		}
		random_list = {
			2 = {
				health = 0.8
			}
			2 = {
				health = 0.4
			}
			2 = {
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { which = local_alleles value = 4 }
		}
		random_list = {
			2 = {
				health = 0.4
			}
			4 = {
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { which = local_alleles value = 3 }
		}
	}
	else_if = {
		limit = {
			check_variable = { which = local_alleles value = 2 }
		}
		random_list = {
			2 = {
				health = -0.4
			}
			4 = {
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { which = local_alleles value = 1 }
		}
		random_list = {
			2 = {
				health = -0.8
			}
			2 = {
				health = -0.4
			}
			2 = {
			}
		}
	}
	else_if = {
		limit = {
			is_variable_equal = { which = local_alleles value = 0 }
		}
		random_list = {
			2 = {
				health = -1.2
			}
			2 = {
				health = -0.8
			}
			2 = {
				health = -0.4
			}
		}
	}
}

## Misc. Effects ##

emf_dna_copy_genetics_prev = {
	# Copy alleles
	if = {
		limit = { PREV = { has_flag = i_AA } }
		set_flag = i_AA
	}
	if = {
		limit = { PREV = { has_flag = i_Aa } }
		set_flag = i_Aa
	}
	if = {
		limit = { PREV = { has_flag = i_aa } }
		set_flag = i_aa
	}
	if = {
		limit = { PREV = { has_flag = i_BB } }
		set_flag = i_BB
	}
	if = {
		limit = { PREV = { has_flag = i_Bb } }
		set_flag = i_Bb
	}
	if = {
		limit = { PREV = { has_flag = i_bb } }
		set_flag = i_bb
	}
	if = {
		limit = { PREV = { has_flag = i_CC } }
		set_flag = i_CC
	}
	if = {
		limit = { PREV = { has_flag = i_Cc } }
		set_flag = i_Cc
	}
	if = {
		limit = { PREV = { has_flag = i_cc } }
		set_flag = i_cc
	}
	if = {
		limit = { PREV = { has_flag = a_AA } }
		set_flag = a_AA
	}
	if = {
		limit = { PREV = { has_flag = a_Aa } }
		set_flag = a_Aa
	}
	if = {
		limit = { PREV = { has_flag = a_aa } }
		set_flag = a_aa
	}
	if = {
		limit = { PREV = { has_flag = a_BB } }
		set_flag = a_BB
	}
	if = {
		limit = { PREV = { has_flag = a_Bb } }
		set_flag = a_Bb
	}
	if = {
		limit = { PREV = { has_flag = a_bb } }
		set_flag = a_bb
	}
	if = {
		limit = { PREV = { has_flag = a_CC } }
		set_flag = a_CC
	}
	if = {
		limit = { PREV = { has_flag = a_Cc } }
		set_flag = a_Cc
	}
	if = {
		limit = { PREV = { has_flag = a_cc } }
		set_flag = a_cc
	}
	if = {
		limit = { PREV = { has_flag = st_AA } }
		set_flag = st_AA
	}
	if = {
		limit = { PREV = { has_flag = st_Aa } }
		set_flag = st_Aa
	}
	if = {
		limit = { PREV = { has_flag = st_aa } }
		set_flag = st_aa
	}
	if = {
		limit = { PREV = { has_flag = st_BB } }
		set_flag = st_BB
	}
	if = {
		limit = { PREV = { has_flag = st_Bb } }
		set_flag = st_Bb
	}
	if = {
		limit = { PREV = { has_flag = st_bb } }
		set_flag = st_bb
	}
	if = {
		limit = { PREV = { has_flag = st_CC } }
		set_flag = st_CC
	}
	if = {
		limit = { PREV = { has_flag = st_Cc } }
		set_flag = st_Cc
	}
	if = {
		limit = { PREV = { has_flag = st_cc } }
		set_flag = st_cc
	}
	if = {
		limit = { PREV = { has_flag = ht_AA } }
		set_flag = ht_AA
	}
	if = {
		limit = { PREV = { has_flag = ht_Aa } }
		set_flag = ht_Aa
	}
	if = {
		limit = { PREV = { has_flag = ht_aa } }
		set_flag = ht_aa
	}
	if = {
		limit = { PREV = { has_flag = ht_BB } }
		set_flag = ht_BB
	}
	if = {
		limit = { PREV = { has_flag = ht_Bb } }
		set_flag = ht_Bb
	}
	if = {
		limit = { PREV = { has_flag = ht_bb } }
		set_flag = ht_bb
	}
	if = {
		limit = { PREV = { has_flag = ht_CC } }
		set_flag = ht_CC
	}
	if = {
		limit = { PREV = { has_flag = ht_Cc } }
		set_flag = ht_Cc
	}
	if = {
		limit = { PREV = { has_flag = ht_cc } }
		set_flag = ht_cc
	}
	if = {
		limit = { PREV = { has_flag = dw_AA } }
		set_flag = dw_AA
	}
	if = {
		limit = { PREV = { has_flag = dw_Aa } }
		set_flag = dw_Aa
	}
	if = {
		limit = { PREV = { has_flag = dw_aa } }
		set_flag = dw_aa
	}
	if = {
		limit = { PREV = { has_flag = dw_BB } }
		set_flag = dw_BB
	}
	if = {
		limit = { PREV = { has_flag = dw_Bb } }
		set_flag = dw_Bb
	}
	if = {
		limit = { PREV = { has_flag = dw_bb } }
		set_flag = dw_bb
	}
	if = {
		limit = { PREV = { has_flag = dw_CC } }
		set_flag = dw_CC
	}
	if = {
		limit = { PREV = { has_flag = dw_Cc } }
		set_flag = dw_Cc
	}
	if = {
		limit = { PREV = { has_flag = dw_cc } }
		set_flag = dw_cc
	}
	if = {
		limit = { PREV = { has_flag = c_AA } }
		set_flag = c_AA
	}
	if = {
		limit = { PREV = { has_flag = c_Aa } }
		set_flag = c_Aa
	}
	if = {
		limit = { PREV = { has_flag = c_aa } }
		set_flag = c_aa
	}
	if = {
		limit = { PREV = { has_flag = c_BB } }
		set_flag = c_BB
	}
	if = {
		limit = { PREV = { has_flag = c_Bb } }
		set_flag = c_Bb
	}
	if = {
		limit = { PREV = { has_flag = c_bb } }
		set_flag = c_bb
	}
	if = {
		limit = { PREV = { has_flag = c_CC } }
		set_flag = c_CC
	}
	if = {
		limit = { PREV = { has_flag = c_Cc } }
		set_flag = c_Cc
	}
	if = {
		limit = { PREV = { has_flag = c_cc } }
		set_flag = c_cc
	}
	if = {
		limit = { PREV = { has_flag = hu_AA } }
		set_flag = hu_AA
	}
	if = {
		limit = { PREV = { has_flag = hu_Aa } }
		set_flag = hu_Aa
	}
	if = {
		limit = { PREV = { has_flag = hu_aa } }
		set_flag = hu_aa
	}
	if = {
		limit = { PREV = { has_flag = hu_BB } }
		set_flag = hu_BB
	}
	if = {
		limit = { PREV = { has_flag = hu_Bb } }
		set_flag = hu_Bb
	}
	if = {
		limit = { PREV = { has_flag = hu_bb } }
		set_flag = hu_bb
	}
	if = {
		limit = { PREV = { has_flag = hu_CC } }
		set_flag = hu_CC
	}
	if = {
		limit = { PREV = { has_flag = hu_Cc } }
		set_flag = hu_Cc
	}
	if = {
		limit = { PREV = { has_flag = hu_cc } }
		set_flag = hu_cc
	}
	if = {
		limit = { PREV = { has_flag = ha_AA } }
		set_flag = ha_AA
	}
	if = {
		limit = { PREV = { has_flag = ha_Aa } }
		set_flag = ha_Aa
	}
	if = {
		limit = { PREV = { has_flag = ha_aa } }
		set_flag = ha_aa
	}
	if = {
		limit = { PREV = { has_flag = ha_BB } }
		set_flag = ha_BB
	}
	if = {
		limit = { PREV = { has_flag = ha_Bb } }
		set_flag = ha_Bb
	}
	if = {
		limit = { PREV = { has_flag = ha_bb } }
		set_flag = ha_bb
	}
	if = {
		limit = { PREV = { has_flag = ha_CC } }
		set_flag = ha_CC
	}
	if = {
		limit = { PREV = { has_flag = ha_Cc } }
		set_flag = ha_Cc
	}
	if = {
		limit = { PREV = { has_flag = ha_cc } }
		set_flag = ha_cc
	}
	if = {
		limit = { PREV = { has_flag = l_AA } }
		set_flag = l_AA
	}
	if = {
		limit = { PREV = { has_flag = l_Aa } }
		set_flag = l_Aa
	}
	if = {
		limit = { PREV = { has_flag = l_aa } }
		set_flag = l_aa
	}
	if = {
		limit = { PREV = { has_flag = l_BB } }
		set_flag = l_BB
	}
	if = {
		limit = { PREV = { has_flag = l_Bb } }
		set_flag = l_Bb
	}
	if = {
		limit = { PREV = { has_flag = l_bb } }
		set_flag = l_bb
	}
	if = {
		limit = { PREV = { has_flag = l_CC } }
		set_flag = l_CC
	}
	if = {
		limit = { PREV = { has_flag = l_Cc } }
		set_flag = l_Cc
	}
	if = {
		limit = { PREV = { has_flag = l_cc } }
		set_flag = l_cc
	}
	if = {
		limit = { PREV = { has_flag = sr_AA } }
		set_flag = sr_AA
	}
	if = {
		limit = { PREV = { has_flag = sr_Aa } }
		set_flag = sr_Aa
	}
	if = {
		limit = { PREV = { has_flag = sr_aa } }
		set_flag = sr_aa
	}
	if = {
		limit = { PREV = { has_flag = sr_BB } }
		set_flag = sr_BB
	}
	if = {
		limit = { PREV = { has_flag = sr_Bb } }
		set_flag = sr_Bb
	}
	if = {
		limit = { PREV = { has_flag = sr_bb } }
		set_flag = sr_bb
	}
	if = {
		limit = { PREV = { has_flag = sr_CC } }
		set_flag = sr_CC
	}
	if = {
		limit = { PREV = { has_flag = sr_Cc } }
		set_flag = sr_Cc
	}
	if = {
		limit = { PREV = { has_flag = sr_cc } }
		set_flag = sr_cc
	}
	if = {
		limit = { PREV = { has_flag = de_AA } }
		set_flag = de_AA
	}
	if = {
		limit = { PREV = { has_flag = de_Aa } }
		set_flag = de_Aa
	}
	if = {
		limit = { PREV = { has_flag = de_aa } }
		set_flag = de_aa
	}
	if = {
		limit = { PREV = { has_flag = de_BB } }
		set_flag = de_BB
	}
	if = {
		limit = { PREV = { has_flag = de_Bb } }
		set_flag = de_Bb
	}
	if = {
		limit = { PREV = { has_flag = de_bb } }
		set_flag = de_bb
	}
	if = {
		limit = { PREV = { has_flag = de_CC } }
		set_flag = de_CC
	}
	if = {
		limit = { PREV = { has_flag = de_Cc } }
		set_flag = de_Cc
	}
	if = {
		limit = { PREV = { has_flag = de_cc } }
		set_flag = de_cc
	}
	if = {
		limit = { PREV = { has_flag = w_AA } }
		set_flag = w_AA
	}
	if = {
		limit = { PREV = { has_flag = w_Aa } }
		set_flag = w_Aa
	}
	if = {
		limit = { PREV = { has_flag = w_aa } }
		set_flag = w_aa
	}
	if = {
		limit = { PREV = { has_flag = w_BB } }
		set_flag = w_BB
	}
	if = {
		limit = { PREV = { has_flag = w_Bb } }
		set_flag = w_Bb
	}
	if = {
		limit = { PREV = { has_flag = w_bb } }
		set_flag = w_bb
	}
	if = {
		limit = { PREV = { has_flag = w_CC } }
		set_flag = w_CC
	}
	if = {
		limit = { PREV = { has_flag = w_Cc } }
		set_flag = w_Cc
	}
	if = {
		limit = { PREV = { has_flag = w_cc } }
		set_flag = w_cc
	}
	if = {
		limit = { PREV = { has_flag = p_AA } }
		set_flag = p_AA
	}
	if = {
		limit = { PREV = { has_flag = p_Aa } }
		set_flag = p_Aa
	}
	if = {
		limit = { PREV = { has_flag = p_aa } }
		set_flag = p_aa
	}
	if = {
		limit = { PREV = { has_flag = p_BB } }
		set_flag = p_BB
	}
	if = {
		limit = { PREV = { has_flag = p_Bb } }
		set_flag = p_Bb
	}
	if = {
		limit = { PREV = { has_flag = p_bb } }
		set_flag = p_bb
	}
	if = {
		limit = { PREV = { has_flag = p_CC } }
		set_flag = p_CC
	}
	if = {
		limit = { PREV = { has_flag = p_Cc } }
		set_flag = p_Cc
	}
	if = {
		limit = { PREV = { has_flag = p_cc } }
		set_flag = p_cc
	}
	if = {
		limit = { PREV = { has_flag = hl_AA } }
		set_flag = hl_AA
	}
	if = {
		limit = { PREV = { has_flag = hl_Aa } }
		set_flag = hl_Aa
	}
	if = {
		limit = { PREV = { has_flag = hl_aa } }
		set_flag = hl_aa
	}
	if = {
		limit = { PREV = { has_flag = hl_BB } }
		set_flag = hl_BB
	}
	if = {
		limit = { PREV = { has_flag = hl_Bb } }
		set_flag = hl_Bb
	}
	if = {
		limit = { PREV = { has_flag = hl_bb } }
		set_flag = hl_bb
	}
	if = {
		limit = { PREV = { has_flag = hl_CC } }
		set_flag = hl_CC
	}
	if = {
		limit = { PREV = { has_flag = hl_Cc } }
		set_flag = hl_Cc
	}
	if = {
		limit = { PREV = { has_flag = hl_cc } }
		set_flag = hl_cc
	}
	
	# Copy traits
	if = {
		limit = { PREV = { trait = perceptive } }
		add_trait = perceptive
	}
	if = {
		limit = { PREV = { trait = absentminded } }
		add_trait = absentminded
	}
	if = {
		limit = { PREV = { trait = wrymouth } }
		add_trait = wrymouth
	}
	if = {
		limit = { PREV = { trait = deaf } }
		add_trait = deaf
	}
	if = {
		limit = { PREV = { trait = stutter } }
		add_trait = stutter
	}
	if = {
		limit = { PREV = { trait = lisp } }
		add_trait = lisp
	}
	if = {
		limit = { PREV = { trait = harelip } }
		add_trait = harelip
	}
	if = {
		limit = { PREV = { trait = hunchback } }
		add_trait = hunchback
	}
	if = {
		limit = { PREV = { trait = clubfooted } }
		add_trait = clubfooted
	}
	if = {
		limit = { PREV = { trait = dwarf } }
		add_trait = dwarf
	}
	if = {
		limit = { PREV = { trait = giant } }
		add_trait = giant
	}
	if = {
		limit = { PREV = { trait = tall } }
		add_trait = tall
	}
	if = {
		limit = { PREV = { trait = short } }
		add_trait = short
	}
	if = {
		limit = { PREV = { trait = tiny } }
		add_trait = tiny
	}
	if = {
		limit = { PREV = { trait = strong } }
		add_trait = strong
	}
	if = {
		limit = { PREV = { trait = burly } }
		add_trait = burly
	}
	if = {
		limit = { PREV = { trait = delicate } }
		add_trait = delicate
	}
	if = {
		limit = { PREV = { trait = weak } }
		add_trait = weak
	}
	if = {
		limit = { PREV = { trait = fair } }
		add_trait = fair
	}
	if = {
		limit = { PREV = { trait = comely } }
		add_trait = comely
	}
	if = {
		limit = { PREV = { trait = homely } }
		add_trait = homely
	}
	if = {
		limit = { PREV = { trait = ugly } }
		add_trait = ugly
	}
	if = {
		limit = { PREV = { trait = genius } }
		add_trait = genius
	}
	if = {
		limit = { PREV = { trait = quick } }
		add_trait = quick
	}
	if = {
		limit = { PREV = { trait = bright } }
		add_trait = bright
	}
	if = {
		limit = { PREV = { trait = dim } }
		add_trait = dim
	}
	if = {
		limit = { PREV = { trait = slow } }
		add_trait = slow
	}
	if = {
		limit = { PREV = { trait = imbecile } }
		add_trait = imbecile
	}
	
	# Reconstruct Health bonus from alleles
	emf_dna_apply_effects_health = yes
}
