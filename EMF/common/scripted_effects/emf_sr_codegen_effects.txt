# -*- ck2.scripted_effects -*-

################################################################################
# WARNING: Do NOT modify this file manually!
#
# This file is code-generated and any manual changes will be overwritten.
#
# Generated by src/religion_codegen.py
################################################################################

emf_sr_set_sr_and_clr_religion_char_flag = {
	if = {
		limit = {
			OR = {
				has_flag = character_was_catholic
				AND = {
					religion = catholic
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = catholic
		clr_flag = character_was_catholic
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_cathar
				AND = {
					religion = cathar
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = cathar
		clr_flag = character_was_cathar
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_fraticelli
				AND = {
					religion = fraticelli
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = fraticelli
		clr_flag = character_was_fraticelli
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_waldensian
				AND = {
					religion = waldensian
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = waldensian
		clr_flag = character_was_waldensian
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_lollard
				AND = {
					religion = lollard
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = lollard
		clr_flag = character_was_lollard
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_adoptionist
				AND = {
					religion = adoptionist
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = adoptionist
		clr_flag = character_was_adoptionist
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_arian
				AND = {
					religion = arian
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = arian
		clr_flag = character_was_arian
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_orthodox
				AND = {
					religion = orthodox
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = orthodox
		clr_flag = character_was_orthodox
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_bogomilist
				AND = {
					religion = bogomilist
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = bogomilist
		clr_flag = character_was_bogomilist
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_monothelite
				AND = {
					religion = monothelite
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = monothelite
		clr_flag = character_was_monothelite
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_iconoclast
				AND = {
					religion = iconoclast
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = iconoclast
		clr_flag = character_was_iconoclast
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_syriac
				AND = {
					religion = syriac
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = syriac
		clr_flag = character_was_syriac
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_maronite
				AND = {
					religion = maronite
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = maronite
		clr_flag = character_was_maronite
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_miaphysite
				AND = {
					religion = miaphysite
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = miaphysite
		clr_flag = character_was_miaphysite
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_monophysite
				AND = {
					religion = monophysite
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = monophysite
		clr_flag = character_was_monophysite
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_apostolic
				AND = {
					religion = apostolic
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = apostolic
		clr_flag = character_was_apostolic
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_paulician
				AND = {
					religion = paulician
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = paulician
		clr_flag = character_was_paulician
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_tondrakian
				AND = {
					religion = tondrakian
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = tondrakian
		clr_flag = character_was_tondrakian
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_nestorian
				AND = {
					religion = nestorian
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = nestorian
		clr_flag = character_was_nestorian
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_messalian
				AND = {
					religion = messalian
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = messalian
		clr_flag = character_was_messalian
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_sunni
				AND = {
					religion = sunni
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = sunni
		clr_flag = character_was_sunni
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_zikri
				AND = {
					religion = zikri
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = zikri
		clr_flag = character_was_zikri
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_mahdiyya
				AND = {
					religion = mahdiyya
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = mahdiyya
		clr_flag = character_was_mahdiyya
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_nabawiyya
				AND = {
					religion = nabawiyya
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = nabawiyya
		clr_flag = character_was_nabawiyya
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_ibadi
				AND = {
					religion = ibadi
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = ibadi
		clr_flag = character_was_ibadi
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_kharijite
				AND = {
					religion = kharijite
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = kharijite
		clr_flag = character_was_kharijite
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_haruri
				AND = {
					religion = haruri
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = haruri
		clr_flag = character_was_haruri
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_shiite
				AND = {
					religion = shiite
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = shiite
		clr_flag = character_was_shiite
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_waqifi
				AND = {
					religion = waqifi
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = waqifi
		clr_flag = character_was_waqifi
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_zaydi
				AND = {
					religion = zaydi
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = zaydi
		clr_flag = character_was_zaydi
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_hurufi
				AND = {
					religion = hurufi
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = hurufi
		clr_flag = character_was_hurufi
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_ismaili
				AND = {
					religion = ismaili
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = ismaili
		clr_flag = character_was_ismaili
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_druze
				AND = {
					religion = druze
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = druze
		clr_flag = character_was_druze
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_qarmatian
				AND = {
					religion = qarmatian
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = qarmatian
		clr_flag = character_was_qarmatian
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_norse_pagan_reformed
				AND = {
					religion = norse_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = norse_pagan_reformed
		clr_flag = character_was_norse_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_norse_pagan
				AND = {
					religion = norse_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = norse_pagan
		clr_flag = character_was_norse_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_tengri_pagan_reformed
				AND = {
					religion = tengri_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = tengri_pagan_reformed
		clr_flag = character_was_tengri_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_tengri_pagan
				AND = {
					religion = tengri_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = tengri_pagan
		clr_flag = character_was_tengri_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_baltic_pagan_reformed
				AND = {
					religion = baltic_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = baltic_pagan_reformed
		clr_flag = character_was_baltic_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_baltic_pagan
				AND = {
					religion = baltic_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = baltic_pagan
		clr_flag = character_was_baltic_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_finnish_pagan_reformed
				AND = {
					religion = finnish_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = finnish_pagan_reformed
		clr_flag = character_was_finnish_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_finnish_pagan
				AND = {
					religion = finnish_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = finnish_pagan
		clr_flag = character_was_finnish_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_aztec_reformed
				AND = {
					religion = aztec_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = aztec_reformed
		clr_flag = character_was_aztec_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_aztec
				AND = {
					religion = aztec
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = aztec
		clr_flag = character_was_aztec
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_slavic_pagan_reformed
				AND = {
					religion = slavic_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = slavic_pagan_reformed
		clr_flag = character_was_slavic_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_slavic_pagan
				AND = {
					religion = slavic_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = slavic_pagan
		clr_flag = character_was_slavic_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_west_african_pagan_reformed
				AND = {
					religion = west_african_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = west_african_pagan_reformed
		clr_flag = character_was_west_african_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_west_african_pagan
				AND = {
					religion = west_african_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = west_african_pagan
		clr_flag = character_was_west_african_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_zun_pagan_reformed
				AND = {
					religion = zun_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = zun_pagan_reformed
		clr_flag = character_was_zun_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_zun_pagan
				AND = {
					religion = zun_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = zun_pagan
		clr_flag = character_was_zun_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_hellenic_pagan_reformed
				AND = {
					religion = hellenic_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = hellenic_pagan_reformed
		clr_flag = character_was_hellenic_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_hellenic_pagan
				AND = {
					religion = hellenic_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = hellenic_pagan
		clr_flag = character_was_hellenic_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_bon_reformed
				AND = {
					religion = bon_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = bon_reformed
		clr_flag = character_was_bon_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_bon
				AND = {
					religion = bon
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = bon
		clr_flag = character_was_bon
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_zoroastrian
				AND = {
					religion = zoroastrian
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = zoroastrian
		clr_flag = character_was_zoroastrian
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_mazdaki
				AND = {
					religion = mazdaki
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = mazdaki
		clr_flag = character_was_mazdaki
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_zurvanist
				AND = {
					religion = zurvanist
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = zurvanist
		clr_flag = character_was_zurvanist
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_manichean
				AND = {
					religion = manichean
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = manichean
		clr_flag = character_was_manichean
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_mandaean
				AND = {
					religion = mandaean
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = mandaean
		clr_flag = character_was_mandaean
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_yazidi
				AND = {
					religion = yazidi
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = yazidi
		clr_flag = character_was_yazidi
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_khurmazta
				AND = {
					religion = khurmazta
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = khurmazta
		clr_flag = character_was_khurmazta
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_jewish
				AND = {
					religion = jewish
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = jewish
		clr_flag = character_was_jewish
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_samaritan
				AND = {
					religion = samaritan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = samaritan
		clr_flag = character_was_samaritan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_karaite
				AND = {
					religion = karaite
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = karaite
		clr_flag = character_was_karaite
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_hindu
				AND = {
					religion = hindu
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = hindu
		clr_flag = character_was_hindu
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_buddhist
				AND = {
					religion = buddhist
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = buddhist
		clr_flag = character_was_buddhist
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_jain
				AND = {
					religion = jain
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = jain
		clr_flag = character_was_jain
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_flag = character_was_taoist
				AND = {
					religion = taoist
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = taoist
		clr_flag = character_was_taoist
		break = yes
	}
}

emf_sr_add_religion_char_flag = {
	trigger_switch = {
		on_trigger = religion
		catholic = { set_flag = character_was_catholic }
		cathar = { set_flag = character_was_cathar }
		fraticelli = { set_flag = character_was_fraticelli }
		waldensian = { set_flag = character_was_waldensian }
		lollard = { set_flag = character_was_lollard }
		adoptionist = { set_flag = character_was_adoptionist }
		arian = { set_flag = character_was_arian }
		orthodox = { set_flag = character_was_orthodox }
		bogomilist = { set_flag = character_was_bogomilist }
		monothelite = { set_flag = character_was_monothelite }
		iconoclast = { set_flag = character_was_iconoclast }
		syriac = { set_flag = character_was_syriac }
		maronite = { set_flag = character_was_maronite }
		miaphysite = { set_flag = character_was_miaphysite }
		monophysite = { set_flag = character_was_monophysite }
		apostolic = { set_flag = character_was_apostolic }
		paulician = { set_flag = character_was_paulician }
		tondrakian = { set_flag = character_was_tondrakian }
		nestorian = { set_flag = character_was_nestorian }
		messalian = { set_flag = character_was_messalian }
		sunni = { set_flag = character_was_sunni }
		zikri = { set_flag = character_was_zikri }
		mahdiyya = { set_flag = character_was_mahdiyya }
		nabawiyya = { set_flag = character_was_nabawiyya }
		ibadi = { set_flag = character_was_ibadi }
		kharijite = { set_flag = character_was_kharijite }
		haruri = { set_flag = character_was_haruri }
		shiite = { set_flag = character_was_shiite }
		waqifi = { set_flag = character_was_waqifi }
		zaydi = { set_flag = character_was_zaydi }
		hurufi = { set_flag = character_was_hurufi }
		ismaili = { set_flag = character_was_ismaili }
		druze = { set_flag = character_was_druze }
		qarmatian = { set_flag = character_was_qarmatian }
		norse_pagan_reformed = { set_flag = character_was_norse_pagan_reformed }
		norse_pagan = { set_flag = character_was_norse_pagan }
		tengri_pagan_reformed = { set_flag = character_was_tengri_pagan_reformed }
		tengri_pagan = { set_flag = character_was_tengri_pagan }
		baltic_pagan_reformed = { set_flag = character_was_baltic_pagan_reformed }
		baltic_pagan = { set_flag = character_was_baltic_pagan }
		finnish_pagan_reformed = { set_flag = character_was_finnish_pagan_reformed }
		finnish_pagan = { set_flag = character_was_finnish_pagan }
		aztec_reformed = { set_flag = character_was_aztec_reformed }
		aztec = { set_flag = character_was_aztec }
		slavic_pagan_reformed = { set_flag = character_was_slavic_pagan_reformed }
		slavic_pagan = { set_flag = character_was_slavic_pagan }
		west_african_pagan_reformed = { set_flag = character_was_west_african_pagan_reformed }
		west_african_pagan = { set_flag = character_was_west_african_pagan }
		zun_pagan_reformed = { set_flag = character_was_zun_pagan_reformed }
		zun_pagan = { set_flag = character_was_zun_pagan }
		hellenic_pagan_reformed = { set_flag = character_was_hellenic_pagan_reformed }
		hellenic_pagan = { set_flag = character_was_hellenic_pagan }
		bon_reformed = { set_flag = character_was_bon_reformed }
		bon = { set_flag = character_was_bon }
		zoroastrian = { set_flag = character_was_zoroastrian }
		mazdaki = { set_flag = character_was_mazdaki }
		zurvanist = { set_flag = character_was_zurvanist }
		manichean = { set_flag = character_was_manichean }
		mandaean = { set_flag = character_was_mandaean }
		yazidi = { set_flag = character_was_yazidi }
		khurmazta = { set_flag = character_was_khurmazta }
		jewish = { set_flag = character_was_jewish }
		samaritan = { set_flag = character_was_samaritan }
		karaite = { set_flag = character_was_karaite }
		hindu = { set_flag = character_was_hindu }
		buddhist = { set_flag = character_was_buddhist }
		jain = { set_flag = character_was_jain }
		taoist = { set_flag = character_was_taoist }
	}
}

emf_sr_clr_religion_char_flag = {
	clr_flag = character_was_catholic
	clr_flag = character_was_cathar
	clr_flag = character_was_fraticelli
	clr_flag = character_was_waldensian
	clr_flag = character_was_lollard
	clr_flag = character_was_adoptionist
	clr_flag = character_was_arian
	clr_flag = character_was_orthodox
	clr_flag = character_was_bogomilist
	clr_flag = character_was_monothelite
	clr_flag = character_was_iconoclast
	clr_flag = character_was_syriac
	clr_flag = character_was_maronite
	clr_flag = character_was_miaphysite
	clr_flag = character_was_monophysite
	clr_flag = character_was_apostolic
	clr_flag = character_was_paulician
	clr_flag = character_was_tondrakian
	clr_flag = character_was_nestorian
	clr_flag = character_was_messalian
	clr_flag = character_was_sunni
	clr_flag = character_was_zikri
	clr_flag = character_was_mahdiyya
	clr_flag = character_was_nabawiyya
	clr_flag = character_was_ibadi
	clr_flag = character_was_kharijite
	clr_flag = character_was_haruri
	clr_flag = character_was_shiite
	clr_flag = character_was_waqifi
	clr_flag = character_was_zaydi
	clr_flag = character_was_hurufi
	clr_flag = character_was_ismaili
	clr_flag = character_was_druze
	clr_flag = character_was_qarmatian
	clr_flag = character_was_norse_pagan_reformed
	clr_flag = character_was_norse_pagan
	clr_flag = character_was_tengri_pagan_reformed
	clr_flag = character_was_tengri_pagan
	clr_flag = character_was_baltic_pagan_reformed
	clr_flag = character_was_baltic_pagan
	clr_flag = character_was_finnish_pagan_reformed
	clr_flag = character_was_finnish_pagan
	clr_flag = character_was_aztec_reformed
	clr_flag = character_was_aztec
	clr_flag = character_was_slavic_pagan_reformed
	clr_flag = character_was_slavic_pagan
	clr_flag = character_was_west_african_pagan_reformed
	clr_flag = character_was_west_african_pagan
	clr_flag = character_was_zun_pagan_reformed
	clr_flag = character_was_zun_pagan
	clr_flag = character_was_hellenic_pagan_reformed
	clr_flag = character_was_hellenic_pagan
	clr_flag = character_was_bon_reformed
	clr_flag = character_was_bon
	clr_flag = character_was_zoroastrian
	clr_flag = character_was_mazdaki
	clr_flag = character_was_zurvanist
	clr_flag = character_was_manichean
	clr_flag = character_was_mandaean
	clr_flag = character_was_yazidi
	clr_flag = character_was_khurmazta
	clr_flag = character_was_jewish
	clr_flag = character_was_samaritan
	clr_flag = character_was_karaite
	clr_flag = character_was_hindu
	clr_flag = character_was_buddhist
	clr_flag = character_was_jain
	clr_flag = character_was_taoist
}

emf_sr_event_target_old_religion_from_flag = {
	trigger_switch = {
		on_trigger = has_flag
		character_was_catholic = {
			catholic = { save_event_target_as = old_religion }
		}
		character_was_cathar = {
			cathar = { save_event_target_as = old_religion }
		}
		character_was_fraticelli = {
			fraticelli = { save_event_target_as = old_religion }
		}
		character_was_waldensian = {
			waldensian = { save_event_target_as = old_religion }
		}
		character_was_lollard = {
			lollard = { save_event_target_as = old_religion }
		}
		character_was_adoptionist = {
			adoptionist = { save_event_target_as = old_religion }
		}
		character_was_arian = {
			arian = { save_event_target_as = old_religion }
		}
		character_was_orthodox = {
			orthodox = { save_event_target_as = old_religion }
		}
		character_was_bogomilist = {
			bogomilist = { save_event_target_as = old_religion }
		}
		character_was_monothelite = {
			monothelite = { save_event_target_as = old_religion }
		}
		character_was_iconoclast = {
			iconoclast = { save_event_target_as = old_religion }
		}
		character_was_syriac = {
			syriac = { save_event_target_as = old_religion }
		}
		character_was_maronite = {
			maronite = { save_event_target_as = old_religion }
		}
		character_was_miaphysite = {
			miaphysite = { save_event_target_as = old_religion }
		}
		character_was_monophysite = {
			monophysite = { save_event_target_as = old_religion }
		}
		character_was_apostolic = {
			apostolic = { save_event_target_as = old_religion }
		}
		character_was_paulician = {
			paulician = { save_event_target_as = old_religion }
		}
		character_was_tondrakian = {
			tondrakian = { save_event_target_as = old_religion }
		}
		character_was_nestorian = {
			nestorian = { save_event_target_as = old_religion }
		}
		character_was_messalian = {
			messalian = { save_event_target_as = old_religion }
		}
		character_was_sunni = {
			sunni = { save_event_target_as = old_religion }
		}
		character_was_zikri = {
			zikri = { save_event_target_as = old_religion }
		}
		character_was_mahdiyya = {
			mahdiyya = { save_event_target_as = old_religion }
		}
		character_was_nabawiyya = {
			nabawiyya = { save_event_target_as = old_religion }
		}
		character_was_ibadi = {
			ibadi = { save_event_target_as = old_religion }
		}
		character_was_kharijite = {
			kharijite = { save_event_target_as = old_religion }
		}
		character_was_haruri = {
			haruri = { save_event_target_as = old_religion }
		}
		character_was_shiite = {
			shiite = { save_event_target_as = old_religion }
		}
		character_was_waqifi = {
			waqifi = { save_event_target_as = old_religion }
		}
		character_was_zaydi = {
			zaydi = { save_event_target_as = old_religion }
		}
		character_was_hurufi = {
			hurufi = { save_event_target_as = old_religion }
		}
		character_was_ismaili = {
			ismaili = { save_event_target_as = old_religion }
		}
		character_was_druze = {
			druze = { save_event_target_as = old_religion }
		}
		character_was_qarmatian = {
			qarmatian = { save_event_target_as = old_religion }
		}
		character_was_norse_pagan_reformed = {
			norse_pagan_reformed = { save_event_target_as = old_religion }
		}
		character_was_norse_pagan = {
			norse_pagan = { save_event_target_as = old_religion }
		}
		character_was_tengri_pagan_reformed = {
			tengri_pagan_reformed = { save_event_target_as = old_religion }
		}
		character_was_tengri_pagan = {
			tengri_pagan = { save_event_target_as = old_religion }
		}
		character_was_baltic_pagan_reformed = {
			baltic_pagan_reformed = { save_event_target_as = old_religion }
		}
		character_was_baltic_pagan = {
			baltic_pagan = { save_event_target_as = old_religion }
		}
		character_was_finnish_pagan_reformed = {
			finnish_pagan_reformed = { save_event_target_as = old_religion }
		}
		character_was_finnish_pagan = {
			finnish_pagan = { save_event_target_as = old_religion }
		}
		character_was_aztec_reformed = {
			aztec_reformed = { save_event_target_as = old_religion }
		}
		character_was_aztec = {
			aztec = { save_event_target_as = old_religion }
		}
		character_was_slavic_pagan_reformed = {
			slavic_pagan_reformed = { save_event_target_as = old_religion }
		}
		character_was_slavic_pagan = {
			slavic_pagan = { save_event_target_as = old_religion }
		}
		character_was_west_african_pagan_reformed = {
			west_african_pagan_reformed = { save_event_target_as = old_religion }
		}
		character_was_west_african_pagan = {
			west_african_pagan = { save_event_target_as = old_religion }
		}
		character_was_zun_pagan_reformed = {
			zun_pagan_reformed = { save_event_target_as = old_religion }
		}
		character_was_zun_pagan = {
			zun_pagan = { save_event_target_as = old_religion }
		}
		character_was_hellenic_pagan_reformed = {
			hellenic_pagan_reformed = { save_event_target_as = old_religion }
		}
		character_was_hellenic_pagan = {
			hellenic_pagan = { save_event_target_as = old_religion }
		}
		character_was_bon_reformed = {
			bon_reformed = { save_event_target_as = old_religion }
		}
		character_was_bon = {
			bon = { save_event_target_as = old_religion }
		}
		character_was_zoroastrian = {
			zoroastrian = { save_event_target_as = old_religion }
		}
		character_was_mazdaki = {
			mazdaki = { save_event_target_as = old_religion }
		}
		character_was_zurvanist = {
			zurvanist = { save_event_target_as = old_religion }
		}
		character_was_manichean = {
			manichean = { save_event_target_as = old_religion }
		}
		character_was_mandaean = {
			mandaean = { save_event_target_as = old_religion }
		}
		character_was_yazidi = {
			yazidi = { save_event_target_as = old_religion }
		}
		character_was_khurmazta = {
			khurmazta = { save_event_target_as = old_religion }
		}
		character_was_jewish = {
			jewish = { save_event_target_as = old_religion }
		}
		character_was_samaritan = {
			samaritan = { save_event_target_as = old_religion }
		}
		character_was_karaite = {
			karaite = { save_event_target_as = old_religion }
		}
		character_was_hindu = {
			hindu = { save_event_target_as = old_religion }
		}
		character_was_buddhist = {
			buddhist = { save_event_target_as = old_religion }
		}
		character_was_jain = {
			jain = { save_event_target_as = old_religion }
		}
		character_was_taoist = {
			taoist = { save_event_target_as = old_religion }
		}
	}
}

# ROOT is assumed to own the provinces which may need flipping
emf_sr_flip_secret_community_provinces = {
	trigger_switch = {
		on_trigger = society_member_of
		secret_religious_society_catholic = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_catholic_community }
					religion = catholic
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_catholic_community
				}
			}
		}
		secret_religious_society_cathar = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_cathar_community }
					religion = cathar
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_cathar_community
				}
			}
		}
		secret_religious_society_fraticelli = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_fraticelli_community }
					religion = fraticelli
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_fraticelli_community
				}
			}
		}
		secret_religious_society_waldensian = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_waldensian_community }
					religion = waldensian
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_waldensian_community
				}
			}
		}
		secret_religious_society_lollard = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_lollard_community }
					religion = lollard
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_lollard_community
				}
			}
		}
		secret_religious_society_adoptionist = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_adoptionist_community }
					religion = adoptionist
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_adoptionist_community
				}
			}
		}
		secret_religious_society_arian = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_arian_community }
					religion = arian
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_arian_community
				}
			}
		}
		secret_religious_society_orthodox = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_orthodox_community }
					religion = orthodox
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_orthodox_community
				}
			}
		}
		secret_religious_society_bogomilist = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_bogomilist_community }
					religion = bogomilist
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_bogomilist_community
				}
			}
		}
		secret_religious_society_monothelite = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_monothelite_community }
					religion = monothelite
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_monothelite_community
				}
			}
		}
		secret_religious_society_iconoclast = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_iconoclast_community }
					religion = iconoclast
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_iconoclast_community
				}
			}
		}
		secret_religious_society_syriac = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_syriac_community }
					religion = syriac
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_syriac_community
				}
			}
		}
		secret_religious_society_maronite = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_maronite_community }
					religion = maronite
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_maronite_community
				}
			}
		}
		secret_religious_society_miaphysite = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_miaphysite_community }
					religion = miaphysite
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_miaphysite_community
				}
			}
		}
		secret_religious_society_monophysite = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_monophysite_community }
					religion = monophysite
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_monophysite_community
				}
			}
		}
		secret_religious_society_apostolic = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_apostolic_community }
					religion = apostolic
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_apostolic_community
				}
			}
		}
		secret_religious_society_paulician = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_paulician_community }
					religion = paulician
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_paulician_community
				}
			}
		}
		secret_religious_society_tondrakian = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_tondrakian_community }
					religion = tondrakian
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_tondrakian_community
				}
			}
		}
		secret_religious_society_nestorian = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_nestorian_community }
					religion = nestorian
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_nestorian_community
				}
			}
		}
		secret_religious_society_messalian = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_messalian_community }
					religion = messalian
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_messalian_community
				}
			}
		}
		secret_religious_society_sunni = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_sunni_community }
					religion = sunni
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_sunni_community
				}
			}
		}
		secret_religious_society_zikri = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zikri_community }
					religion = zikri
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_zikri_community
				}
			}
		}
		secret_religious_society_mahdiyya = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_mahdiyya_community }
					religion = mahdiyya
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_mahdiyya_community
				}
			}
		}
		secret_religious_society_nabawiyya = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_nabawiyya_community }
					religion = nabawiyya
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_nabawiyya_community
				}
			}
		}
		secret_religious_society_ibadi = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_ibadi_community }
					religion = ibadi
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_ibadi_community
				}
			}
		}
		secret_religious_society_kharijite = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_kharijite_community }
					religion = kharijite
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_kharijite_community
				}
			}
		}
		secret_religious_society_haruri = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_haruri_community }
					religion = haruri
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_haruri_community
				}
			}
		}
		secret_religious_society_shiite = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_shiite_community }
					religion = shiite
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_shiite_community
				}
			}
		}
		secret_religious_society_waqifi = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_waqifi_community }
					religion = waqifi
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_waqifi_community
				}
			}
		}
		secret_religious_society_zaydi = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zaydi_community }
					religion = zaydi
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_zaydi_community
				}
			}
		}
		secret_religious_society_hurufi = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_hurufi_community }
					religion = hurufi
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_hurufi_community
				}
			}
		}
		secret_religious_society_ismaili = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_ismaili_community }
					religion = ismaili
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_ismaili_community
				}
			}
		}
		secret_religious_society_druze = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_druze_community }
					religion = druze
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_druze_community
				}
			}
		}
		secret_religious_society_qarmatian = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_qarmatian_community }
					religion = qarmatian
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_qarmatian_community
				}
			}
		}
		secret_religious_society_norse_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_norse_pagan_reformed_community }
					religion = norse_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_norse_pagan_reformed_community
				}
			}
		}
		secret_religious_society_norse_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_norse_pagan_community }
					religion = norse_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_norse_pagan_community
				}
			}
		}
		secret_religious_society_tengri_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_tengri_pagan_reformed_community }
					religion = tengri_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_tengri_pagan_reformed_community
				}
			}
		}
		secret_religious_society_tengri_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_tengri_pagan_community }
					religion = tengri_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_tengri_pagan_community
				}
			}
		}
		secret_religious_society_baltic_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_baltic_pagan_reformed_community }
					religion = baltic_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_baltic_pagan_reformed_community
				}
			}
		}
		secret_religious_society_baltic_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_baltic_pagan_community }
					religion = baltic_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_baltic_pagan_community
				}
			}
		}
		secret_religious_society_finnish_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_finnish_pagan_reformed_community }
					religion = finnish_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_finnish_pagan_reformed_community
				}
			}
		}
		secret_religious_society_finnish_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_finnish_pagan_community }
					religion = finnish_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_finnish_pagan_community
				}
			}
		}
		secret_religious_society_aztec_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_aztec_reformed_community }
					religion = aztec_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_aztec_reformed_community
				}
			}
		}
		secret_religious_society_aztec = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_aztec_community }
					religion = aztec
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_aztec_community
				}
			}
		}
		secret_religious_society_slavic_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_slavic_pagan_reformed_community }
					religion = slavic_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_slavic_pagan_reformed_community
				}
			}
		}
		secret_religious_society_slavic_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_slavic_pagan_community }
					religion = slavic_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_slavic_pagan_community
				}
			}
		}
		secret_religious_society_west_african_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_west_african_pagan_reformed_community }
					religion = west_african_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_west_african_pagan_reformed_community
				}
			}
		}
		secret_religious_society_west_african_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_west_african_pagan_community }
					religion = west_african_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_west_african_pagan_community
				}
			}
		}
		secret_religious_society_zun_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zun_pagan_reformed_community }
					religion = zun_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_zun_pagan_reformed_community
				}
			}
		}
		secret_religious_society_zun_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zun_pagan_community }
					religion = zun_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_zun_pagan_community
				}
			}
		}
		secret_religious_society_hellenic_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_hellenic_pagan_reformed_community }
					religion = hellenic_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_hellenic_pagan_reformed_community
				}
			}
		}
		secret_religious_society_hellenic_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_hellenic_pagan_community }
					religion = hellenic_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_hellenic_pagan_community
				}
			}
		}
		secret_religious_society_bon_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_bon_reformed_community }
					religion = bon_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_bon_reformed_community
				}
			}
		}
		secret_religious_society_bon = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_bon_community }
					religion = bon
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_bon_community
				}
			}
		}
		secret_religious_society_zoroastrian = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zoroastrian_community }
					religion = zoroastrian
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_zoroastrian_community
				}
			}
		}
		secret_religious_society_mazdaki = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_mazdaki_community }
					religion = mazdaki
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_mazdaki_community
				}
			}
		}
		secret_religious_society_zurvanist = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zurvanist_community }
					religion = zurvanist
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_zurvanist_community
				}
			}
		}
		secret_religious_society_manichean = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_manichean_community }
					religion = manichean
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_manichean_community
				}
			}
		}
		secret_religious_society_mandaean = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_mandaean_community }
					religion = mandaean
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_mandaean_community
				}
			}
		}
		secret_religious_society_yazidi = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_yazidi_community }
					religion = yazidi
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_yazidi_community
				}
			}
		}
		secret_religious_society_khurmazta = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_khurmazta_community }
					religion = khurmazta
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_khurmazta_community
				}
			}
		}
		secret_religious_society_jewish = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_jewish_community }
					religion = jewish
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_jewish_community
				}
			}
		}
		secret_religious_society_samaritan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_samaritan_community }
					religion = samaritan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_samaritan_community
				}
			}
		}
		secret_religious_society_karaite = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_karaite_community }
					religion = karaite
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_karaite_community
				}
			}
		}
		secret_religious_society_hindu = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_hindu_community }
					religion = hindu
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_hindu_community
				}
			}
		}
		secret_religious_society_buddhist = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_buddhist_community }
					religion = buddhist
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_buddhist_community
				}
			}
		}
		secret_religious_society_jain = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_jain_community }
					religion = jain
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_jain_community
				}
			}
		}
		secret_religious_society_taoist = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_taoist_community }
					religion = taoist
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_taoist_community
				}
			}
		}
	}
}

# THIS = society member, PREV = owner of provinces in question
emf_sr_flip_secret_community_provinces_of_PREV = {
	trigger_switch = {
		on_trigger = society_member_of
		secret_religious_society_catholic = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_catholic_community }
					religion = catholic
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_catholic_community
				}
			}
		}
		secret_religious_society_cathar = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_cathar_community }
					religion = cathar
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_cathar_community
				}
			}
		}
		secret_religious_society_fraticelli = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_fraticelli_community }
					religion = fraticelli
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_fraticelli_community
				}
			}
		}
		secret_religious_society_waldensian = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_waldensian_community }
					religion = waldensian
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_waldensian_community
				}
			}
		}
		secret_religious_society_lollard = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_lollard_community }
					religion = lollard
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_lollard_community
				}
			}
		}
		secret_religious_society_adoptionist = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_adoptionist_community }
					religion = adoptionist
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_adoptionist_community
				}
			}
		}
		secret_religious_society_arian = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_arian_community }
					religion = arian
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_arian_community
				}
			}
		}
		secret_religious_society_orthodox = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_orthodox_community }
					religion = orthodox
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_orthodox_community
				}
			}
		}
		secret_religious_society_bogomilist = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_bogomilist_community }
					religion = bogomilist
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_bogomilist_community
				}
			}
		}
		secret_religious_society_monothelite = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_monothelite_community }
					religion = monothelite
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_monothelite_community
				}
			}
		}
		secret_religious_society_iconoclast = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_iconoclast_community }
					religion = iconoclast
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_iconoclast_community
				}
			}
		}
		secret_religious_society_syriac = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_syriac_community }
					religion = syriac
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_syriac_community
				}
			}
		}
		secret_religious_society_maronite = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_maronite_community }
					religion = maronite
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_maronite_community
				}
			}
		}
		secret_religious_society_miaphysite = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_miaphysite_community }
					religion = miaphysite
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_miaphysite_community
				}
			}
		}
		secret_religious_society_monophysite = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_monophysite_community }
					religion = monophysite
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_monophysite_community
				}
			}
		}
		secret_religious_society_apostolic = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_apostolic_community }
					religion = apostolic
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_apostolic_community
				}
			}
		}
		secret_religious_society_paulician = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_paulician_community }
					religion = paulician
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_paulician_community
				}
			}
		}
		secret_religious_society_tondrakian = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_tondrakian_community }
					religion = tondrakian
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_tondrakian_community
				}
			}
		}
		secret_religious_society_nestorian = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_nestorian_community }
					religion = nestorian
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_nestorian_community
				}
			}
		}
		secret_religious_society_messalian = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_messalian_community }
					religion = messalian
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_messalian_community
				}
			}
		}
		secret_religious_society_sunni = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_sunni_community }
					religion = sunni
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_sunni_community
				}
			}
		}
		secret_religious_society_zikri = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zikri_community }
					religion = zikri
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_zikri_community
				}
			}
		}
		secret_religious_society_mahdiyya = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_mahdiyya_community }
					religion = mahdiyya
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_mahdiyya_community
				}
			}
		}
		secret_religious_society_nabawiyya = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_nabawiyya_community }
					religion = nabawiyya
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_nabawiyya_community
				}
			}
		}
		secret_religious_society_ibadi = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_ibadi_community }
					religion = ibadi
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_ibadi_community
				}
			}
		}
		secret_religious_society_kharijite = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_kharijite_community }
					religion = kharijite
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_kharijite_community
				}
			}
		}
		secret_religious_society_haruri = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_haruri_community }
					religion = haruri
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_haruri_community
				}
			}
		}
		secret_religious_society_shiite = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_shiite_community }
					religion = shiite
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_shiite_community
				}
			}
		}
		secret_religious_society_waqifi = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_waqifi_community }
					religion = waqifi
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_waqifi_community
				}
			}
		}
		secret_religious_society_zaydi = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zaydi_community }
					religion = zaydi
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_zaydi_community
				}
			}
		}
		secret_religious_society_hurufi = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_hurufi_community }
					religion = hurufi
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_hurufi_community
				}
			}
		}
		secret_religious_society_ismaili = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_ismaili_community }
					religion = ismaili
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_ismaili_community
				}
			}
		}
		secret_religious_society_druze = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_druze_community }
					religion = druze
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_druze_community
				}
			}
		}
		secret_religious_society_qarmatian = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_qarmatian_community }
					religion = qarmatian
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_qarmatian_community
				}
			}
		}
		secret_religious_society_norse_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_norse_pagan_reformed_community }
					religion = norse_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_norse_pagan_reformed_community
				}
			}
		}
		secret_religious_society_norse_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_norse_pagan_community }
					religion = norse_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_norse_pagan_community
				}
			}
		}
		secret_religious_society_tengri_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_tengri_pagan_reformed_community }
					religion = tengri_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_tengri_pagan_reformed_community
				}
			}
		}
		secret_religious_society_tengri_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_tengri_pagan_community }
					religion = tengri_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_tengri_pagan_community
				}
			}
		}
		secret_religious_society_baltic_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_baltic_pagan_reformed_community }
					religion = baltic_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_baltic_pagan_reformed_community
				}
			}
		}
		secret_religious_society_baltic_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_baltic_pagan_community }
					religion = baltic_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_baltic_pagan_community
				}
			}
		}
		secret_religious_society_finnish_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_finnish_pagan_reformed_community }
					religion = finnish_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_finnish_pagan_reformed_community
				}
			}
		}
		secret_religious_society_finnish_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_finnish_pagan_community }
					religion = finnish_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_finnish_pagan_community
				}
			}
		}
		secret_religious_society_aztec_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_aztec_reformed_community }
					religion = aztec_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_aztec_reformed_community
				}
			}
		}
		secret_religious_society_aztec = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_aztec_community }
					religion = aztec
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_aztec_community
				}
			}
		}
		secret_religious_society_slavic_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_slavic_pagan_reformed_community }
					religion = slavic_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_slavic_pagan_reformed_community
				}
			}
		}
		secret_religious_society_slavic_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_slavic_pagan_community }
					religion = slavic_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_slavic_pagan_community
				}
			}
		}
		secret_religious_society_west_african_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_west_african_pagan_reformed_community }
					religion = west_african_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_west_african_pagan_reformed_community
				}
			}
		}
		secret_religious_society_west_african_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_west_african_pagan_community }
					religion = west_african_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_west_african_pagan_community
				}
			}
		}
		secret_religious_society_zun_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zun_pagan_reformed_community }
					religion = zun_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_zun_pagan_reformed_community
				}
			}
		}
		secret_religious_society_zun_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zun_pagan_community }
					religion = zun_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_zun_pagan_community
				}
			}
		}
		secret_religious_society_hellenic_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_hellenic_pagan_reformed_community }
					religion = hellenic_pagan_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_hellenic_pagan_reformed_community
				}
			}
		}
		secret_religious_society_hellenic_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_hellenic_pagan_community }
					religion = hellenic_pagan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_hellenic_pagan_community
				}
			}
		}
		secret_religious_society_bon_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_bon_reformed_community }
					religion = bon_reformed
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_bon_reformed_community
				}
			}
		}
		secret_religious_society_bon = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_bon_community }
					religion = bon
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_bon_community
				}
			}
		}
		secret_religious_society_zoroastrian = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zoroastrian_community }
					religion = zoroastrian
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_zoroastrian_community
				}
			}
		}
		secret_religious_society_mazdaki = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_mazdaki_community }
					religion = mazdaki
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_mazdaki_community
				}
			}
		}
		secret_religious_society_zurvanist = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zurvanist_community }
					religion = zurvanist
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_zurvanist_community
				}
			}
		}
		secret_religious_society_manichean = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_manichean_community }
					religion = manichean
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_manichean_community
				}
			}
		}
		secret_religious_society_mandaean = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_mandaean_community }
					religion = mandaean
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_mandaean_community
				}
			}
		}
		secret_religious_society_yazidi = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_yazidi_community }
					religion = yazidi
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_yazidi_community
				}
			}
		}
		secret_religious_society_khurmazta = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_khurmazta_community }
					religion = khurmazta
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_khurmazta_community
				}
			}
		}
		secret_religious_society_jewish = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_jewish_community }
					religion = jewish
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_jewish_community
				}
			}
		}
		secret_religious_society_samaritan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_samaritan_community }
					religion = samaritan
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_samaritan_community
				}
			}
		}
		secret_religious_society_karaite = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_karaite_community }
					religion = karaite
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_karaite_community
				}
			}
		}
		secret_religious_society_hindu = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_hindu_community }
					religion = hindu
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_hindu_community
				}
			}
		}
		secret_religious_society_buddhist = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_buddhist_community }
					religion = buddhist
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_buddhist_community
				}
			}
		}
		secret_religious_society_jain = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_jain_community }
					religion = jain
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_jain_community
				}
			}
		}
		secret_religious_society_taoist = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_taoist_community }
					religion = taoist
					religion_authority = {
						modifier = province_converted_to
						years = 5
					}
					remove_province_modifier = secret_taoist_community
				}
			}
		}
	}
}

# THIS owns the provinces which may need flipping, and we base the flip on THIS's religion
# NOTE: for some reason, we don't remove the secret_X_community province modifiers, however. (?!)
emf_sr_flip_secret_community_provinces_to_my_religion = {
	trigger_switch = {
		on_trigger = religion
		catholic = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_catholic_community }
				religion = catholic
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_catholic_community
			}
		}
		cathar = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_cathar_community }
				religion = cathar
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_cathar_community
			}
		}
		fraticelli = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_fraticelli_community }
				religion = fraticelli
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_fraticelli_community
			}
		}
		waldensian = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_waldensian_community }
				religion = waldensian
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_waldensian_community
			}
		}
		lollard = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_lollard_community }
				religion = lollard
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_lollard_community
			}
		}
		adoptionist = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_adoptionist_community }
				religion = adoptionist
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_adoptionist_community
			}
		}
		arian = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_arian_community }
				religion = arian
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_arian_community
			}
		}
		orthodox = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_orthodox_community }
				religion = orthodox
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_orthodox_community
			}
		}
		bogomilist = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_bogomilist_community }
				religion = bogomilist
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_bogomilist_community
			}
		}
		monothelite = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_monothelite_community }
				religion = monothelite
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_monothelite_community
			}
		}
		iconoclast = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_iconoclast_community }
				religion = iconoclast
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_iconoclast_community
			}
		}
		syriac = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_syriac_community }
				religion = syriac
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_syriac_community
			}
		}
		maronite = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_maronite_community }
				religion = maronite
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_maronite_community
			}
		}
		miaphysite = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_miaphysite_community }
				religion = miaphysite
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_miaphysite_community
			}
		}
		monophysite = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_monophysite_community }
				religion = monophysite
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_monophysite_community
			}
		}
		apostolic = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_apostolic_community }
				religion = apostolic
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_apostolic_community
			}
		}
		paulician = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_paulician_community }
				religion = paulician
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_paulician_community
			}
		}
		tondrakian = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_tondrakian_community }
				religion = tondrakian
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_tondrakian_community
			}
		}
		nestorian = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_nestorian_community }
				religion = nestorian
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_nestorian_community
			}
		}
		messalian = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_messalian_community }
				religion = messalian
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_messalian_community
			}
		}
		sunni = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_sunni_community }
				religion = sunni
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_sunni_community
			}
		}
		zikri = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zikri_community }
				religion = zikri
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_zikri_community
			}
		}
		mahdiyya = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_mahdiyya_community }
				religion = mahdiyya
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_mahdiyya_community
			}
		}
		nabawiyya = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_nabawiyya_community }
				religion = nabawiyya
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_nabawiyya_community
			}
		}
		ibadi = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_ibadi_community }
				religion = ibadi
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_ibadi_community
			}
		}
		kharijite = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_kharijite_community }
				religion = kharijite
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_kharijite_community
			}
		}
		haruri = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_haruri_community }
				religion = haruri
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_haruri_community
			}
		}
		shiite = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_shiite_community }
				religion = shiite
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_shiite_community
			}
		}
		waqifi = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_waqifi_community }
				religion = waqifi
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_waqifi_community
			}
		}
		zaydi = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zaydi_community }
				religion = zaydi
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_zaydi_community
			}
		}
		hurufi = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_hurufi_community }
				religion = hurufi
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_hurufi_community
			}
		}
		ismaili = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_ismaili_community }
				religion = ismaili
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_ismaili_community
			}
		}
		druze = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_druze_community }
				religion = druze
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_druze_community
			}
		}
		qarmatian = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_qarmatian_community }
				religion = qarmatian
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_qarmatian_community
			}
		}
		norse_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_norse_pagan_reformed_community }
				religion = norse_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_norse_pagan_reformed_community
			}
		}
		norse_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_norse_pagan_community }
				religion = norse_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_norse_pagan_community
			}
		}
		tengri_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_tengri_pagan_reformed_community }
				religion = tengri_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_tengri_pagan_reformed_community
			}
		}
		tengri_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_tengri_pagan_community }
				religion = tengri_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_tengri_pagan_community
			}
		}
		baltic_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_baltic_pagan_reformed_community }
				religion = baltic_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_baltic_pagan_reformed_community
			}
		}
		baltic_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_baltic_pagan_community }
				religion = baltic_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_baltic_pagan_community
			}
		}
		finnish_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_finnish_pagan_reformed_community }
				religion = finnish_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_finnish_pagan_reformed_community
			}
		}
		finnish_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_finnish_pagan_community }
				religion = finnish_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_finnish_pagan_community
			}
		}
		aztec_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_aztec_reformed_community }
				religion = aztec_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_aztec_reformed_community
			}
		}
		aztec = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_aztec_community }
				religion = aztec
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_aztec_community
			}
		}
		slavic_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_slavic_pagan_reformed_community }
				religion = slavic_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_slavic_pagan_reformed_community
			}
		}
		slavic_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_slavic_pagan_community }
				religion = slavic_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_slavic_pagan_community
			}
		}
		west_african_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_west_african_pagan_reformed_community }
				religion = west_african_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_west_african_pagan_reformed_community
			}
		}
		west_african_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_west_african_pagan_community }
				religion = west_african_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_west_african_pagan_community
			}
		}
		zun_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zun_pagan_reformed_community }
				religion = zun_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_zun_pagan_reformed_community
			}
		}
		zun_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zun_pagan_community }
				religion = zun_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_zun_pagan_community
			}
		}
		hellenic_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_hellenic_pagan_reformed_community }
				religion = hellenic_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_hellenic_pagan_reformed_community
			}
		}
		hellenic_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_hellenic_pagan_community }
				religion = hellenic_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_hellenic_pagan_community
			}
		}
		bon_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_bon_reformed_community }
				religion = bon_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_bon_reformed_community
			}
		}
		bon = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_bon_community }
				religion = bon
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_bon_community
			}
		}
		zoroastrian = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zoroastrian_community }
				religion = zoroastrian
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_zoroastrian_community
			}
		}
		mazdaki = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_mazdaki_community }
				religion = mazdaki
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_mazdaki_community
			}
		}
		zurvanist = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zurvanist_community }
				religion = zurvanist
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_zurvanist_community
			}
		}
		manichean = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_manichean_community }
				religion = manichean
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_manichean_community
			}
		}
		mandaean = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_mandaean_community }
				religion = mandaean
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_mandaean_community
			}
		}
		yazidi = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_yazidi_community }
				religion = yazidi
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_yazidi_community
			}
		}
		khurmazta = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_khurmazta_community }
				religion = khurmazta
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_khurmazta_community
			}
		}
		jewish = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_jewish_community }
				religion = jewish
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_jewish_community
			}
		}
		samaritan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_samaritan_community }
				religion = samaritan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_samaritan_community
			}
		}
		karaite = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_karaite_community }
				religion = karaite
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_karaite_community
			}
		}
		hindu = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_hindu_community }
				religion = hindu
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_hindu_community
			}
		}
		buddhist = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_buddhist_community }
				religion = buddhist
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_buddhist_community
			}
		}
		jain = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_jain_community }
				religion = jain
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_jain_community
			}
		}
		taoist = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_taoist_community }
				religion = taoist
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				# remove_province_modifier = secret_taoist_community
			}
		}
	}
}

# THIS = society member
emf_sr_set_adopt_faith_flag_of_my_cult_on_ROOT = {
	trigger_switch = {
		on_trigger = society_member_of
		secret_religious_society_catholic = {
			ROOT = { set_flag = adopt_faith_catholic }
		}
		secret_religious_society_cathar = {
			ROOT = { set_flag = adopt_faith_cathar }
		}
		secret_religious_society_fraticelli = {
			ROOT = { set_flag = adopt_faith_fraticelli }
		}
		secret_religious_society_waldensian = {
			ROOT = { set_flag = adopt_faith_waldensian }
		}
		secret_religious_society_lollard = {
			ROOT = { set_flag = adopt_faith_lollard }
		}
		secret_religious_society_adoptionist = {
			ROOT = { set_flag = adopt_faith_adoptionist }
		}
		secret_religious_society_arian = {
			ROOT = { set_flag = adopt_faith_arian }
		}
		secret_religious_society_orthodox = {
			ROOT = { set_flag = adopt_faith_orthodox }
		}
		secret_religious_society_bogomilist = {
			ROOT = { set_flag = adopt_faith_bogomilist }
		}
		secret_religious_society_monothelite = {
			ROOT = { set_flag = adopt_faith_monothelite }
		}
		secret_religious_society_iconoclast = {
			ROOT = { set_flag = adopt_faith_iconoclast }
		}
		secret_religious_society_syriac = {
			ROOT = { set_flag = adopt_faith_syriac }
		}
		secret_religious_society_maronite = {
			ROOT = { set_flag = adopt_faith_maronite }
		}
		secret_religious_society_miaphysite = {
			ROOT = { set_flag = adopt_faith_miaphysite }
		}
		secret_religious_society_monophysite = {
			ROOT = { set_flag = adopt_faith_monophysite }
		}
		secret_religious_society_apostolic = {
			ROOT = { set_flag = adopt_faith_apostolic }
		}
		secret_religious_society_paulician = {
			ROOT = { set_flag = adopt_faith_paulician }
		}
		secret_religious_society_tondrakian = {
			ROOT = { set_flag = adopt_faith_tondrakian }
		}
		secret_religious_society_nestorian = {
			ROOT = { set_flag = adopt_faith_nestorian }
		}
		secret_religious_society_messalian = {
			ROOT = { set_flag = adopt_faith_messalian }
		}
		secret_religious_society_sunni = {
			ROOT = { set_flag = adopt_faith_sunni }
		}
		secret_religious_society_zikri = {
			ROOT = { set_flag = adopt_faith_zikri }
		}
		secret_religious_society_mahdiyya = {
			ROOT = { set_flag = adopt_faith_mahdiyya }
		}
		secret_religious_society_nabawiyya = {
			ROOT = { set_flag = adopt_faith_nabawiyya }
		}
		secret_religious_society_ibadi = {
			ROOT = { set_flag = adopt_faith_ibadi }
		}
		secret_religious_society_kharijite = {
			ROOT = { set_flag = adopt_faith_kharijite }
		}
		secret_religious_society_haruri = {
			ROOT = { set_flag = adopt_faith_haruri }
		}
		secret_religious_society_shiite = {
			ROOT = { set_flag = adopt_faith_shiite }
		}
		secret_religious_society_waqifi = {
			ROOT = { set_flag = adopt_faith_waqifi }
		}
		secret_religious_society_zaydi = {
			ROOT = { set_flag = adopt_faith_zaydi }
		}
		secret_religious_society_hurufi = {
			ROOT = { set_flag = adopt_faith_hurufi }
		}
		secret_religious_society_ismaili = {
			ROOT = { set_flag = adopt_faith_ismaili }
		}
		secret_religious_society_druze = {
			ROOT = { set_flag = adopt_faith_druze }
		}
		secret_religious_society_qarmatian = {
			ROOT = { set_flag = adopt_faith_qarmatian }
		}
		secret_religious_society_norse_pagan_reformed = {
			ROOT = { set_flag = adopt_faith_norse_pagan_reformed }
		}
		secret_religious_society_norse_pagan = {
			ROOT = { set_flag = adopt_faith_norse_pagan }
		}
		secret_religious_society_tengri_pagan_reformed = {
			ROOT = { set_flag = adopt_faith_tengri_pagan_reformed }
		}
		secret_religious_society_tengri_pagan = {
			ROOT = { set_flag = adopt_faith_tengri_pagan }
		}
		secret_religious_society_baltic_pagan_reformed = {
			ROOT = { set_flag = adopt_faith_baltic_pagan_reformed }
		}
		secret_religious_society_baltic_pagan = {
			ROOT = { set_flag = adopt_faith_baltic_pagan }
		}
		secret_religious_society_finnish_pagan_reformed = {
			ROOT = { set_flag = adopt_faith_finnish_pagan_reformed }
		}
		secret_religious_society_finnish_pagan = {
			ROOT = { set_flag = adopt_faith_finnish_pagan }
		}
		secret_religious_society_aztec_reformed = {
			ROOT = { set_flag = adopt_faith_aztec_reformed }
		}
		secret_religious_society_aztec = {
			ROOT = { set_flag = adopt_faith_aztec }
		}
		secret_religious_society_slavic_pagan_reformed = {
			ROOT = { set_flag = adopt_faith_slavic_pagan_reformed }
		}
		secret_religious_society_slavic_pagan = {
			ROOT = { set_flag = adopt_faith_slavic_pagan }
		}
		secret_religious_society_west_african_pagan_reformed = {
			ROOT = { set_flag = adopt_faith_west_african_pagan_reformed }
		}
		secret_religious_society_west_african_pagan = {
			ROOT = { set_flag = adopt_faith_west_african_pagan }
		}
		secret_religious_society_zun_pagan_reformed = {
			ROOT = { set_flag = adopt_faith_zun_pagan_reformed }
		}
		secret_religious_society_zun_pagan = {
			ROOT = { set_flag = adopt_faith_zun_pagan }
		}
		secret_religious_society_hellenic_pagan_reformed = {
			ROOT = { set_flag = adopt_faith_hellenic_pagan_reformed }
		}
		secret_religious_society_hellenic_pagan = {
			ROOT = { set_flag = adopt_faith_hellenic_pagan }
		}
		secret_religious_society_bon_reformed = {
			ROOT = { set_flag = adopt_faith_bon_reformed }
		}
		secret_religious_society_bon = {
			ROOT = { set_flag = adopt_faith_bon }
		}
		secret_religious_society_zoroastrian = {
			ROOT = { set_flag = adopt_faith_zoroastrian }
		}
		secret_religious_society_mazdaki = {
			ROOT = { set_flag = adopt_faith_mazdaki }
		}
		secret_religious_society_zurvanist = {
			ROOT = { set_flag = adopt_faith_zurvanist }
		}
		secret_religious_society_manichean = {
			ROOT = { set_flag = adopt_faith_manichean }
		}
		secret_religious_society_mandaean = {
			ROOT = { set_flag = adopt_faith_mandaean }
		}
		secret_religious_society_yazidi = {
			ROOT = { set_flag = adopt_faith_yazidi }
		}
		secret_religious_society_khurmazta = {
			ROOT = { set_flag = adopt_faith_khurmazta }
		}
		secret_religious_society_jewish = {
			ROOT = { set_flag = adopt_faith_jewish }
		}
		secret_religious_society_samaritan = {
			ROOT = { set_flag = adopt_faith_samaritan }
		}
		secret_religious_society_karaite = {
			ROOT = { set_flag = adopt_faith_karaite }
		}
		secret_religious_society_hindu = {
			ROOT = { set_flag = adopt_faith_hindu }
		}
		secret_religious_society_buddhist = {
			ROOT = { set_flag = adopt_faith_buddhist }
		}
		secret_religious_society_jain = {
			ROOT = { set_flag = adopt_faith_jain }
		}
		secret_religious_society_taoist = {
			ROOT = { set_flag = adopt_faith_taoist }
		}
	}
}

emf_sr_adopt_faith_from_flag = {
	if = {
		limit = {
			independent = yes
			higher_real_tier_than = DUKE
			NOT = { religion_group = christian }
		}
		set_flag = emf_tmp_check_for_christian_conversion
	}
	if = {
		limit = { higher_real_tier_than = BARON }
		if = {
			limit = { real_tier = EMPEROR }
			religion_authority = { modifier = emperor_converted_from }
		}
		else_if = {
			limit = { real_tier = KING }
			religion_authority = { modifier = king_converted_from }
		}
		else_if = {
			limit = { real_tier = DUKE }
			religion_authority = { modifier = duke_converted_from }
		}
		else = {
			religion_authority = { modifier = count_converted_from }
		}
	}
	hidden_effect = {
		if = { # Needed to circumvent bug where converting theocracies immediately get replaced with a new character
			limit = { emf_requires_workaround_for_religion_switch = yes }
			set_flag = needs_fake_feudal_government
			set_government_type = fake_feudal_government
		}
	}
	trigger_switch = {
		on_trigger = has_flag
		adopt_faith_catholic = { religion = catholic }
		adopt_faith_cathar = { religion = cathar }
		adopt_faith_fraticelli = { religion = fraticelli }
		adopt_faith_waldensian = { religion = waldensian }
		adopt_faith_lollard = { religion = lollard }
		adopt_faith_adoptionist = { religion = adoptionist }
		adopt_faith_arian = { religion = arian }
		adopt_faith_orthodox = { religion = orthodox }
		adopt_faith_bogomilist = { religion = bogomilist }
		adopt_faith_monothelite = { religion = monothelite }
		adopt_faith_iconoclast = { religion = iconoclast }
		adopt_faith_syriac = { religion = syriac }
		adopt_faith_maronite = { religion = maronite }
		adopt_faith_miaphysite = { religion = miaphysite }
		adopt_faith_monophysite = { religion = monophysite }
		adopt_faith_apostolic = { religion = apostolic }
		adopt_faith_paulician = { religion = paulician }
		adopt_faith_tondrakian = { religion = tondrakian }
		adopt_faith_nestorian = { religion = nestorian }
		adopt_faith_messalian = { religion = messalian }
		adopt_faith_sunni = { religion = sunni }
		adopt_faith_zikri = { religion = zikri }
		adopt_faith_mahdiyya = { religion = mahdiyya }
		adopt_faith_nabawiyya = { religion = nabawiyya }
		adopt_faith_ibadi = { religion = ibadi }
		adopt_faith_kharijite = { religion = kharijite }
		adopt_faith_haruri = { religion = haruri }
		adopt_faith_shiite = { religion = shiite }
		adopt_faith_waqifi = { religion = waqifi }
		adopt_faith_zaydi = { religion = zaydi }
		adopt_faith_hurufi = { religion = hurufi }
		adopt_faith_ismaili = { religion = ismaili }
		adopt_faith_druze = { religion = druze }
		adopt_faith_qarmatian = { religion = qarmatian }
		adopt_faith_norse_pagan_reformed = { religion = norse_pagan_reformed }
		adopt_faith_norse_pagan = { religion = norse_pagan }
		adopt_faith_tengri_pagan_reformed = { religion = tengri_pagan_reformed }
		adopt_faith_tengri_pagan = { religion = tengri_pagan }
		adopt_faith_baltic_pagan_reformed = { religion = baltic_pagan_reformed }
		adopt_faith_baltic_pagan = { religion = baltic_pagan }
		adopt_faith_finnish_pagan_reformed = { religion = finnish_pagan_reformed }
		adopt_faith_finnish_pagan = { religion = finnish_pagan }
		adopt_faith_aztec_reformed = { religion = aztec_reformed }
		adopt_faith_aztec = { religion = aztec }
		adopt_faith_slavic_pagan_reformed = { religion = slavic_pagan_reformed }
		adopt_faith_slavic_pagan = { religion = slavic_pagan }
		adopt_faith_west_african_pagan_reformed = { religion = west_african_pagan_reformed }
		adopt_faith_west_african_pagan = { religion = west_african_pagan }
		adopt_faith_zun_pagan_reformed = { religion = zun_pagan_reformed }
		adopt_faith_zun_pagan = { religion = zun_pagan }
		adopt_faith_hellenic_pagan_reformed = { religion = hellenic_pagan_reformed }
		adopt_faith_hellenic_pagan = { religion = hellenic_pagan }
		adopt_faith_bon_reformed = { religion = bon_reformed }
		adopt_faith_bon = { religion = bon }
		adopt_faith_zoroastrian = { religion = zoroastrian }
		adopt_faith_mazdaki = { religion = mazdaki }
		adopt_faith_zurvanist = { religion = zurvanist }
		adopt_faith_manichean = { religion = manichean }
		adopt_faith_mandaean = { religion = mandaean }
		adopt_faith_yazidi = { religion = yazidi }
		adopt_faith_khurmazta = { religion = khurmazta }
		adopt_faith_jewish = { religion = jewish }
		adopt_faith_samaritan = { religion = samaritan }
		adopt_faith_karaite = { religion = karaite }
		adopt_faith_hindu = { religion = hindu }
		adopt_faith_buddhist = { religion = buddhist }
		adopt_faith_jain = { religion = jain }
		adopt_faith_taoist = { religion = taoist }
	}
	hidden_effect = {
		if = {
			limit = { has_flag = needs_fake_feudal_government }
			emf_set_theocracy_government_safe = yes
			clr_flag = needs_fake_feudal_government
		}
		if = {
			limit = { higher_real_tier_than = BARON }
			if = {
				limit = { real_tier = EMPEROR }
				religion_authority = { modifier = emperor_converted_to }
			}
			else_if = {
				limit = { real_tier = KING }
				religion_authority = { modifier = king_converted_to }
			}
			else_if = {
				limit = { real_tier = DUKE }
				religion_authority = { modifier = duke_converted_to }
			}
			else = {
				religion_authority = { modifier = count_converted_to }
			}
		}
	}
	abdicate_holy_order_if_religion_changes_effect = yes
	if = {
		limit = { has_flag = emf_tmp_check_for_christian_conversion }
		if = {
			limit = { religion_group = christian }
			set_character_flag = king_converted
		}
		clr_flag = emf_tmp_check_for_christian_conversion
	}
	if = {
		limit = {
			has_character_flag = king_converted
			NOT = { religion_group = christian }
		}
		clr_character_flag = king_converted
	}
	if = {
		limit = { has_dharmic_religion_trigger = yes }
		set_character_flag = india_converted
		trigger_switch = { # Choose branch
			on_trigger = religion
			hindu = { character_event = { id = RoI.110 } }
			buddhist = { character_event = { id = RoI.111 } }
			jain = { character_event = { id = RoI.112 } }
		}
	}
	else_if = {
		limit = { # Fast-track the decision to pick a pagan branch for the AI
			ai = yes
			OR = {
				has_religion_feature = religion_no_leader
				AND = {
					has_religion_features = no
					OR = {
						religion = west_african_pagan_reformed
						religion = bon_reformed
					}
				}
			}
			NOR = { 
				trait = pagan_branch_1
				trait = pagan_branch_2
				trait = pagan_branch_3 
				trait = pagan_branch_4
			}
		}
		hidden_tooltip = { character_event = { id = HF.23016 days = 20 random = 20 } }
	}
}

emf_sr_clr_adopt_faith_flag = {
	clr_flag = adopt_faith_catholic
	clr_flag = adopt_faith_cathar
	clr_flag = adopt_faith_fraticelli
	clr_flag = adopt_faith_waldensian
	clr_flag = adopt_faith_lollard
	clr_flag = adopt_faith_adoptionist
	clr_flag = adopt_faith_arian
	clr_flag = adopt_faith_orthodox
	clr_flag = adopt_faith_bogomilist
	clr_flag = adopt_faith_monothelite
	clr_flag = adopt_faith_iconoclast
	clr_flag = adopt_faith_syriac
	clr_flag = adopt_faith_maronite
	clr_flag = adopt_faith_miaphysite
	clr_flag = adopt_faith_monophysite
	clr_flag = adopt_faith_apostolic
	clr_flag = adopt_faith_paulician
	clr_flag = adopt_faith_tondrakian
	clr_flag = adopt_faith_nestorian
	clr_flag = adopt_faith_messalian
	clr_flag = adopt_faith_sunni
	clr_flag = adopt_faith_zikri
	clr_flag = adopt_faith_mahdiyya
	clr_flag = adopt_faith_nabawiyya
	clr_flag = adopt_faith_ibadi
	clr_flag = adopt_faith_kharijite
	clr_flag = adopt_faith_haruri
	clr_flag = adopt_faith_shiite
	clr_flag = adopt_faith_waqifi
	clr_flag = adopt_faith_zaydi
	clr_flag = adopt_faith_hurufi
	clr_flag = adopt_faith_ismaili
	clr_flag = adopt_faith_druze
	clr_flag = adopt_faith_qarmatian
	clr_flag = adopt_faith_norse_pagan_reformed
	clr_flag = adopt_faith_norse_pagan
	clr_flag = adopt_faith_tengri_pagan_reformed
	clr_flag = adopt_faith_tengri_pagan
	clr_flag = adopt_faith_baltic_pagan_reformed
	clr_flag = adopt_faith_baltic_pagan
	clr_flag = adopt_faith_finnish_pagan_reformed
	clr_flag = adopt_faith_finnish_pagan
	clr_flag = adopt_faith_aztec_reformed
	clr_flag = adopt_faith_aztec
	clr_flag = adopt_faith_slavic_pagan_reformed
	clr_flag = adopt_faith_slavic_pagan
	clr_flag = adopt_faith_west_african_pagan_reformed
	clr_flag = adopt_faith_west_african_pagan
	clr_flag = adopt_faith_zun_pagan_reformed
	clr_flag = adopt_faith_zun_pagan
	clr_flag = adopt_faith_hellenic_pagan_reformed
	clr_flag = adopt_faith_hellenic_pagan
	clr_flag = adopt_faith_bon_reformed
	clr_flag = adopt_faith_bon
	clr_flag = adopt_faith_zoroastrian
	clr_flag = adopt_faith_mazdaki
	clr_flag = adopt_faith_zurvanist
	clr_flag = adopt_faith_manichean
	clr_flag = adopt_faith_mandaean
	clr_flag = adopt_faith_yazidi
	clr_flag = adopt_faith_khurmazta
	clr_flag = adopt_faith_jewish
	clr_flag = adopt_faith_samaritan
	clr_flag = adopt_faith_karaite
	clr_flag = adopt_faith_hindu
	clr_flag = adopt_faith_buddhist
	clr_flag = adopt_faith_jain
	clr_flag = adopt_faith_taoist
}

# THIS = society member
emf_sr_set_prov_flip_char_flag_of_my_cult_on_ROOT = {
	trigger_switch = {
		on_trigger = society_member_of
		secret_religious_society_catholic = {
			ROOT = { set_flag = sr_catholic_prov_flip }
		}
		secret_religious_society_cathar = {
			ROOT = { set_flag = sr_cathar_prov_flip }
		}
		secret_religious_society_fraticelli = {
			ROOT = { set_flag = sr_fraticelli_prov_flip }
		}
		secret_religious_society_waldensian = {
			ROOT = { set_flag = sr_waldensian_prov_flip }
		}
		secret_religious_society_lollard = {
			ROOT = { set_flag = sr_lollard_prov_flip }
		}
		secret_religious_society_adoptionist = {
			ROOT = { set_flag = sr_adoptionist_prov_flip }
		}
		secret_religious_society_arian = {
			ROOT = { set_flag = sr_arian_prov_flip }
		}
		secret_religious_society_orthodox = {
			ROOT = { set_flag = sr_orthodox_prov_flip }
		}
		secret_religious_society_bogomilist = {
			ROOT = { set_flag = sr_bogomilist_prov_flip }
		}
		secret_religious_society_monothelite = {
			ROOT = { set_flag = sr_monothelite_prov_flip }
		}
		secret_religious_society_iconoclast = {
			ROOT = { set_flag = sr_iconoclast_prov_flip }
		}
		secret_religious_society_syriac = {
			ROOT = { set_flag = sr_syriac_prov_flip }
		}
		secret_religious_society_maronite = {
			ROOT = { set_flag = sr_maronite_prov_flip }
		}
		secret_religious_society_miaphysite = {
			ROOT = { set_flag = sr_miaphysite_prov_flip }
		}
		secret_religious_society_monophysite = {
			ROOT = { set_flag = sr_monophysite_prov_flip }
		}
		secret_religious_society_apostolic = {
			ROOT = { set_flag = sr_apostolic_prov_flip }
		}
		secret_religious_society_paulician = {
			ROOT = { set_flag = sr_paulician_prov_flip }
		}
		secret_religious_society_tondrakian = {
			ROOT = { set_flag = sr_tondrakian_prov_flip }
		}
		secret_religious_society_nestorian = {
			ROOT = { set_flag = sr_nestorian_prov_flip }
		}
		secret_religious_society_messalian = {
			ROOT = { set_flag = sr_messalian_prov_flip }
		}
		secret_religious_society_sunni = {
			ROOT = { set_flag = sr_sunni_prov_flip }
		}
		secret_religious_society_zikri = {
			ROOT = { set_flag = sr_zikri_prov_flip }
		}
		secret_religious_society_mahdiyya = {
			ROOT = { set_flag = sr_mahdiyya_prov_flip }
		}
		secret_religious_society_nabawiyya = {
			ROOT = { set_flag = sr_nabawiyya_prov_flip }
		}
		secret_religious_society_ibadi = {
			ROOT = { set_flag = sr_ibadi_prov_flip }
		}
		secret_religious_society_kharijite = {
			ROOT = { set_flag = sr_kharijite_prov_flip }
		}
		secret_religious_society_haruri = {
			ROOT = { set_flag = sr_haruri_prov_flip }
		}
		secret_religious_society_shiite = {
			ROOT = { set_flag = sr_shiite_prov_flip }
		}
		secret_religious_society_waqifi = {
			ROOT = { set_flag = sr_waqifi_prov_flip }
		}
		secret_religious_society_zaydi = {
			ROOT = { set_flag = sr_zaydi_prov_flip }
		}
		secret_religious_society_hurufi = {
			ROOT = { set_flag = sr_hurufi_prov_flip }
		}
		secret_religious_society_ismaili = {
			ROOT = { set_flag = sr_ismaili_prov_flip }
		}
		secret_religious_society_druze = {
			ROOT = { set_flag = sr_druze_prov_flip }
		}
		secret_religious_society_qarmatian = {
			ROOT = { set_flag = sr_qarmatian_prov_flip }
		}
		secret_religious_society_norse_pagan_reformed = {
			ROOT = { set_flag = sr_norse_pagan_reformed_prov_flip }
		}
		secret_religious_society_norse_pagan = {
			ROOT = { set_flag = sr_norse_pagan_prov_flip }
		}
		secret_religious_society_tengri_pagan_reformed = {
			ROOT = { set_flag = sr_tengri_pagan_reformed_prov_flip }
		}
		secret_religious_society_tengri_pagan = {
			ROOT = { set_flag = sr_tengri_pagan_prov_flip }
		}
		secret_religious_society_baltic_pagan_reformed = {
			ROOT = { set_flag = sr_baltic_pagan_reformed_prov_flip }
		}
		secret_religious_society_baltic_pagan = {
			ROOT = { set_flag = sr_baltic_pagan_prov_flip }
		}
		secret_religious_society_finnish_pagan_reformed = {
			ROOT = { set_flag = sr_finnish_pagan_reformed_prov_flip }
		}
		secret_religious_society_finnish_pagan = {
			ROOT = { set_flag = sr_finnish_pagan_prov_flip }
		}
		secret_religious_society_aztec_reformed = {
			ROOT = { set_flag = sr_aztec_reformed_prov_flip }
		}
		secret_religious_society_aztec = {
			ROOT = { set_flag = sr_aztec_prov_flip }
		}
		secret_religious_society_slavic_pagan_reformed = {
			ROOT = { set_flag = sr_slavic_pagan_reformed_prov_flip }
		}
		secret_religious_society_slavic_pagan = {
			ROOT = { set_flag = sr_slavic_pagan_prov_flip }
		}
		secret_religious_society_west_african_pagan_reformed = {
			ROOT = { set_flag = sr_west_african_pagan_reformed_prov_flip }
		}
		secret_religious_society_west_african_pagan = {
			ROOT = { set_flag = sr_west_african_pagan_prov_flip }
		}
		secret_religious_society_zun_pagan_reformed = {
			ROOT = { set_flag = sr_zun_pagan_reformed_prov_flip }
		}
		secret_religious_society_zun_pagan = {
			ROOT = { set_flag = sr_zun_pagan_prov_flip }
		}
		secret_religious_society_hellenic_pagan_reformed = {
			ROOT = { set_flag = sr_hellenic_pagan_reformed_prov_flip }
		}
		secret_religious_society_hellenic_pagan = {
			ROOT = { set_flag = sr_hellenic_pagan_prov_flip }
		}
		secret_religious_society_bon_reformed = {
			ROOT = { set_flag = sr_bon_reformed_prov_flip }
		}
		secret_religious_society_bon = {
			ROOT = { set_flag = sr_bon_prov_flip }
		}
		secret_religious_society_zoroastrian = {
			ROOT = { set_flag = sr_zoroastrian_prov_flip }
		}
		secret_religious_society_mazdaki = {
			ROOT = { set_flag = sr_mazdaki_prov_flip }
		}
		secret_religious_society_zurvanist = {
			ROOT = { set_flag = sr_zurvanist_prov_flip }
		}
		secret_religious_society_manichean = {
			ROOT = { set_flag = sr_manichean_prov_flip }
		}
		secret_religious_society_mandaean = {
			ROOT = { set_flag = sr_mandaean_prov_flip }
		}
		secret_religious_society_yazidi = {
			ROOT = { set_flag = sr_yazidi_prov_flip }
		}
		secret_religious_society_khurmazta = {
			ROOT = { set_flag = sr_khurmazta_prov_flip }
		}
		secret_religious_society_jewish = {
			ROOT = { set_flag = sr_jewish_prov_flip }
		}
		secret_religious_society_samaritan = {
			ROOT = { set_flag = sr_samaritan_prov_flip }
		}
		secret_religious_society_karaite = {
			ROOT = { set_flag = sr_karaite_prov_flip }
		}
		secret_religious_society_hindu = {
			ROOT = { set_flag = sr_hindu_prov_flip }
		}
		secret_religious_society_buddhist = {
			ROOT = { set_flag = sr_buddhist_prov_flip }
		}
		secret_religious_society_jain = {
			ROOT = { set_flag = sr_jain_prov_flip }
		}
		secret_religious_society_taoist = {
			ROOT = { set_flag = sr_taoist_prov_flip }
		}
	}
}

# THIS owns the provinces which may need flipping, and we base the flip on THIS's flag sr_X_prov_flip
emf_sr_flip_secret_community_provinces_by_prov_flip_char_flag = {
	trigger_switch = {
		on_trigger = has_flag
		sr_catholic_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_catholic_community }
				religion = catholic
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_catholic_community
			}
			clr_flag = sr_catholic_prov_flip
		}
		sr_cathar_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_cathar_community }
				religion = cathar
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_cathar_community
			}
			clr_flag = sr_cathar_prov_flip
		}
		sr_fraticelli_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_fraticelli_community }
				religion = fraticelli
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_fraticelli_community
			}
			clr_flag = sr_fraticelli_prov_flip
		}
		sr_waldensian_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_waldensian_community }
				religion = waldensian
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_waldensian_community
			}
			clr_flag = sr_waldensian_prov_flip
		}
		sr_lollard_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_lollard_community }
				religion = lollard
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_lollard_community
			}
			clr_flag = sr_lollard_prov_flip
		}
		sr_adoptionist_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_adoptionist_community }
				religion = adoptionist
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_adoptionist_community
			}
			clr_flag = sr_adoptionist_prov_flip
		}
		sr_arian_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_arian_community }
				religion = arian
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_arian_community
			}
			clr_flag = sr_arian_prov_flip
		}
		sr_orthodox_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_orthodox_community }
				religion = orthodox
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_orthodox_community
			}
			clr_flag = sr_orthodox_prov_flip
		}
		sr_bogomilist_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_bogomilist_community }
				religion = bogomilist
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_bogomilist_community
			}
			clr_flag = sr_bogomilist_prov_flip
		}
		sr_monothelite_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_monothelite_community }
				religion = monothelite
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_monothelite_community
			}
			clr_flag = sr_monothelite_prov_flip
		}
		sr_iconoclast_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_iconoclast_community }
				religion = iconoclast
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_iconoclast_community
			}
			clr_flag = sr_iconoclast_prov_flip
		}
		sr_syriac_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_syriac_community }
				religion = syriac
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_syriac_community
			}
			clr_flag = sr_syriac_prov_flip
		}
		sr_maronite_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_maronite_community }
				religion = maronite
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_maronite_community
			}
			clr_flag = sr_maronite_prov_flip
		}
		sr_miaphysite_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_miaphysite_community }
				religion = miaphysite
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_miaphysite_community
			}
			clr_flag = sr_miaphysite_prov_flip
		}
		sr_monophysite_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_monophysite_community }
				religion = monophysite
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_monophysite_community
			}
			clr_flag = sr_monophysite_prov_flip
		}
		sr_apostolic_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_apostolic_community }
				religion = apostolic
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_apostolic_community
			}
			clr_flag = sr_apostolic_prov_flip
		}
		sr_paulician_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_paulician_community }
				religion = paulician
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_paulician_community
			}
			clr_flag = sr_paulician_prov_flip
		}
		sr_tondrakian_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_tondrakian_community }
				religion = tondrakian
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_tondrakian_community
			}
			clr_flag = sr_tondrakian_prov_flip
		}
		sr_nestorian_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_nestorian_community }
				religion = nestorian
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_nestorian_community
			}
			clr_flag = sr_nestorian_prov_flip
		}
		sr_messalian_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_messalian_community }
				religion = messalian
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_messalian_community
			}
			clr_flag = sr_messalian_prov_flip
		}
		sr_sunni_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_sunni_community }
				religion = sunni
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_sunni_community
			}
			clr_flag = sr_sunni_prov_flip
		}
		sr_zikri_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zikri_community }
				religion = zikri
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_zikri_community
			}
			clr_flag = sr_zikri_prov_flip
		}
		sr_mahdiyya_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_mahdiyya_community }
				religion = mahdiyya
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_mahdiyya_community
			}
			clr_flag = sr_mahdiyya_prov_flip
		}
		sr_nabawiyya_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_nabawiyya_community }
				religion = nabawiyya
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_nabawiyya_community
			}
			clr_flag = sr_nabawiyya_prov_flip
		}
		sr_ibadi_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_ibadi_community }
				religion = ibadi
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_ibadi_community
			}
			clr_flag = sr_ibadi_prov_flip
		}
		sr_kharijite_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_kharijite_community }
				religion = kharijite
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_kharijite_community
			}
			clr_flag = sr_kharijite_prov_flip
		}
		sr_haruri_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_haruri_community }
				religion = haruri
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_haruri_community
			}
			clr_flag = sr_haruri_prov_flip
		}
		sr_shiite_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_shiite_community }
				religion = shiite
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_shiite_community
			}
			clr_flag = sr_shiite_prov_flip
		}
		sr_waqifi_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_waqifi_community }
				religion = waqifi
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_waqifi_community
			}
			clr_flag = sr_waqifi_prov_flip
		}
		sr_zaydi_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zaydi_community }
				religion = zaydi
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_zaydi_community
			}
			clr_flag = sr_zaydi_prov_flip
		}
		sr_hurufi_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_hurufi_community }
				religion = hurufi
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_hurufi_community
			}
			clr_flag = sr_hurufi_prov_flip
		}
		sr_ismaili_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_ismaili_community }
				religion = ismaili
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_ismaili_community
			}
			clr_flag = sr_ismaili_prov_flip
		}
		sr_druze_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_druze_community }
				religion = druze
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_druze_community
			}
			clr_flag = sr_druze_prov_flip
		}
		sr_qarmatian_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_qarmatian_community }
				religion = qarmatian
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_qarmatian_community
			}
			clr_flag = sr_qarmatian_prov_flip
		}
		sr_norse_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_norse_pagan_reformed_community }
				religion = norse_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_norse_pagan_reformed_community
			}
			clr_flag = sr_norse_pagan_reformed_prov_flip
		}
		sr_norse_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_norse_pagan_community }
				religion = norse_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_norse_pagan_community
			}
			clr_flag = sr_norse_pagan_prov_flip
		}
		sr_tengri_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_tengri_pagan_reformed_community }
				religion = tengri_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_tengri_pagan_reformed_community
			}
			clr_flag = sr_tengri_pagan_reformed_prov_flip
		}
		sr_tengri_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_tengri_pagan_community }
				religion = tengri_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_tengri_pagan_community
			}
			clr_flag = sr_tengri_pagan_prov_flip
		}
		sr_baltic_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_baltic_pagan_reformed_community }
				religion = baltic_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_baltic_pagan_reformed_community
			}
			clr_flag = sr_baltic_pagan_reformed_prov_flip
		}
		sr_baltic_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_baltic_pagan_community }
				religion = baltic_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_baltic_pagan_community
			}
			clr_flag = sr_baltic_pagan_prov_flip
		}
		sr_finnish_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_finnish_pagan_reformed_community }
				religion = finnish_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_finnish_pagan_reformed_community
			}
			clr_flag = sr_finnish_pagan_reformed_prov_flip
		}
		sr_finnish_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_finnish_pagan_community }
				religion = finnish_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_finnish_pagan_community
			}
			clr_flag = sr_finnish_pagan_prov_flip
		}
		sr_aztec_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_aztec_reformed_community }
				religion = aztec_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_aztec_reformed_community
			}
			clr_flag = sr_aztec_reformed_prov_flip
		}
		sr_aztec_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_aztec_community }
				religion = aztec
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_aztec_community
			}
			clr_flag = sr_aztec_prov_flip
		}
		sr_slavic_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_slavic_pagan_reformed_community }
				religion = slavic_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_slavic_pagan_reformed_community
			}
			clr_flag = sr_slavic_pagan_reformed_prov_flip
		}
		sr_slavic_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_slavic_pagan_community }
				religion = slavic_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_slavic_pagan_community
			}
			clr_flag = sr_slavic_pagan_prov_flip
		}
		sr_west_african_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_west_african_pagan_reformed_community }
				religion = west_african_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_west_african_pagan_reformed_community
			}
			clr_flag = sr_west_african_pagan_reformed_prov_flip
		}
		sr_west_african_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_west_african_pagan_community }
				religion = west_african_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_west_african_pagan_community
			}
			clr_flag = sr_west_african_pagan_prov_flip
		}
		sr_zun_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zun_pagan_reformed_community }
				religion = zun_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_zun_pagan_reformed_community
			}
			clr_flag = sr_zun_pagan_reformed_prov_flip
		}
		sr_zun_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zun_pagan_community }
				religion = zun_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_zun_pagan_community
			}
			clr_flag = sr_zun_pagan_prov_flip
		}
		sr_hellenic_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_hellenic_pagan_reformed_community }
				religion = hellenic_pagan_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_hellenic_pagan_reformed_community
			}
			clr_flag = sr_hellenic_pagan_reformed_prov_flip
		}
		sr_hellenic_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_hellenic_pagan_community }
				religion = hellenic_pagan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_hellenic_pagan_community
			}
			clr_flag = sr_hellenic_pagan_prov_flip
		}
		sr_bon_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_bon_reformed_community }
				religion = bon_reformed
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_bon_reformed_community
			}
			clr_flag = sr_bon_reformed_prov_flip
		}
		sr_bon_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_bon_community }
				religion = bon
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_bon_community
			}
			clr_flag = sr_bon_prov_flip
		}
		sr_zoroastrian_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zoroastrian_community }
				religion = zoroastrian
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_zoroastrian_community
			}
			clr_flag = sr_zoroastrian_prov_flip
		}
		sr_mazdaki_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_mazdaki_community }
				religion = mazdaki
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_mazdaki_community
			}
			clr_flag = sr_mazdaki_prov_flip
		}
		sr_zurvanist_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zurvanist_community }
				religion = zurvanist
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_zurvanist_community
			}
			clr_flag = sr_zurvanist_prov_flip
		}
		sr_manichean_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_manichean_community }
				religion = manichean
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_manichean_community
			}
			clr_flag = sr_manichean_prov_flip
		}
		sr_mandaean_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_mandaean_community }
				religion = mandaean
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_mandaean_community
			}
			clr_flag = sr_mandaean_prov_flip
		}
		sr_yazidi_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_yazidi_community }
				religion = yazidi
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_yazidi_community
			}
			clr_flag = sr_yazidi_prov_flip
		}
		sr_khurmazta_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_khurmazta_community }
				religion = khurmazta
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_khurmazta_community
			}
			clr_flag = sr_khurmazta_prov_flip
		}
		sr_jewish_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_jewish_community }
				religion = jewish
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_jewish_community
			}
			clr_flag = sr_jewish_prov_flip
		}
		sr_samaritan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_samaritan_community }
				religion = samaritan
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_samaritan_community
			}
			clr_flag = sr_samaritan_prov_flip
		}
		sr_karaite_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_karaite_community }
				religion = karaite
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_karaite_community
			}
			clr_flag = sr_karaite_prov_flip
		}
		sr_hindu_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_hindu_community }
				religion = hindu
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_hindu_community
			}
			clr_flag = sr_hindu_prov_flip
		}
		sr_buddhist_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_buddhist_community }
				religion = buddhist
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_buddhist_community
			}
			clr_flag = sr_buddhist_prov_flip
		}
		sr_jain_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_jain_community }
				religion = jain
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_jain_community
			}
			clr_flag = sr_jain_prov_flip
		}
		sr_taoist_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_taoist_community }
				religion = taoist
				religion_authority = {
					modifier = province_converted_to
					years = 5
				}
				remove_province_modifier = secret_taoist_community
			}
			clr_flag = sr_taoist_prov_flip
		}
	}
}

# THIS's secret religion determines which type of secret community to add to event_target:target_province
emf_sr_add_secret_community_to_target_province = {
	trigger_switch = {
		on_trigger = secret_religion
		catholic = {
			event_target:target_province = {
				add_province_modifier = { name = secret_catholic_community duration = -1 }
			}
		}
		cathar = {
			event_target:target_province = {
				add_province_modifier = { name = secret_cathar_community duration = -1 }
			}
		}
		fraticelli = {
			event_target:target_province = {
				add_province_modifier = { name = secret_fraticelli_community duration = -1 }
			}
		}
		waldensian = {
			event_target:target_province = {
				add_province_modifier = { name = secret_waldensian_community duration = -1 }
			}
		}
		lollard = {
			event_target:target_province = {
				add_province_modifier = { name = secret_lollard_community duration = -1 }
			}
		}
		adoptionist = {
			event_target:target_province = {
				add_province_modifier = { name = secret_adoptionist_community duration = -1 }
			}
		}
		arian = {
			event_target:target_province = {
				add_province_modifier = { name = secret_arian_community duration = -1 }
			}
		}
		orthodox = {
			event_target:target_province = {
				add_province_modifier = { name = secret_orthodox_community duration = -1 }
			}
		}
		bogomilist = {
			event_target:target_province = {
				add_province_modifier = { name = secret_bogomilist_community duration = -1 }
			}
		}
		monothelite = {
			event_target:target_province = {
				add_province_modifier = { name = secret_monothelite_community duration = -1 }
			}
		}
		iconoclast = {
			event_target:target_province = {
				add_province_modifier = { name = secret_iconoclast_community duration = -1 }
			}
		}
		syriac = {
			event_target:target_province = {
				add_province_modifier = { name = secret_syriac_community duration = -1 }
			}
		}
		maronite = {
			event_target:target_province = {
				add_province_modifier = { name = secret_maronite_community duration = -1 }
			}
		}
		miaphysite = {
			event_target:target_province = {
				add_province_modifier = { name = secret_miaphysite_community duration = -1 }
			}
		}
		monophysite = {
			event_target:target_province = {
				add_province_modifier = { name = secret_monophysite_community duration = -1 }
			}
		}
		apostolic = {
			event_target:target_province = {
				add_province_modifier = { name = secret_apostolic_community duration = -1 }
			}
		}
		paulician = {
			event_target:target_province = {
				add_province_modifier = { name = secret_paulician_community duration = -1 }
			}
		}
		tondrakian = {
			event_target:target_province = {
				add_province_modifier = { name = secret_tondrakian_community duration = -1 }
			}
		}
		nestorian = {
			event_target:target_province = {
				add_province_modifier = { name = secret_nestorian_community duration = -1 }
			}
		}
		messalian = {
			event_target:target_province = {
				add_province_modifier = { name = secret_messalian_community duration = -1 }
			}
		}
		sunni = {
			event_target:target_province = {
				add_province_modifier = { name = secret_sunni_community duration = -1 }
			}
		}
		zikri = {
			event_target:target_province = {
				add_province_modifier = { name = secret_zikri_community duration = -1 }
			}
		}
		mahdiyya = {
			event_target:target_province = {
				add_province_modifier = { name = secret_mahdiyya_community duration = -1 }
			}
		}
		nabawiyya = {
			event_target:target_province = {
				add_province_modifier = { name = secret_nabawiyya_community duration = -1 }
			}
		}
		ibadi = {
			event_target:target_province = {
				add_province_modifier = { name = secret_ibadi_community duration = -1 }
			}
		}
		kharijite = {
			event_target:target_province = {
				add_province_modifier = { name = secret_kharijite_community duration = -1 }
			}
		}
		haruri = {
			event_target:target_province = {
				add_province_modifier = { name = secret_haruri_community duration = -1 }
			}
		}
		shiite = {
			event_target:target_province = {
				add_province_modifier = { name = secret_shiite_community duration = -1 }
			}
		}
		waqifi = {
			event_target:target_province = {
				add_province_modifier = { name = secret_waqifi_community duration = -1 }
			}
		}
		zaydi = {
			event_target:target_province = {
				add_province_modifier = { name = secret_zaydi_community duration = -1 }
			}
		}
		hurufi = {
			event_target:target_province = {
				add_province_modifier = { name = secret_hurufi_community duration = -1 }
			}
		}
		ismaili = {
			event_target:target_province = {
				add_province_modifier = { name = secret_ismaili_community duration = -1 }
			}
		}
		druze = {
			event_target:target_province = {
				add_province_modifier = { name = secret_druze_community duration = -1 }
			}
		}
		qarmatian = {
			event_target:target_province = {
				add_province_modifier = { name = secret_qarmatian_community duration = -1 }
			}
		}
		norse_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_norse_pagan_reformed_community duration = -1 }
			}
		}
		norse_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_norse_pagan_community duration = -1 }
			}
		}
		tengri_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_tengri_pagan_reformed_community duration = -1 }
			}
		}
		tengri_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_tengri_pagan_community duration = -1 }
			}
		}
		baltic_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_baltic_pagan_reformed_community duration = -1 }
			}
		}
		baltic_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_baltic_pagan_community duration = -1 }
			}
		}
		finnish_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_finnish_pagan_reformed_community duration = -1 }
			}
		}
		finnish_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_finnish_pagan_community duration = -1 }
			}
		}
		aztec_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_aztec_reformed_community duration = -1 }
			}
		}
		aztec = {
			event_target:target_province = {
				add_province_modifier = { name = secret_aztec_community duration = -1 }
			}
		}
		slavic_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_slavic_pagan_reformed_community duration = -1 }
			}
		}
		slavic_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_slavic_pagan_community duration = -1 }
			}
		}
		west_african_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_west_african_pagan_reformed_community duration = -1 }
			}
		}
		west_african_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_west_african_pagan_community duration = -1 }
			}
		}
		zun_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_zun_pagan_reformed_community duration = -1 }
			}
		}
		zun_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_zun_pagan_community duration = -1 }
			}
		}
		hellenic_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_hellenic_pagan_reformed_community duration = -1 }
			}
		}
		hellenic_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_hellenic_pagan_community duration = -1 }
			}
		}
		bon_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_bon_reformed_community duration = -1 }
			}
		}
		bon = {
			event_target:target_province = {
				add_province_modifier = { name = secret_bon_community duration = -1 }
			}
		}
		zoroastrian = {
			event_target:target_province = {
				add_province_modifier = { name = secret_zoroastrian_community duration = -1 }
			}
		}
		mazdaki = {
			event_target:target_province = {
				add_province_modifier = { name = secret_mazdaki_community duration = -1 }
			}
		}
		zurvanist = {
			event_target:target_province = {
				add_province_modifier = { name = secret_zurvanist_community duration = -1 }
			}
		}
		manichean = {
			event_target:target_province = {
				add_province_modifier = { name = secret_manichean_community duration = -1 }
			}
		}
		mandaean = {
			event_target:target_province = {
				add_province_modifier = { name = secret_mandaean_community duration = -1 }
			}
		}
		yazidi = {
			event_target:target_province = {
				add_province_modifier = { name = secret_yazidi_community duration = -1 }
			}
		}
		khurmazta = {
			event_target:target_province = {
				add_province_modifier = { name = secret_khurmazta_community duration = -1 }
			}
		}
		jewish = {
			event_target:target_province = {
				add_province_modifier = { name = secret_jewish_community duration = -1 }
			}
		}
		samaritan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_samaritan_community duration = -1 }
			}
		}
		karaite = {
			event_target:target_province = {
				add_province_modifier = { name = secret_karaite_community duration = -1 }
			}
		}
		hindu = {
			event_target:target_province = {
				add_province_modifier = { name = secret_hindu_community duration = -1 }
			}
		}
		buddhist = {
			event_target:target_province = {
				add_province_modifier = { name = secret_buddhist_community duration = -1 }
			}
		}
		jain = {
			event_target:target_province = {
				add_province_modifier = { name = secret_jain_community duration = -1 }
			}
		}
		taoist = {
			event_target:target_province = {
				add_province_modifier = { name = secret_taoist_community duration = -1 }
			}
		}
	}
}

# contains most of the implementation of vanilla event MNM.10031, except with support for joining all
# secret religious cults (vanilla only supported a select few)
emf_sr_ai_try_to_join_society = {
	random_list = {
		700 = { } # Fall back dead weight
		100 = {
			trigger = {
				can_join_society = monastic_order_benedictine
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = gardener
					trait = monk
					trait = nun
					learning = 16
					is_priest = yes
				}
			}
			modifier = {
				factor = 2
				monastic_order_benedictine = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				monastic_order_benedictine = { num_of_society_members < 10 }
			}
			join_society = monastic_order_benedictine
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = monastic_order_dominican
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = gardener
					trait = monk
					trait = nun
					learning = 16
					is_priest = yes
				}
			}
			modifier = {
				factor = 2
				monastic_order_dominican = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				monastic_order_dominican = { num_of_society_members < 10 }
			}
			join_society = monastic_order_dominican
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = monastic_order_orthodox
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = gardener
					trait = monk
					trait = nun
					learning = 16
					is_priest = yes
				}
			}
			modifier = {
				factor = 2
				monastic_order_orthodox = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				monastic_order_orthodox = { num_of_society_members < 10 }
			}
			join_society = monastic_order_orthodox
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = monastic_order_nestorian
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = gardener
					trait = monk
					trait = nun
					learning = 16
					is_priest = yes
				}
			}
			modifier = {
				factor = 2
				monastic_order_nestorian = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				monastic_order_nestorian = { num_of_society_members < 10 }
			}
			join_society = monastic_order_nestorian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = monastic_order_monophysite
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = gardener
					trait = monk
					trait = nun
					learning = 16
					is_priest = yes
				}
			}
			modifier = {
				factor = 2
				monastic_order_monophysite = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				monastic_order_monophysite = { num_of_society_members < 10 }
			}
			join_society = monastic_order_monophysite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = monastic_order_hindu
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = brahmin
					learning = 16
					is_priest = yes
				}
			}
			modifier = {
				factor = 2
				monastic_order_hindu = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				monastic_order_hindu = { num_of_society_members < 10 }
			}
			join_society = monastic_order_hindu
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = monastic_order_buddhist
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = brahmin
					learning = 16
					is_priest = yes
				}
			}
			modifier = {
				factor = 2
				monastic_order_buddhist = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				monastic_order_buddhist = { num_of_society_members < 10 }
			}
			join_society = monastic_order_buddhist
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = monastic_order_jain
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = brahmin
					learning = 16
					is_priest = yes
				}
			}
			modifier = {
				factor = 2
				monastic_order_jain = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				monastic_order_jain = { num_of_society_members < 10 }
			}
			join_society = monastic_order_jain
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = monastic_order_stoics
			}
			modifier = {
				factor = 3
				OR = {
					trait = erudite
					trait = scholar
					trait = theologian
					trait = diligent
					learning = 16
				}
			}
			modifier = {
				factor = 2
				monastic_order_stoics = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				monastic_order_stoics = { num_of_society_members < 10 }
			}
			join_society = monastic_order_stoics
			random_list = { # Artificially increase society influence for balance purposes
				75 = {
					modifier = {
						factor = 0
						society_influence >= 30
					}
					add_mission_succeed_influence_effect = yes
				}
				25 = {
				}
			}
			if = {
				limit = {
					NOT = {
						society = {
							any_society_member = {
								is_society_grandmaster = yes
							}
						}
					}
				}
				set_society_grandmaster = yes
			}
		}
		150 = {
			trigger = {
				can_join_society = hermetics
			}
			modifier = {
				factor = 5
				is_dumb_trigger = no
				OR = {
					learning = 12
					trait = scholar
					trait = erudite
					trait = genius
					trait = mystic
				}
			}
			modifier = {
				factor = 0
				is_landed = no
				is_patrician = no
			}
			join_society = hermetics
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = the_assassins
			}
			modifier = {
				factor = 0.5
				is_landed = no
				is_patrician = no
			}
			modifier = {
				factor = 2
				OR = {
					is_landed = yes
					is_patrician = yes
				}
			}
			modifier = {
				factor = 5
				NOT = { trait = decadent }
				OR = {
					trait = zealous
					trait = schemer
					trait = elusive_shadow
					trait = deceitful
					trait = ambitious
					intrigue = 18
				}
			}
			join_society = the_assassins
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		50 = {
			trigger = {
				can_join_society = the_satanists
			}
			modifier = {
				factor = 5
				OR = {
					has_impious_trait_trigger = yes
					has_vice_trigger = yes
					trait = drunkard
					trait = possessed
					trait = lunatic
				}
			}
			modifier = {
				factor = 2
				the_satanists = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				the_satanists = { num_of_society_members < 10 }
			}
			join_society = the_satanists
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		50 = {
			trigger = {
				can_join_society = the_trollcrafters
			}
			modifier = {
				factor = 5
				OR = {
					has_impious_trait_trigger = yes
					has_vice_trigger = yes
					trait = drunkard
					trait = possessed
					trait = lunatic
				}
			}
			modifier = {
				factor = 2
				the_trollcrafters = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				the_trollcrafters = { num_of_society_members < 10 }
			}
			join_society = the_trollcrafters
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		50 = {
			trigger = {
				can_join_society = the_cult_of_kali
			}
			modifier = {
				factor = 5
				OR = {
					has_impious_trait_trigger = yes
					has_vice_trigger = yes
					trait = drunkard
					trait = possessed
					trait = lunatic
				}
			}
			modifier = {
				factor = 2
				the_cult_of_kali = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				the_cult_of_kali = { num_of_society_members < 10 }
			}
			join_society = the_cult_of_kali
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		50 = {
			trigger = {
				can_join_society = the_cold_ones
			}
			modifier = {
				factor = 5
				OR = {
					has_impious_trait_trigger = yes
					has_vice_trigger = yes
					trait = drunkard
					trait = possessed
					trait = lunatic
				}
			}
			modifier = {
				factor = 2
				the_cold_ones = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				the_cold_ones = { num_of_society_members < 10 }
			}
			join_society = the_cold_ones
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		50 = {
			trigger = {
				can_join_society = the_plaguebringers
			}
			modifier = {
				factor = 5
				OR = {
					has_impious_trait_trigger = yes
					has_vice_trigger = yes
					trait = drunkard
					trait = possessed
					trait = lunatic
				}
			}
			modifier = {
				factor = 2
				the_plaguebringers = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				the_plaguebringers = { num_of_society_members < 10 }
			}
			join_society = the_plaguebringers
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		50 = {
			trigger = {
				can_join_society = the_vodouns
			}
			modifier = {
				factor = 5
				OR = {
					has_impious_trait_trigger = yes
					has_vice_trigger = yes
					trait = drunkard
					trait = possessed
					trait = lunatic
				}
			}
			modifier = {
				factor = 2
				the_vodouns = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				the_vodouns = { num_of_society_members < 10 }
			}
			join_society = the_vodouns
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		50 = {
			trigger = {
				can_join_society = the_bacchants
			}
			modifier = {
				factor = 5
				OR = {
					has_impious_trait_trigger = yes
					has_vice_trigger = yes
					trait = drunkard
					trait = possessed
					trait = lunatic
				}
			}
			modifier = {
				factor = 2
				the_bacchants = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				the_bacchants = { num_of_society_members < 10 }
			}
			join_society = the_bacchants
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		50 = {
			trigger = {
				can_join_society = followers_of_ahuiateteo
			}
			modifier = {
				factor = 5
				OR = {
					has_impious_trait_trigger = yes
					has_vice_trigger = yes
					trait = drunkard
					trait = possessed
					trait = lunatic
				}
			}
			modifier = {
				factor = 2
				followers_of_ahuiateteo = { num_of_society_members < 15 }
			}
			modifier = {
				factor = 2
				followers_of_ahuiateteo = { num_of_society_members < 10 }
			}
			join_society = followers_of_ahuiateteo
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_catholic }
			join_society = secret_religious_society_catholic
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_cathar }
			join_society = secret_religious_society_cathar
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_fraticelli }
			join_society = secret_religious_society_fraticelli
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_waldensian }
			join_society = secret_religious_society_waldensian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_lollard }
			join_society = secret_religious_society_lollard
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_adoptionist }
			join_society = secret_religious_society_adoptionist
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_arian }
			join_society = secret_religious_society_arian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_orthodox }
			join_society = secret_religious_society_orthodox
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_bogomilist }
			join_society = secret_religious_society_bogomilist
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_monothelite }
			join_society = secret_religious_society_monothelite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_iconoclast }
			join_society = secret_religious_society_iconoclast
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_syriac }
			join_society = secret_religious_society_syriac
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_maronite }
			join_society = secret_religious_society_maronite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_miaphysite }
			join_society = secret_religious_society_miaphysite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_monophysite }
			join_society = secret_religious_society_monophysite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_apostolic }
			join_society = secret_religious_society_apostolic
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_paulician }
			join_society = secret_religious_society_paulician
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_tondrakian }
			join_society = secret_religious_society_tondrakian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_nestorian }
			join_society = secret_religious_society_nestorian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_messalian }
			join_society = secret_religious_society_messalian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_sunni }
			join_society = secret_religious_society_sunni
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_zikri }
			join_society = secret_religious_society_zikri
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_mahdiyya }
			join_society = secret_religious_society_mahdiyya
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_nabawiyya }
			join_society = secret_religious_society_nabawiyya
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_ibadi }
			join_society = secret_religious_society_ibadi
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_kharijite }
			join_society = secret_religious_society_kharijite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_haruri }
			join_society = secret_religious_society_haruri
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_shiite }
			join_society = secret_religious_society_shiite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_waqifi }
			join_society = secret_religious_society_waqifi
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_zaydi }
			join_society = secret_religious_society_zaydi
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_hurufi }
			join_society = secret_religious_society_hurufi
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_ismaili }
			join_society = secret_religious_society_ismaili
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_druze }
			join_society = secret_religious_society_druze
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_qarmatian }
			join_society = secret_religious_society_qarmatian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_norse_pagan_reformed }
			join_society = secret_religious_society_norse_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_norse_pagan }
			join_society = secret_religious_society_norse_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_tengri_pagan_reformed }
			join_society = secret_religious_society_tengri_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_tengri_pagan }
			join_society = secret_religious_society_tengri_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_baltic_pagan_reformed }
			join_society = secret_religious_society_baltic_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_baltic_pagan }
			join_society = secret_religious_society_baltic_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_finnish_pagan_reformed }
			join_society = secret_religious_society_finnish_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_finnish_pagan }
			join_society = secret_religious_society_finnish_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_aztec_reformed }
			join_society = secret_religious_society_aztec_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_aztec }
			join_society = secret_religious_society_aztec
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_slavic_pagan_reformed }
			join_society = secret_religious_society_slavic_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_slavic_pagan }
			join_society = secret_religious_society_slavic_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_west_african_pagan_reformed }
			join_society = secret_religious_society_west_african_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_west_african_pagan }
			join_society = secret_religious_society_west_african_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_zun_pagan_reformed }
			join_society = secret_religious_society_zun_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_zun_pagan }
			join_society = secret_religious_society_zun_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_hellenic_pagan_reformed }
			join_society = secret_religious_society_hellenic_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_hellenic_pagan }
			join_society = secret_religious_society_hellenic_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_bon_reformed }
			join_society = secret_religious_society_bon_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_bon }
			join_society = secret_religious_society_bon
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_zoroastrian }
			join_society = secret_religious_society_zoroastrian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_mazdaki }
			join_society = secret_religious_society_mazdaki
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_zurvanist }
			join_society = secret_religious_society_zurvanist
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_manichean }
			join_society = secret_religious_society_manichean
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_mandaean }
			join_society = secret_religious_society_mandaean
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_yazidi }
			join_society = secret_religious_society_yazidi
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_khurmazta }
			join_society = secret_religious_society_khurmazta
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_jewish }
			join_society = secret_religious_society_jewish
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_samaritan }
			join_society = secret_religious_society_samaritan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_karaite }
			join_society = secret_religious_society_karaite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_hindu }
			join_society = secret_religious_society_hindu
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_buddhist }
			join_society = secret_religious_society_buddhist
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_jain }
			join_society = secret_religious_society_jain
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = { can_join_society = secret_religious_society_taoist }
			join_society = secret_religious_society_taoist
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
	}
}
