# -*- ck2.scripted_effects -*-

################################################################################
# WARNING: Do NOT modify this file manually!
#
# This file is code-generated and used as a part of the implementation for the
# secret religion (SR) feature which first appeared in CKII v2.7.0.
#
# Generated by src/sr_codegen.py on: 2017-04-25
################################################################################


emf_sr_set_sr_and_clr_religion_char_flag = {
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_catholic
				AND = {
					religion = catholic
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = catholic
		clr_character_flag = character_was_catholic
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_cathar
				AND = {
					religion = cathar
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = cathar
		clr_character_flag = character_was_cathar
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_fraticelli
				AND = {
					religion = fraticelli
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = fraticelli
		clr_character_flag = character_was_fraticelli
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_waldensian
				AND = {
					religion = waldensian
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = waldensian
		clr_character_flag = character_was_waldensian
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_lollard
				AND = {
					religion = lollard
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = lollard
		clr_character_flag = character_was_lollard
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_adoptionist
				AND = {
					religion = adoptionist
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = adoptionist
		clr_character_flag = character_was_adoptionist
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_arian
				AND = {
					religion = arian
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = arian
		clr_character_flag = character_was_arian
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_orthodox
				AND = {
					religion = orthodox
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = orthodox
		clr_character_flag = character_was_orthodox
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_bogomilist
				AND = {
					religion = bogomilist
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = bogomilist
		clr_character_flag = character_was_bogomilist
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_monothelite
				AND = {
					religion = monothelite
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = monothelite
		clr_character_flag = character_was_monothelite
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_iconoclast
				AND = {
					religion = iconoclast
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = iconoclast
		clr_character_flag = character_was_iconoclast
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_syriac
				AND = {
					religion = syriac
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = syriac
		clr_character_flag = character_was_syriac
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_maronite
				AND = {
					religion = maronite
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = maronite
		clr_character_flag = character_was_maronite
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_miaphysite
				AND = {
					religion = miaphysite
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = miaphysite
		clr_character_flag = character_was_miaphysite
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_monophysite
				AND = {
					religion = monophysite
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = monophysite
		clr_character_flag = character_was_monophysite
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_apostolic
				AND = {
					religion = apostolic
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = apostolic
		clr_character_flag = character_was_apostolic
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_paulician
				AND = {
					religion = paulician
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = paulician
		clr_character_flag = character_was_paulician
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_tondrakian
				AND = {
					religion = tondrakian
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = tondrakian
		clr_character_flag = character_was_tondrakian
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_nestorian
				AND = {
					religion = nestorian
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = nestorian
		clr_character_flag = character_was_nestorian
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_messalian
				AND = {
					religion = messalian
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = messalian
		clr_character_flag = character_was_messalian
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_sunni
				AND = {
					religion = sunni
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = sunni
		clr_character_flag = character_was_sunni
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_zikri
				AND = {
					religion = zikri
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = zikri
		clr_character_flag = character_was_zikri
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_mahdiyya
				AND = {
					religion = mahdiyya
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = mahdiyya
		clr_character_flag = character_was_mahdiyya
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_nabawiyya
				AND = {
					religion = nabawiyya
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = nabawiyya
		clr_character_flag = character_was_nabawiyya
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_ibadi
				AND = {
					religion = ibadi
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = ibadi
		clr_character_flag = character_was_ibadi
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_kharijite
				AND = {
					religion = kharijite
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = kharijite
		clr_character_flag = character_was_kharijite
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_haruri
				AND = {
					religion = haruri
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = haruri
		clr_character_flag = character_was_haruri
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_shiite
				AND = {
					religion = shiite
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = shiite
		clr_character_flag = character_was_shiite
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_waqifi
				AND = {
					religion = waqifi
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = waqifi
		clr_character_flag = character_was_waqifi
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_zaydi
				AND = {
					religion = zaydi
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = zaydi
		clr_character_flag = character_was_zaydi
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_hurufi
				AND = {
					religion = hurufi
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = hurufi
		clr_character_flag = character_was_hurufi
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_ismaili
				AND = {
					religion = ismaili
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = ismaili
		clr_character_flag = character_was_ismaili
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_druze
				AND = {
					religion = druze
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = druze
		clr_character_flag = character_was_druze
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_qarmatian
				AND = {
					religion = qarmatian
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = qarmatian
		clr_character_flag = character_was_qarmatian
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_norse_pagan_reformed
				AND = {
					religion = norse_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = norse_pagan_reformed
		clr_character_flag = character_was_norse_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_norse_pagan
				AND = {
					religion = norse_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = norse_pagan
		clr_character_flag = character_was_norse_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_tengri_pagan_reformed
				AND = {
					religion = tengri_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = tengri_pagan_reformed
		clr_character_flag = character_was_tengri_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_tengri_pagan
				AND = {
					religion = tengri_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = tengri_pagan
		clr_character_flag = character_was_tengri_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_baltic_pagan_reformed
				AND = {
					religion = baltic_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = baltic_pagan_reformed
		clr_character_flag = character_was_baltic_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_baltic_pagan
				AND = {
					religion = baltic_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = baltic_pagan
		clr_character_flag = character_was_baltic_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_finnish_pagan_reformed
				AND = {
					religion = finnish_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = finnish_pagan_reformed
		clr_character_flag = character_was_finnish_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_finnish_pagan
				AND = {
					religion = finnish_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = finnish_pagan
		clr_character_flag = character_was_finnish_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_aztec_reformed
				AND = {
					religion = aztec_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = aztec_reformed
		clr_character_flag = character_was_aztec_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_aztec
				AND = {
					religion = aztec
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = aztec
		clr_character_flag = character_was_aztec
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_slavic_pagan_reformed
				AND = {
					religion = slavic_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = slavic_pagan_reformed
		clr_character_flag = character_was_slavic_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_slavic_pagan
				AND = {
					religion = slavic_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = slavic_pagan
		clr_character_flag = character_was_slavic_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_west_african_pagan_reformed
				AND = {
					religion = west_african_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = west_african_pagan_reformed
		clr_character_flag = character_was_west_african_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_west_african_pagan
				AND = {
					religion = west_african_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = west_african_pagan
		clr_character_flag = character_was_west_african_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_east_african_pagan_reformed
				AND = {
					religion = east_african_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = east_african_pagan_reformed
		clr_character_flag = character_was_east_african_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_east_african_pagan
				AND = {
					religion = east_african_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = east_african_pagan
		clr_character_flag = character_was_east_african_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_zun_pagan_reformed
				AND = {
					religion = zun_pagan_reformed
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = zun_pagan_reformed
		clr_character_flag = character_was_zun_pagan_reformed
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_zun_pagan
				AND = {
					religion = zun_pagan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = zun_pagan
		clr_character_flag = character_was_zun_pagan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_zoroastrian
				AND = {
					religion = zoroastrian
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = zoroastrian
		clr_character_flag = character_was_zoroastrian
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_mazdaki
				AND = {
					religion = mazdaki
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = mazdaki
		clr_character_flag = character_was_mazdaki
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_zurvanist
				AND = {
					religion = zurvanist
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = zurvanist
		clr_character_flag = character_was_zurvanist
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_manichean
				AND = {
					religion = manichean
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = manichean
		clr_character_flag = character_was_manichean
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_mandaean
				AND = {
					religion = mandaean
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = mandaean
		clr_character_flag = character_was_mandaean
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_yazidi
				AND = {
					religion = yazidi
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = yazidi
		clr_character_flag = character_was_yazidi
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_jewish
				AND = {
					religion = jewish
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = jewish
		clr_character_flag = character_was_jewish
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_samaritan
				AND = {
					religion = samaritan
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = samaritan
		clr_character_flag = character_was_samaritan
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_karaite
				AND = {
					religion = karaite
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = karaite
		clr_character_flag = character_was_karaite
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_hindu
				AND = {
					religion = hindu
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = hindu
		clr_character_flag = character_was_hindu
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_buddhist
				AND = {
					religion = buddhist
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = buddhist
		clr_character_flag = character_was_buddhist
		break = yes
	}
	if = {
		limit = {
			OR = {
				has_character_flag = character_was_jain
				AND = {
					religion = jain
					emf_sr_has_any_religion_char_flag = no
				}
			}
		}
		set_secret_religion = jain
		clr_character_flag = character_was_jain
		break = yes
	}
}

emf_sr_add_religion_char_flag = {
	trigger_switch = {
		on_trigger = religion
		catholic = { set_character_flag = character_was_catholic }
		cathar = { set_character_flag = character_was_cathar }
		fraticelli = { set_character_flag = character_was_fraticelli }
		waldensian = { set_character_flag = character_was_waldensian }
		lollard = { set_character_flag = character_was_lollard }
		adoptionist = { set_character_flag = character_was_adoptionist }
		arian = { set_character_flag = character_was_arian }
		orthodox = { set_character_flag = character_was_orthodox }
		bogomilist = { set_character_flag = character_was_bogomilist }
		monothelite = { set_character_flag = character_was_monothelite }
		iconoclast = { set_character_flag = character_was_iconoclast }
		syriac = { set_character_flag = character_was_syriac }
		maronite = { set_character_flag = character_was_maronite }
		miaphysite = { set_character_flag = character_was_miaphysite }
		monophysite = { set_character_flag = character_was_monophysite }
		apostolic = { set_character_flag = character_was_apostolic }
		paulician = { set_character_flag = character_was_paulician }
		tondrakian = { set_character_flag = character_was_tondrakian }
		nestorian = { set_character_flag = character_was_nestorian }
		messalian = { set_character_flag = character_was_messalian }
		sunni = { set_character_flag = character_was_sunni }
		zikri = { set_character_flag = character_was_zikri }
		mahdiyya = { set_character_flag = character_was_mahdiyya }
		nabawiyya = { set_character_flag = character_was_nabawiyya }
		ibadi = { set_character_flag = character_was_ibadi }
		kharijite = { set_character_flag = character_was_kharijite }
		haruri = { set_character_flag = character_was_haruri }
		shiite = { set_character_flag = character_was_shiite }
		waqifi = { set_character_flag = character_was_waqifi }
		zaydi = { set_character_flag = character_was_zaydi }
		hurufi = { set_character_flag = character_was_hurufi }
		ismaili = { set_character_flag = character_was_ismaili }
		druze = { set_character_flag = character_was_druze }
		qarmatian = { set_character_flag = character_was_qarmatian }
		norse_pagan_reformed = { set_character_flag = character_was_norse_pagan_reformed }
		norse_pagan = { set_character_flag = character_was_norse_pagan }
		tengri_pagan_reformed = { set_character_flag = character_was_tengri_pagan_reformed }
		tengri_pagan = { set_character_flag = character_was_tengri_pagan }
		baltic_pagan_reformed = { set_character_flag = character_was_baltic_pagan_reformed }
		baltic_pagan = { set_character_flag = character_was_baltic_pagan }
		finnish_pagan_reformed = { set_character_flag = character_was_finnish_pagan_reformed }
		finnish_pagan = { set_character_flag = character_was_finnish_pagan }
		aztec_reformed = { set_character_flag = character_was_aztec_reformed }
		aztec = { set_character_flag = character_was_aztec }
		slavic_pagan_reformed = { set_character_flag = character_was_slavic_pagan_reformed }
		slavic_pagan = { set_character_flag = character_was_slavic_pagan }
		west_african_pagan_reformed = { set_character_flag = character_was_west_african_pagan_reformed }
		west_african_pagan = { set_character_flag = character_was_west_african_pagan }
		east_african_pagan_reformed = { set_character_flag = character_was_east_african_pagan_reformed }
		east_african_pagan = { set_character_flag = character_was_east_african_pagan }
		zun_pagan_reformed = { set_character_flag = character_was_zun_pagan_reformed }
		zun_pagan = { set_character_flag = character_was_zun_pagan }
		zoroastrian = { set_character_flag = character_was_zoroastrian }
		mazdaki = { set_character_flag = character_was_mazdaki }
		zurvanist = { set_character_flag = character_was_zurvanist }
		manichean = { set_character_flag = character_was_manichean }
		mandaean = { set_character_flag = character_was_mandaean }
		yazidi = { set_character_flag = character_was_yazidi }
		jewish = { set_character_flag = character_was_jewish }
		samaritan = { set_character_flag = character_was_samaritan }
		karaite = { set_character_flag = character_was_karaite }
		hindu = { set_character_flag = character_was_hindu }
		buddhist = { set_character_flag = character_was_buddhist }
		jain = { set_character_flag = character_was_jain }
	}
}

emf_sr_clr_religion_char_flag = {
	clr_character_flag = character_was_catholic
	clr_character_flag = character_was_cathar
	clr_character_flag = character_was_fraticelli
	clr_character_flag = character_was_waldensian
	clr_character_flag = character_was_lollard
	clr_character_flag = character_was_adoptionist
	clr_character_flag = character_was_arian
	clr_character_flag = character_was_orthodox
	clr_character_flag = character_was_bogomilist
	clr_character_flag = character_was_monothelite
	clr_character_flag = character_was_iconoclast
	clr_character_flag = character_was_syriac
	clr_character_flag = character_was_maronite
	clr_character_flag = character_was_miaphysite
	clr_character_flag = character_was_monophysite
	clr_character_flag = character_was_apostolic
	clr_character_flag = character_was_paulician
	clr_character_flag = character_was_tondrakian
	clr_character_flag = character_was_nestorian
	clr_character_flag = character_was_messalian
	clr_character_flag = character_was_sunni
	clr_character_flag = character_was_zikri
	clr_character_flag = character_was_mahdiyya
	clr_character_flag = character_was_nabawiyya
	clr_character_flag = character_was_ibadi
	clr_character_flag = character_was_kharijite
	clr_character_flag = character_was_haruri
	clr_character_flag = character_was_shiite
	clr_character_flag = character_was_waqifi
	clr_character_flag = character_was_zaydi
	clr_character_flag = character_was_hurufi
	clr_character_flag = character_was_ismaili
	clr_character_flag = character_was_druze
	clr_character_flag = character_was_qarmatian
	clr_character_flag = character_was_norse_pagan_reformed
	clr_character_flag = character_was_norse_pagan
	clr_character_flag = character_was_tengri_pagan_reformed
	clr_character_flag = character_was_tengri_pagan
	clr_character_flag = character_was_baltic_pagan_reformed
	clr_character_flag = character_was_baltic_pagan
	clr_character_flag = character_was_finnish_pagan_reformed
	clr_character_flag = character_was_finnish_pagan
	clr_character_flag = character_was_aztec_reformed
	clr_character_flag = character_was_aztec
	clr_character_flag = character_was_slavic_pagan_reformed
	clr_character_flag = character_was_slavic_pagan
	clr_character_flag = character_was_west_african_pagan_reformed
	clr_character_flag = character_was_west_african_pagan
	clr_character_flag = character_was_east_african_pagan_reformed
	clr_character_flag = character_was_east_african_pagan
	clr_character_flag = character_was_zun_pagan_reformed
	clr_character_flag = character_was_zun_pagan
	clr_character_flag = character_was_zoroastrian
	clr_character_flag = character_was_mazdaki
	clr_character_flag = character_was_zurvanist
	clr_character_flag = character_was_manichean
	clr_character_flag = character_was_mandaean
	clr_character_flag = character_was_yazidi
	clr_character_flag = character_was_jewish
	clr_character_flag = character_was_samaritan
	clr_character_flag = character_was_karaite
	clr_character_flag = character_was_hindu
	clr_character_flag = character_was_buddhist
	clr_character_flag = character_was_jain
}

emf_sr_event_target_old_religion_from_flag = {
	trigger_switch = {
		on_trigger = has_character_flag
		character_was_catholic = {
			random_character = { limit = { religion = catholic } save_event_target_as = old_religion }
		}
		character_was_cathar = {
			random_character = { limit = { religion = cathar } save_event_target_as = old_religion }
		}
		character_was_fraticelli = {
			random_character = { limit = { religion = fraticelli } save_event_target_as = old_religion }
		}
		character_was_waldensian = {
			random_character = { limit = { religion = waldensian } save_event_target_as = old_religion }
		}
		character_was_lollard = {
			random_character = { limit = { religion = lollard } save_event_target_as = old_religion }
		}
		character_was_adoptionist = {
			random_character = { limit = { religion = adoptionist } save_event_target_as = old_religion }
		}
		character_was_arian = {
			random_character = { limit = { religion = arian } save_event_target_as = old_religion }
		}
		character_was_orthodox = {
			random_character = { limit = { religion = orthodox } save_event_target_as = old_religion }
		}
		character_was_bogomilist = {
			random_character = { limit = { religion = bogomilist } save_event_target_as = old_religion }
		}
		character_was_monothelite = {
			random_character = { limit = { religion = monothelite } save_event_target_as = old_religion }
		}
		character_was_iconoclast = {
			random_character = { limit = { religion = iconoclast } save_event_target_as = old_religion }
		}
		character_was_syriac = {
			random_character = { limit = { religion = syriac } save_event_target_as = old_religion }
		}
		character_was_maronite = {
			random_character = { limit = { religion = maronite } save_event_target_as = old_religion }
		}
		character_was_miaphysite = {
			random_character = { limit = { religion = miaphysite } save_event_target_as = old_religion }
		}
		character_was_monophysite = {
			random_character = { limit = { religion = monophysite } save_event_target_as = old_religion }
		}
		character_was_apostolic = {
			random_character = { limit = { religion = apostolic } save_event_target_as = old_religion }
		}
		character_was_paulician = {
			random_character = { limit = { religion = paulician } save_event_target_as = old_religion }
		}
		character_was_tondrakian = {
			random_character = { limit = { religion = tondrakian } save_event_target_as = old_religion }
		}
		character_was_nestorian = {
			random_character = { limit = { religion = nestorian } save_event_target_as = old_religion }
		}
		character_was_messalian = {
			random_character = { limit = { religion = messalian } save_event_target_as = old_religion }
		}
		character_was_sunni = {
			random_character = { limit = { religion = sunni } save_event_target_as = old_religion }
		}
		character_was_zikri = {
			random_character = { limit = { religion = zikri } save_event_target_as = old_religion }
		}
		character_was_mahdiyya = {
			random_character = { limit = { religion = mahdiyya } save_event_target_as = old_religion }
		}
		character_was_nabawiyya = {
			random_character = { limit = { religion = nabawiyya } save_event_target_as = old_religion }
		}
		character_was_ibadi = {
			random_character = { limit = { religion = ibadi } save_event_target_as = old_religion }
		}
		character_was_kharijite = {
			random_character = { limit = { religion = kharijite } save_event_target_as = old_religion }
		}
		character_was_haruri = {
			random_character = { limit = { religion = haruri } save_event_target_as = old_religion }
		}
		character_was_shiite = {
			random_character = { limit = { religion = shiite } save_event_target_as = old_religion }
		}
		character_was_waqifi = {
			random_character = { limit = { religion = waqifi } save_event_target_as = old_religion }
		}
		character_was_zaydi = {
			random_character = { limit = { religion = zaydi } save_event_target_as = old_religion }
		}
		character_was_hurufi = {
			random_character = { limit = { religion = hurufi } save_event_target_as = old_religion }
		}
		character_was_ismaili = {
			random_character = { limit = { religion = ismaili } save_event_target_as = old_religion }
		}
		character_was_druze = {
			random_character = { limit = { religion = druze } save_event_target_as = old_religion }
		}
		character_was_qarmatian = {
			random_character = { limit = { religion = qarmatian } save_event_target_as = old_religion }
		}
		character_was_norse_pagan_reformed = {
			random_character = { limit = { religion = norse_pagan_reformed } save_event_target_as = old_religion }
		}
		character_was_norse_pagan = {
			random_character = { limit = { religion = norse_pagan } save_event_target_as = old_religion }
		}
		character_was_tengri_pagan_reformed = {
			random_character = { limit = { religion = tengri_pagan_reformed } save_event_target_as = old_religion }
		}
		character_was_tengri_pagan = {
			random_character = { limit = { religion = tengri_pagan } save_event_target_as = old_religion }
		}
		character_was_baltic_pagan_reformed = {
			random_character = { limit = { religion = baltic_pagan_reformed } save_event_target_as = old_religion }
		}
		character_was_baltic_pagan = {
			random_character = { limit = { religion = baltic_pagan } save_event_target_as = old_religion }
		}
		character_was_finnish_pagan_reformed = {
			random_character = { limit = { religion = finnish_pagan_reformed } save_event_target_as = old_religion }
		}
		character_was_finnish_pagan = {
			random_character = { limit = { religion = finnish_pagan } save_event_target_as = old_religion }
		}
		character_was_aztec_reformed = {
			random_character = { limit = { religion = aztec_reformed } save_event_target_as = old_religion }
		}
		character_was_aztec = {
			random_character = { limit = { religion = aztec } save_event_target_as = old_religion }
		}
		character_was_slavic_pagan_reformed = {
			random_character = { limit = { religion = slavic_pagan_reformed } save_event_target_as = old_religion }
		}
		character_was_slavic_pagan = {
			random_character = { limit = { religion = slavic_pagan } save_event_target_as = old_religion }
		}
		character_was_west_african_pagan_reformed = {
			random_character = { limit = { religion = west_african_pagan_reformed } save_event_target_as = old_religion }
		}
		character_was_west_african_pagan = {
			random_character = { limit = { religion = west_african_pagan } save_event_target_as = old_religion }
		}
		character_was_east_african_pagan_reformed = {
			random_character = { limit = { religion = east_african_pagan_reformed } save_event_target_as = old_religion }
		}
		character_was_east_african_pagan = {
			random_character = { limit = { religion = east_african_pagan } save_event_target_as = old_religion }
		}
		character_was_zun_pagan_reformed = {
			random_character = { limit = { religion = zun_pagan_reformed } save_event_target_as = old_religion }
		}
		character_was_zun_pagan = {
			random_character = { limit = { religion = zun_pagan } save_event_target_as = old_religion }
		}
		character_was_zoroastrian = {
			random_character = { limit = { religion = zoroastrian } save_event_target_as = old_religion }
		}
		character_was_mazdaki = {
			random_character = { limit = { religion = mazdaki } save_event_target_as = old_religion }
		}
		character_was_zurvanist = {
			random_character = { limit = { religion = zurvanist } save_event_target_as = old_religion }
		}
		character_was_manichean = {
			random_character = { limit = { religion = manichean } save_event_target_as = old_religion }
		}
		character_was_mandaean = {
			random_character = { limit = { religion = mandaean } save_event_target_as = old_religion }
		}
		character_was_yazidi = {
			random_character = { limit = { religion = yazidi } save_event_target_as = old_religion }
		}
		character_was_jewish = {
			random_character = { limit = { religion = jewish } save_event_target_as = old_religion }
		}
		character_was_samaritan = {
			random_character = { limit = { religion = samaritan } save_event_target_as = old_religion }
		}
		character_was_karaite = {
			random_character = { limit = { religion = karaite } save_event_target_as = old_religion }
		}
		character_was_hindu = {
			random_character = { limit = { religion = hindu } save_event_target_as = old_religion }
		}
		character_was_buddhist = {
			random_character = { limit = { religion = buddhist } save_event_target_as = old_religion }
		}
		character_was_jain = {
			random_character = { limit = { religion = jain } save_event_target_as = old_religion }
		}
	}
}

# ROOT is assumed to own the provinces which may need flipping
emf_sr_flip_secret_community_provinces = {
	trigger_switch = {
		on_trigger = society_member_of
		secret_religious_society_catholic = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_catholic_community }
					religion = catholic
					remove_province_modifier = secret_catholic_community
				}
			}
		}
		secret_religious_society_cathar = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_cathar_community }
					religion = cathar
					remove_province_modifier = secret_cathar_community
				}
			}
		}
		secret_religious_society_fraticelli = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_fraticelli_community }
					religion = fraticelli
					remove_province_modifier = secret_fraticelli_community
				}
			}
		}
		secret_religious_society_waldensian = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_waldensian_community }
					religion = waldensian
					remove_province_modifier = secret_waldensian_community
				}
			}
		}
		secret_religious_society_lollard = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_lollard_community }
					religion = lollard
					remove_province_modifier = secret_lollard_community
				}
			}
		}
		secret_religious_society_adoptionist = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_adoptionist_community }
					religion = adoptionist
					remove_province_modifier = secret_adoptionist_community
				}
			}
		}
		secret_religious_society_arian = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_arian_community }
					religion = arian
					remove_province_modifier = secret_arian_community
				}
			}
		}
		secret_religious_society_orthodox = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_orthodox_community }
					religion = orthodox
					remove_province_modifier = secret_orthodox_community
				}
			}
		}
		secret_religious_society_bogomilist = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_bogomilist_community }
					religion = bogomilist
					remove_province_modifier = secret_bogomilist_community
				}
			}
		}
		secret_religious_society_monothelite = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_monothelite_community }
					religion = monothelite
					remove_province_modifier = secret_monothelite_community
				}
			}
		}
		secret_religious_society_iconoclast = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_iconoclast_community }
					religion = iconoclast
					remove_province_modifier = secret_iconoclast_community
				}
			}
		}
		secret_religious_society_syriac = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_syriac_community }
					religion = syriac
					remove_province_modifier = secret_syriac_community
				}
			}
		}
		secret_religious_society_maronite = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_maronite_community }
					religion = maronite
					remove_province_modifier = secret_maronite_community
				}
			}
		}
		secret_religious_society_miaphysite = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_miaphysite_community }
					religion = miaphysite
					remove_province_modifier = secret_miaphysite_community
				}
			}
		}
		secret_religious_society_monophysite = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_monophysite_community }
					religion = monophysite
					remove_province_modifier = secret_monophysite_community
				}
			}
		}
		secret_religious_society_apostolic = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_apostolic_community }
					religion = apostolic
					remove_province_modifier = secret_apostolic_community
				}
			}
		}
		secret_religious_society_paulician = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_paulician_community }
					religion = paulician
					remove_province_modifier = secret_paulician_community
				}
			}
		}
		secret_religious_society_tondrakian = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_tondrakian_community }
					religion = tondrakian
					remove_province_modifier = secret_tondrakian_community
				}
			}
		}
		secret_religious_society_nestorian = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_nestorian_community }
					religion = nestorian
					remove_province_modifier = secret_nestorian_community
				}
			}
		}
		secret_religious_society_messalian = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_messalian_community }
					religion = messalian
					remove_province_modifier = secret_messalian_community
				}
			}
		}
		secret_religious_society_sunni = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_sunni_community }
					religion = sunni
					remove_province_modifier = secret_sunni_community
				}
			}
		}
		secret_religious_society_zikri = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zikri_community }
					religion = zikri
					remove_province_modifier = secret_zikri_community
				}
			}
		}
		secret_religious_society_mahdiyya = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_mahdiyya_community }
					religion = mahdiyya
					remove_province_modifier = secret_mahdiyya_community
				}
			}
		}
		secret_religious_society_nabawiyya = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_nabawiyya_community }
					religion = nabawiyya
					remove_province_modifier = secret_nabawiyya_community
				}
			}
		}
		secret_religious_society_ibadi = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_ibadi_community }
					religion = ibadi
					remove_province_modifier = secret_ibadi_community
				}
			}
		}
		secret_religious_society_kharijite = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_kharijite_community }
					religion = kharijite
					remove_province_modifier = secret_kharijite_community
				}
			}
		}
		secret_religious_society_haruri = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_haruri_community }
					religion = haruri
					remove_province_modifier = secret_haruri_community
				}
			}
		}
		secret_religious_society_shiite = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_shiite_community }
					religion = shiite
					remove_province_modifier = secret_shiite_community
				}
			}
		}
		secret_religious_society_waqifi = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_waqifi_community }
					religion = waqifi
					remove_province_modifier = secret_waqifi_community
				}
			}
		}
		secret_religious_society_zaydi = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zaydi_community }
					religion = zaydi
					remove_province_modifier = secret_zaydi_community
				}
			}
		}
		secret_religious_society_hurufi = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_hurufi_community }
					religion = hurufi
					remove_province_modifier = secret_hurufi_community
				}
			}
		}
		secret_religious_society_ismaili = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_ismaili_community }
					religion = ismaili
					remove_province_modifier = secret_ismaili_community
				}
			}
		}
		secret_religious_society_druze = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_druze_community }
					religion = druze
					remove_province_modifier = secret_druze_community
				}
			}
		}
		secret_religious_society_qarmatian = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_qarmatian_community }
					religion = qarmatian
					remove_province_modifier = secret_qarmatian_community
				}
			}
		}
		secret_religious_society_norse_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_norse_pagan_reformed_community }
					religion = norse_pagan_reformed
					remove_province_modifier = secret_norse_pagan_reformed_community
				}
			}
		}
		secret_religious_society_norse_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_norse_pagan_community }
					religion = norse_pagan
					remove_province_modifier = secret_norse_pagan_community
				}
			}
		}
		secret_religious_society_tengri_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_tengri_pagan_reformed_community }
					religion = tengri_pagan_reformed
					remove_province_modifier = secret_tengri_pagan_reformed_community
				}
			}
		}
		secret_religious_society_tengri_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_tengri_pagan_community }
					religion = tengri_pagan
					remove_province_modifier = secret_tengri_pagan_community
				}
			}
		}
		secret_religious_society_baltic_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_baltic_pagan_reformed_community }
					religion = baltic_pagan_reformed
					remove_province_modifier = secret_baltic_pagan_reformed_community
				}
			}
		}
		secret_religious_society_baltic_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_baltic_pagan_community }
					religion = baltic_pagan
					remove_province_modifier = secret_baltic_pagan_community
				}
			}
		}
		secret_religious_society_finnish_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_finnish_pagan_reformed_community }
					religion = finnish_pagan_reformed
					remove_province_modifier = secret_finnish_pagan_reformed_community
				}
			}
		}
		secret_religious_society_finnish_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_finnish_pagan_community }
					religion = finnish_pagan
					remove_province_modifier = secret_finnish_pagan_community
				}
			}
		}
		secret_religious_society_aztec_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_aztec_reformed_community }
					religion = aztec_reformed
					remove_province_modifier = secret_aztec_reformed_community
				}
			}
		}
		secret_religious_society_aztec = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_aztec_community }
					religion = aztec
					remove_province_modifier = secret_aztec_community
				}
			}
		}
		secret_religious_society_slavic_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_slavic_pagan_reformed_community }
					religion = slavic_pagan_reformed
					remove_province_modifier = secret_slavic_pagan_reformed_community
				}
			}
		}
		secret_religious_society_slavic_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_slavic_pagan_community }
					religion = slavic_pagan
					remove_province_modifier = secret_slavic_pagan_community
				}
			}
		}
		secret_religious_society_west_african_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_west_african_pagan_reformed_community }
					religion = west_african_pagan_reformed
					remove_province_modifier = secret_west_african_pagan_reformed_community
				}
			}
		}
		secret_religious_society_west_african_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_west_african_pagan_community }
					religion = west_african_pagan
					remove_province_modifier = secret_west_african_pagan_community
				}
			}
		}
		secret_religious_society_east_african_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_east_african_pagan_reformed_community }
					religion = east_african_pagan_reformed
					remove_province_modifier = secret_east_african_pagan_reformed_community
				}
			}
		}
		secret_religious_society_east_african_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_east_african_pagan_community }
					religion = east_african_pagan
					remove_province_modifier = secret_east_african_pagan_community
				}
			}
		}
		secret_religious_society_zun_pagan_reformed = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zun_pagan_reformed_community }
					religion = zun_pagan_reformed
					remove_province_modifier = secret_zun_pagan_reformed_community
				}
			}
		}
		secret_religious_society_zun_pagan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zun_pagan_community }
					religion = zun_pagan
					remove_province_modifier = secret_zun_pagan_community
				}
			}
		}
		secret_religious_society_zoroastrian = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zoroastrian_community }
					religion = zoroastrian
					remove_province_modifier = secret_zoroastrian_community
				}
			}
		}
		secret_religious_society_mazdaki = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_mazdaki_community }
					religion = mazdaki
					remove_province_modifier = secret_mazdaki_community
				}
			}
		}
		secret_religious_society_zurvanist = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zurvanist_community }
					religion = zurvanist
					remove_province_modifier = secret_zurvanist_community
				}
			}
		}
		secret_religious_society_manichean = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_manichean_community }
					religion = manichean
					remove_province_modifier = secret_manichean_community
				}
			}
		}
		secret_religious_society_mandaean = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_mandaean_community }
					religion = mandaean
					remove_province_modifier = secret_mandaean_community
				}
			}
		}
		secret_religious_society_yazidi = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_yazidi_community }
					religion = yazidi
					remove_province_modifier = secret_yazidi_community
				}
			}
		}
		secret_religious_society_jewish = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_jewish_community }
					religion = jewish
					remove_province_modifier = secret_jewish_community
				}
			}
		}
		secret_religious_society_samaritan = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_samaritan_community }
					religion = samaritan
					remove_province_modifier = secret_samaritan_community
				}
			}
		}
		secret_religious_society_karaite = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_karaite_community }
					religion = karaite
					remove_province_modifier = secret_karaite_community
				}
			}
		}
		secret_religious_society_hindu = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_hindu_community }
					religion = hindu
					remove_province_modifier = secret_hindu_community
				}
			}
		}
		secret_religious_society_buddhist = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_buddhist_community }
					religion = buddhist
					remove_province_modifier = secret_buddhist_community
				}
			}
		}
		secret_religious_society_jain = {
			ROOT = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_jain_community }
					religion = jain
					remove_province_modifier = secret_jain_community
				}
			}
		}
	}
}

# THIS = society member, PREV = owner of provinces in question
emf_sr_flip_secret_community_provinces_of_PREV = {
	trigger_switch = {
		on_trigger = society_member_of
		secret_religious_society_catholic = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_catholic_community }
					religion = catholic
					remove_province_modifier = secret_catholic_community
				}
			}
		}
		secret_religious_society_cathar = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_cathar_community }
					religion = cathar
					remove_province_modifier = secret_cathar_community
				}
			}
		}
		secret_religious_society_fraticelli = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_fraticelli_community }
					religion = fraticelli
					remove_province_modifier = secret_fraticelli_community
				}
			}
		}
		secret_religious_society_waldensian = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_waldensian_community }
					religion = waldensian
					remove_province_modifier = secret_waldensian_community
				}
			}
		}
		secret_religious_society_lollard = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_lollard_community }
					religion = lollard
					remove_province_modifier = secret_lollard_community
				}
			}
		}
		secret_religious_society_adoptionist = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_adoptionist_community }
					religion = adoptionist
					remove_province_modifier = secret_adoptionist_community
				}
			}
		}
		secret_religious_society_arian = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_arian_community }
					religion = arian
					remove_province_modifier = secret_arian_community
				}
			}
		}
		secret_religious_society_orthodox = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_orthodox_community }
					religion = orthodox
					remove_province_modifier = secret_orthodox_community
				}
			}
		}
		secret_religious_society_bogomilist = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_bogomilist_community }
					religion = bogomilist
					remove_province_modifier = secret_bogomilist_community
				}
			}
		}
		secret_religious_society_monothelite = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_monothelite_community }
					religion = monothelite
					remove_province_modifier = secret_monothelite_community
				}
			}
		}
		secret_religious_society_iconoclast = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_iconoclast_community }
					religion = iconoclast
					remove_province_modifier = secret_iconoclast_community
				}
			}
		}
		secret_religious_society_syriac = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_syriac_community }
					religion = syriac
					remove_province_modifier = secret_syriac_community
				}
			}
		}
		secret_religious_society_maronite = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_maronite_community }
					religion = maronite
					remove_province_modifier = secret_maronite_community
				}
			}
		}
		secret_religious_society_miaphysite = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_miaphysite_community }
					religion = miaphysite
					remove_province_modifier = secret_miaphysite_community
				}
			}
		}
		secret_religious_society_monophysite = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_monophysite_community }
					religion = monophysite
					remove_province_modifier = secret_monophysite_community
				}
			}
		}
		secret_religious_society_apostolic = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_apostolic_community }
					religion = apostolic
					remove_province_modifier = secret_apostolic_community
				}
			}
		}
		secret_religious_society_paulician = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_paulician_community }
					religion = paulician
					remove_province_modifier = secret_paulician_community
				}
			}
		}
		secret_religious_society_tondrakian = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_tondrakian_community }
					religion = tondrakian
					remove_province_modifier = secret_tondrakian_community
				}
			}
		}
		secret_religious_society_nestorian = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_nestorian_community }
					religion = nestorian
					remove_province_modifier = secret_nestorian_community
				}
			}
		}
		secret_religious_society_messalian = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_messalian_community }
					religion = messalian
					remove_province_modifier = secret_messalian_community
				}
			}
		}
		secret_religious_society_sunni = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_sunni_community }
					religion = sunni
					remove_province_modifier = secret_sunni_community
				}
			}
		}
		secret_religious_society_zikri = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zikri_community }
					religion = zikri
					remove_province_modifier = secret_zikri_community
				}
			}
		}
		secret_religious_society_mahdiyya = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_mahdiyya_community }
					religion = mahdiyya
					remove_province_modifier = secret_mahdiyya_community
				}
			}
		}
		secret_religious_society_nabawiyya = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_nabawiyya_community }
					religion = nabawiyya
					remove_province_modifier = secret_nabawiyya_community
				}
			}
		}
		secret_religious_society_ibadi = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_ibadi_community }
					religion = ibadi
					remove_province_modifier = secret_ibadi_community
				}
			}
		}
		secret_religious_society_kharijite = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_kharijite_community }
					religion = kharijite
					remove_province_modifier = secret_kharijite_community
				}
			}
		}
		secret_religious_society_haruri = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_haruri_community }
					religion = haruri
					remove_province_modifier = secret_haruri_community
				}
			}
		}
		secret_religious_society_shiite = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_shiite_community }
					religion = shiite
					remove_province_modifier = secret_shiite_community
				}
			}
		}
		secret_religious_society_waqifi = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_waqifi_community }
					religion = waqifi
					remove_province_modifier = secret_waqifi_community
				}
			}
		}
		secret_religious_society_zaydi = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zaydi_community }
					religion = zaydi
					remove_province_modifier = secret_zaydi_community
				}
			}
		}
		secret_religious_society_hurufi = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_hurufi_community }
					religion = hurufi
					remove_province_modifier = secret_hurufi_community
				}
			}
		}
		secret_religious_society_ismaili = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_ismaili_community }
					religion = ismaili
					remove_province_modifier = secret_ismaili_community
				}
			}
		}
		secret_religious_society_druze = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_druze_community }
					religion = druze
					remove_province_modifier = secret_druze_community
				}
			}
		}
		secret_religious_society_qarmatian = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_qarmatian_community }
					religion = qarmatian
					remove_province_modifier = secret_qarmatian_community
				}
			}
		}
		secret_religious_society_norse_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_norse_pagan_reformed_community }
					religion = norse_pagan_reformed
					remove_province_modifier = secret_norse_pagan_reformed_community
				}
			}
		}
		secret_religious_society_norse_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_norse_pagan_community }
					religion = norse_pagan
					remove_province_modifier = secret_norse_pagan_community
				}
			}
		}
		secret_religious_society_tengri_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_tengri_pagan_reformed_community }
					religion = tengri_pagan_reformed
					remove_province_modifier = secret_tengri_pagan_reformed_community
				}
			}
		}
		secret_religious_society_tengri_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_tengri_pagan_community }
					religion = tengri_pagan
					remove_province_modifier = secret_tengri_pagan_community
				}
			}
		}
		secret_religious_society_baltic_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_baltic_pagan_reformed_community }
					religion = baltic_pagan_reformed
					remove_province_modifier = secret_baltic_pagan_reformed_community
				}
			}
		}
		secret_religious_society_baltic_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_baltic_pagan_community }
					religion = baltic_pagan
					remove_province_modifier = secret_baltic_pagan_community
				}
			}
		}
		secret_religious_society_finnish_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_finnish_pagan_reformed_community }
					religion = finnish_pagan_reformed
					remove_province_modifier = secret_finnish_pagan_reformed_community
				}
			}
		}
		secret_religious_society_finnish_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_finnish_pagan_community }
					religion = finnish_pagan
					remove_province_modifier = secret_finnish_pagan_community
				}
			}
		}
		secret_religious_society_aztec_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_aztec_reformed_community }
					religion = aztec_reformed
					remove_province_modifier = secret_aztec_reformed_community
				}
			}
		}
		secret_religious_society_aztec = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_aztec_community }
					religion = aztec
					remove_province_modifier = secret_aztec_community
				}
			}
		}
		secret_religious_society_slavic_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_slavic_pagan_reformed_community }
					religion = slavic_pagan_reformed
					remove_province_modifier = secret_slavic_pagan_reformed_community
				}
			}
		}
		secret_religious_society_slavic_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_slavic_pagan_community }
					religion = slavic_pagan
					remove_province_modifier = secret_slavic_pagan_community
				}
			}
		}
		secret_religious_society_west_african_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_west_african_pagan_reformed_community }
					religion = west_african_pagan_reformed
					remove_province_modifier = secret_west_african_pagan_reformed_community
				}
			}
		}
		secret_religious_society_west_african_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_west_african_pagan_community }
					religion = west_african_pagan
					remove_province_modifier = secret_west_african_pagan_community
				}
			}
		}
		secret_religious_society_east_african_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_east_african_pagan_reformed_community }
					religion = east_african_pagan_reformed
					remove_province_modifier = secret_east_african_pagan_reformed_community
				}
			}
		}
		secret_religious_society_east_african_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_east_african_pagan_community }
					religion = east_african_pagan
					remove_province_modifier = secret_east_african_pagan_community
				}
			}
		}
		secret_religious_society_zun_pagan_reformed = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zun_pagan_reformed_community }
					religion = zun_pagan_reformed
					remove_province_modifier = secret_zun_pagan_reformed_community
				}
			}
		}
		secret_religious_society_zun_pagan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zun_pagan_community }
					religion = zun_pagan
					remove_province_modifier = secret_zun_pagan_community
				}
			}
		}
		secret_religious_society_zoroastrian = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zoroastrian_community }
					religion = zoroastrian
					remove_province_modifier = secret_zoroastrian_community
				}
			}
		}
		secret_religious_society_mazdaki = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_mazdaki_community }
					religion = mazdaki
					remove_province_modifier = secret_mazdaki_community
				}
			}
		}
		secret_religious_society_zurvanist = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_zurvanist_community }
					religion = zurvanist
					remove_province_modifier = secret_zurvanist_community
				}
			}
		}
		secret_religious_society_manichean = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_manichean_community }
					religion = manichean
					remove_province_modifier = secret_manichean_community
				}
			}
		}
		secret_religious_society_mandaean = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_mandaean_community }
					religion = mandaean
					remove_province_modifier = secret_mandaean_community
				}
			}
		}
		secret_religious_society_yazidi = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_yazidi_community }
					religion = yazidi
					remove_province_modifier = secret_yazidi_community
				}
			}
		}
		secret_religious_society_jewish = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_jewish_community }
					religion = jewish
					remove_province_modifier = secret_jewish_community
				}
			}
		}
		secret_religious_society_samaritan = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_samaritan_community }
					religion = samaritan
					remove_province_modifier = secret_samaritan_community
				}
			}
		}
		secret_religious_society_karaite = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_karaite_community }
					religion = karaite
					remove_province_modifier = secret_karaite_community
				}
			}
		}
		secret_religious_society_hindu = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_hindu_community }
					religion = hindu
					remove_province_modifier = secret_hindu_community
				}
			}
		}
		secret_religious_society_buddhist = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_buddhist_community }
					religion = buddhist
					remove_province_modifier = secret_buddhist_community
				}
			}
		}
		secret_religious_society_jain = {
			PREV = {
				any_demesne_province = {
					limit = { has_province_modifier = secret_jain_community }
					religion = jain
					remove_province_modifier = secret_jain_community
				}
			}
		}
	}
}

# THIS owns the provinces which may need flipping, and we base the flip on THIS's religion
# NOTE: for some reason, we don't remove the secret_X_community province modifiers, however. (?!)
emf_sr_flip_secret_community_provinces_to_my_religion = {
	trigger_switch = {
		on_trigger = religion
		catholic = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_catholic_community }
				religion = catholic
				# remove_province_modifier = secret_catholic_community
			}
		}
		cathar = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_cathar_community }
				religion = cathar
				# remove_province_modifier = secret_cathar_community
			}
		}
		fraticelli = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_fraticelli_community }
				religion = fraticelli
				# remove_province_modifier = secret_fraticelli_community
			}
		}
		waldensian = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_waldensian_community }
				religion = waldensian
				# remove_province_modifier = secret_waldensian_community
			}
		}
		lollard = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_lollard_community }
				religion = lollard
				# remove_province_modifier = secret_lollard_community
			}
		}
		adoptionist = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_adoptionist_community }
				religion = adoptionist
				# remove_province_modifier = secret_adoptionist_community
			}
		}
		arian = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_arian_community }
				religion = arian
				# remove_province_modifier = secret_arian_community
			}
		}
		orthodox = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_orthodox_community }
				religion = orthodox
				# remove_province_modifier = secret_orthodox_community
			}
		}
		bogomilist = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_bogomilist_community }
				religion = bogomilist
				# remove_province_modifier = secret_bogomilist_community
			}
		}
		monothelite = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_monothelite_community }
				religion = monothelite
				# remove_province_modifier = secret_monothelite_community
			}
		}
		iconoclast = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_iconoclast_community }
				religion = iconoclast
				# remove_province_modifier = secret_iconoclast_community
			}
		}
		syriac = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_syriac_community }
				religion = syriac
				# remove_province_modifier = secret_syriac_community
			}
		}
		maronite = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_maronite_community }
				religion = maronite
				# remove_province_modifier = secret_maronite_community
			}
		}
		miaphysite = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_miaphysite_community }
				religion = miaphysite
				# remove_province_modifier = secret_miaphysite_community
			}
		}
		monophysite = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_monophysite_community }
				religion = monophysite
				# remove_province_modifier = secret_monophysite_community
			}
		}
		apostolic = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_apostolic_community }
				religion = apostolic
				# remove_province_modifier = secret_apostolic_community
			}
		}
		paulician = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_paulician_community }
				religion = paulician
				# remove_province_modifier = secret_paulician_community
			}
		}
		tondrakian = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_tondrakian_community }
				religion = tondrakian
				# remove_province_modifier = secret_tondrakian_community
			}
		}
		nestorian = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_nestorian_community }
				religion = nestorian
				# remove_province_modifier = secret_nestorian_community
			}
		}
		messalian = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_messalian_community }
				religion = messalian
				# remove_province_modifier = secret_messalian_community
			}
		}
		sunni = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_sunni_community }
				religion = sunni
				# remove_province_modifier = secret_sunni_community
			}
		}
		zikri = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zikri_community }
				religion = zikri
				# remove_province_modifier = secret_zikri_community
			}
		}
		mahdiyya = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_mahdiyya_community }
				religion = mahdiyya
				# remove_province_modifier = secret_mahdiyya_community
			}
		}
		nabawiyya = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_nabawiyya_community }
				religion = nabawiyya
				# remove_province_modifier = secret_nabawiyya_community
			}
		}
		ibadi = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_ibadi_community }
				religion = ibadi
				# remove_province_modifier = secret_ibadi_community
			}
		}
		kharijite = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_kharijite_community }
				religion = kharijite
				# remove_province_modifier = secret_kharijite_community
			}
		}
		haruri = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_haruri_community }
				religion = haruri
				# remove_province_modifier = secret_haruri_community
			}
		}
		shiite = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_shiite_community }
				religion = shiite
				# remove_province_modifier = secret_shiite_community
			}
		}
		waqifi = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_waqifi_community }
				religion = waqifi
				# remove_province_modifier = secret_waqifi_community
			}
		}
		zaydi = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zaydi_community }
				religion = zaydi
				# remove_province_modifier = secret_zaydi_community
			}
		}
		hurufi = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_hurufi_community }
				religion = hurufi
				# remove_province_modifier = secret_hurufi_community
			}
		}
		ismaili = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_ismaili_community }
				religion = ismaili
				# remove_province_modifier = secret_ismaili_community
			}
		}
		druze = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_druze_community }
				religion = druze
				# remove_province_modifier = secret_druze_community
			}
		}
		qarmatian = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_qarmatian_community }
				religion = qarmatian
				# remove_province_modifier = secret_qarmatian_community
			}
		}
		norse_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_norse_pagan_reformed_community }
				religion = norse_pagan_reformed
				# remove_province_modifier = secret_norse_pagan_reformed_community
			}
		}
		norse_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_norse_pagan_community }
				religion = norse_pagan
				# remove_province_modifier = secret_norse_pagan_community
			}
		}
		tengri_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_tengri_pagan_reformed_community }
				religion = tengri_pagan_reformed
				# remove_province_modifier = secret_tengri_pagan_reformed_community
			}
		}
		tengri_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_tengri_pagan_community }
				religion = tengri_pagan
				# remove_province_modifier = secret_tengri_pagan_community
			}
		}
		baltic_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_baltic_pagan_reformed_community }
				religion = baltic_pagan_reformed
				# remove_province_modifier = secret_baltic_pagan_reformed_community
			}
		}
		baltic_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_baltic_pagan_community }
				religion = baltic_pagan
				# remove_province_modifier = secret_baltic_pagan_community
			}
		}
		finnish_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_finnish_pagan_reformed_community }
				religion = finnish_pagan_reformed
				# remove_province_modifier = secret_finnish_pagan_reformed_community
			}
		}
		finnish_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_finnish_pagan_community }
				religion = finnish_pagan
				# remove_province_modifier = secret_finnish_pagan_community
			}
		}
		aztec_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_aztec_reformed_community }
				religion = aztec_reformed
				# remove_province_modifier = secret_aztec_reformed_community
			}
		}
		aztec = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_aztec_community }
				religion = aztec
				# remove_province_modifier = secret_aztec_community
			}
		}
		slavic_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_slavic_pagan_reformed_community }
				religion = slavic_pagan_reformed
				# remove_province_modifier = secret_slavic_pagan_reformed_community
			}
		}
		slavic_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_slavic_pagan_community }
				religion = slavic_pagan
				# remove_province_modifier = secret_slavic_pagan_community
			}
		}
		west_african_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_west_african_pagan_reformed_community }
				religion = west_african_pagan_reformed
				# remove_province_modifier = secret_west_african_pagan_reformed_community
			}
		}
		west_african_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_west_african_pagan_community }
				religion = west_african_pagan
				# remove_province_modifier = secret_west_african_pagan_community
			}
		}
		east_african_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_east_african_pagan_reformed_community }
				religion = east_african_pagan_reformed
				# remove_province_modifier = secret_east_african_pagan_reformed_community
			}
		}
		east_african_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_east_african_pagan_community }
				religion = east_african_pagan
				# remove_province_modifier = secret_east_african_pagan_community
			}
		}
		zun_pagan_reformed = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zun_pagan_reformed_community }
				religion = zun_pagan_reformed
				# remove_province_modifier = secret_zun_pagan_reformed_community
			}
		}
		zun_pagan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zun_pagan_community }
				religion = zun_pagan
				# remove_province_modifier = secret_zun_pagan_community
			}
		}
		zoroastrian = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zoroastrian_community }
				religion = zoroastrian
				# remove_province_modifier = secret_zoroastrian_community
			}
		}
		mazdaki = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_mazdaki_community }
				religion = mazdaki
				# remove_province_modifier = secret_mazdaki_community
			}
		}
		zurvanist = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zurvanist_community }
				religion = zurvanist
				# remove_province_modifier = secret_zurvanist_community
			}
		}
		manichean = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_manichean_community }
				religion = manichean
				# remove_province_modifier = secret_manichean_community
			}
		}
		mandaean = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_mandaean_community }
				religion = mandaean
				# remove_province_modifier = secret_mandaean_community
			}
		}
		yazidi = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_yazidi_community }
				religion = yazidi
				# remove_province_modifier = secret_yazidi_community
			}
		}
		jewish = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_jewish_community }
				religion = jewish
				# remove_province_modifier = secret_jewish_community
			}
		}
		samaritan = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_samaritan_community }
				religion = samaritan
				# remove_province_modifier = secret_samaritan_community
			}
		}
		karaite = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_karaite_community }
				religion = karaite
				# remove_province_modifier = secret_karaite_community
			}
		}
		hindu = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_hindu_community }
				religion = hindu
				# remove_province_modifier = secret_hindu_community
			}
		}
		buddhist = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_buddhist_community }
				religion = buddhist
				# remove_province_modifier = secret_buddhist_community
			}
		}
		jain = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_jain_community }
				religion = jain
				# remove_province_modifier = secret_jain_community
			}
		}
	}
}

# THIS = society member
emf_sr_set_adopt_faith_flag_of_my_cult_on_ROOT = {
	trigger_switch = {
		on_trigger = society_member_of
		secret_religious_society_catholic = {
			ROOT = { set_character_flag = adopt_faith_catholic }
		}
		secret_religious_society_cathar = {
			ROOT = { set_character_flag = adopt_faith_cathar }
		}
		secret_religious_society_fraticelli = {
			ROOT = { set_character_flag = adopt_faith_fraticelli }
		}
		secret_religious_society_waldensian = {
			ROOT = { set_character_flag = adopt_faith_waldensian }
		}
		secret_religious_society_lollard = {
			ROOT = { set_character_flag = adopt_faith_lollard }
		}
		secret_religious_society_adoptionist = {
			ROOT = { set_character_flag = adopt_faith_adoptionist }
		}
		secret_religious_society_arian = {
			ROOT = { set_character_flag = adopt_faith_arian }
		}
		secret_religious_society_orthodox = {
			ROOT = { set_character_flag = adopt_faith_orthodox }
		}
		secret_religious_society_bogomilist = {
			ROOT = { set_character_flag = adopt_faith_bogomilist }
		}
		secret_religious_society_monothelite = {
			ROOT = { set_character_flag = adopt_faith_monothelite }
		}
		secret_religious_society_iconoclast = {
			ROOT = { set_character_flag = adopt_faith_iconoclast }
		}
		secret_religious_society_syriac = {
			ROOT = { set_character_flag = adopt_faith_syriac }
		}
		secret_religious_society_maronite = {
			ROOT = { set_character_flag = adopt_faith_maronite }
		}
		secret_religious_society_miaphysite = {
			ROOT = { set_character_flag = adopt_faith_miaphysite }
		}
		secret_religious_society_monophysite = {
			ROOT = { set_character_flag = adopt_faith_monophysite }
		}
		secret_religious_society_apostolic = {
			ROOT = { set_character_flag = adopt_faith_apostolic }
		}
		secret_religious_society_paulician = {
			ROOT = { set_character_flag = adopt_faith_paulician }
		}
		secret_religious_society_tondrakian = {
			ROOT = { set_character_flag = adopt_faith_tondrakian }
		}
		secret_religious_society_nestorian = {
			ROOT = { set_character_flag = adopt_faith_nestorian }
		}
		secret_religious_society_messalian = {
			ROOT = { set_character_flag = adopt_faith_messalian }
		}
		secret_religious_society_sunni = {
			ROOT = { set_character_flag = adopt_faith_sunni }
		}
		secret_religious_society_zikri = {
			ROOT = { set_character_flag = adopt_faith_zikri }
		}
		secret_religious_society_mahdiyya = {
			ROOT = { set_character_flag = adopt_faith_mahdiyya }
		}
		secret_religious_society_nabawiyya = {
			ROOT = { set_character_flag = adopt_faith_nabawiyya }
		}
		secret_religious_society_ibadi = {
			ROOT = { set_character_flag = adopt_faith_ibadi }
		}
		secret_religious_society_kharijite = {
			ROOT = { set_character_flag = adopt_faith_kharijite }
		}
		secret_religious_society_haruri = {
			ROOT = { set_character_flag = adopt_faith_haruri }
		}
		secret_religious_society_shiite = {
			ROOT = { set_character_flag = adopt_faith_shiite }
		}
		secret_religious_society_waqifi = {
			ROOT = { set_character_flag = adopt_faith_waqifi }
		}
		secret_religious_society_zaydi = {
			ROOT = { set_character_flag = adopt_faith_zaydi }
		}
		secret_religious_society_hurufi = {
			ROOT = { set_character_flag = adopt_faith_hurufi }
		}
		secret_religious_society_ismaili = {
			ROOT = { set_character_flag = adopt_faith_ismaili }
		}
		secret_religious_society_druze = {
			ROOT = { set_character_flag = adopt_faith_druze }
		}
		secret_religious_society_qarmatian = {
			ROOT = { set_character_flag = adopt_faith_qarmatian }
		}
		secret_religious_society_norse_pagan_reformed = {
			ROOT = { set_character_flag = adopt_faith_norse_pagan_reformed }
		}
		secret_religious_society_norse_pagan = {
			ROOT = { set_character_flag = adopt_faith_norse_pagan }
		}
		secret_religious_society_tengri_pagan_reformed = {
			ROOT = { set_character_flag = adopt_faith_tengri_pagan_reformed }
		}
		secret_religious_society_tengri_pagan = {
			ROOT = { set_character_flag = adopt_faith_tengri_pagan }
		}
		secret_religious_society_baltic_pagan_reformed = {
			ROOT = { set_character_flag = adopt_faith_baltic_pagan_reformed }
		}
		secret_religious_society_baltic_pagan = {
			ROOT = { set_character_flag = adopt_faith_baltic_pagan }
		}
		secret_religious_society_finnish_pagan_reformed = {
			ROOT = { set_character_flag = adopt_faith_finnish_pagan_reformed }
		}
		secret_religious_society_finnish_pagan = {
			ROOT = { set_character_flag = adopt_faith_finnish_pagan }
		}
		secret_religious_society_aztec_reformed = {
			ROOT = { set_character_flag = adopt_faith_aztec_reformed }
		}
		secret_religious_society_aztec = {
			ROOT = { set_character_flag = adopt_faith_aztec }
		}
		secret_religious_society_slavic_pagan_reformed = {
			ROOT = { set_character_flag = adopt_faith_slavic_pagan_reformed }
		}
		secret_religious_society_slavic_pagan = {
			ROOT = { set_character_flag = adopt_faith_slavic_pagan }
		}
		secret_religious_society_west_african_pagan_reformed = {
			ROOT = { set_character_flag = adopt_faith_west_african_pagan_reformed }
		}
		secret_religious_society_west_african_pagan = {
			ROOT = { set_character_flag = adopt_faith_west_african_pagan }
		}
		secret_religious_society_east_african_pagan_reformed = {
			ROOT = { set_character_flag = adopt_faith_east_african_pagan_reformed }
		}
		secret_religious_society_east_african_pagan = {
			ROOT = { set_character_flag = adopt_faith_east_african_pagan }
		}
		secret_religious_society_zun_pagan_reformed = {
			ROOT = { set_character_flag = adopt_faith_zun_pagan_reformed }
		}
		secret_religious_society_zun_pagan = {
			ROOT = { set_character_flag = adopt_faith_zun_pagan }
		}
		secret_religious_society_zoroastrian = {
			ROOT = { set_character_flag = adopt_faith_zoroastrian }
		}
		secret_religious_society_mazdaki = {
			ROOT = { set_character_flag = adopt_faith_mazdaki }
		}
		secret_religious_society_zurvanist = {
			ROOT = { set_character_flag = adopt_faith_zurvanist }
		}
		secret_religious_society_manichean = {
			ROOT = { set_character_flag = adopt_faith_manichean }
		}
		secret_religious_society_mandaean = {
			ROOT = { set_character_flag = adopt_faith_mandaean }
		}
		secret_religious_society_yazidi = {
			ROOT = { set_character_flag = adopt_faith_yazidi }
		}
		secret_religious_society_jewish = {
			ROOT = { set_character_flag = adopt_faith_jewish }
		}
		secret_religious_society_samaritan = {
			ROOT = { set_character_flag = adopt_faith_samaritan }
		}
		secret_religious_society_karaite = {
			ROOT = { set_character_flag = adopt_faith_karaite }
		}
		secret_religious_society_hindu = {
			ROOT = { set_character_flag = adopt_faith_hindu }
		}
		secret_religious_society_buddhist = {
			ROOT = { set_character_flag = adopt_faith_buddhist }
		}
		secret_religious_society_jain = {
			ROOT = { set_character_flag = adopt_faith_jain }
		}
	}
}

emf_sr_adopt_faith_from_flag = {
	trigger_switch = {
		on_trigger = has_character_flag
		adopt_faith_catholic = { religion = catholic }
		adopt_faith_cathar = { religion = cathar }
		adopt_faith_fraticelli = { religion = fraticelli }
		adopt_faith_waldensian = { religion = waldensian }
		adopt_faith_lollard = { religion = lollard }
		adopt_faith_adoptionist = { religion = adoptionist }
		adopt_faith_arian = { religion = arian }
		adopt_faith_orthodox = { religion = orthodox }
		adopt_faith_bogomilist = { religion = bogomilist }
		adopt_faith_monothelite = { religion = monothelite }
		adopt_faith_iconoclast = { religion = iconoclast }
		adopt_faith_syriac = { religion = syriac }
		adopt_faith_maronite = { religion = maronite }
		adopt_faith_miaphysite = { religion = miaphysite }
		adopt_faith_monophysite = { religion = monophysite }
		adopt_faith_apostolic = { religion = apostolic }
		adopt_faith_paulician = { religion = paulician }
		adopt_faith_tondrakian = { religion = tondrakian }
		adopt_faith_nestorian = { religion = nestorian }
		adopt_faith_messalian = { religion = messalian }
		adopt_faith_sunni = { religion = sunni }
		adopt_faith_zikri = { religion = zikri }
		adopt_faith_mahdiyya = { religion = mahdiyya }
		adopt_faith_nabawiyya = { religion = nabawiyya }
		adopt_faith_ibadi = { religion = ibadi }
		adopt_faith_kharijite = { religion = kharijite }
		adopt_faith_haruri = { religion = haruri }
		adopt_faith_shiite = { religion = shiite }
		adopt_faith_waqifi = { religion = waqifi }
		adopt_faith_zaydi = { religion = zaydi }
		adopt_faith_hurufi = { religion = hurufi }
		adopt_faith_ismaili = { religion = ismaili }
		adopt_faith_druze = { religion = druze }
		adopt_faith_qarmatian = { religion = qarmatian }
		adopt_faith_norse_pagan_reformed = { religion = norse_pagan_reformed }
		adopt_faith_norse_pagan = { religion = norse_pagan }
		adopt_faith_tengri_pagan_reformed = { religion = tengri_pagan_reformed }
		adopt_faith_tengri_pagan = { religion = tengri_pagan }
		adopt_faith_baltic_pagan_reformed = { religion = baltic_pagan_reformed }
		adopt_faith_baltic_pagan = { religion = baltic_pagan }
		adopt_faith_finnish_pagan_reformed = { religion = finnish_pagan_reformed }
		adopt_faith_finnish_pagan = { religion = finnish_pagan }
		adopt_faith_aztec_reformed = { religion = aztec_reformed }
		adopt_faith_aztec = { religion = aztec }
		adopt_faith_slavic_pagan_reformed = { religion = slavic_pagan_reformed }
		adopt_faith_slavic_pagan = { religion = slavic_pagan }
		adopt_faith_west_african_pagan_reformed = { religion = west_african_pagan_reformed }
		adopt_faith_west_african_pagan = { religion = west_african_pagan }
		adopt_faith_east_african_pagan_reformed = { religion = east_african_pagan_reformed }
		adopt_faith_east_african_pagan = { religion = east_african_pagan }
		adopt_faith_zun_pagan_reformed = { religion = zun_pagan_reformed }
		adopt_faith_zun_pagan = { religion = zun_pagan }
		adopt_faith_zoroastrian = { religion = zoroastrian }
		adopt_faith_mazdaki = { religion = mazdaki }
		adopt_faith_zurvanist = { religion = zurvanist }
		adopt_faith_manichean = { religion = manichean }
		adopt_faith_mandaean = { religion = mandaean }
		adopt_faith_yazidi = { religion = yazidi }
		adopt_faith_jewish = { religion = jewish }
		adopt_faith_samaritan = { religion = samaritan }
		adopt_faith_karaite = { religion = karaite }
		adopt_faith_hindu = { religion = hindu }
		adopt_faith_buddhist = { religion = buddhist }
		adopt_faith_jain = { religion = jain }
	}
}

emf_sr_clr_adopt_faith_flag = {
	clr_character_flag = adopt_faith_catholic
	clr_character_flag = adopt_faith_cathar
	clr_character_flag = adopt_faith_fraticelli
	clr_character_flag = adopt_faith_waldensian
	clr_character_flag = adopt_faith_lollard
	clr_character_flag = adopt_faith_adoptionist
	clr_character_flag = adopt_faith_arian
	clr_character_flag = adopt_faith_orthodox
	clr_character_flag = adopt_faith_bogomilist
	clr_character_flag = adopt_faith_monothelite
	clr_character_flag = adopt_faith_iconoclast
	clr_character_flag = adopt_faith_syriac
	clr_character_flag = adopt_faith_maronite
	clr_character_flag = adopt_faith_miaphysite
	clr_character_flag = adopt_faith_monophysite
	clr_character_flag = adopt_faith_apostolic
	clr_character_flag = adopt_faith_paulician
	clr_character_flag = adopt_faith_tondrakian
	clr_character_flag = adopt_faith_nestorian
	clr_character_flag = adopt_faith_messalian
	clr_character_flag = adopt_faith_sunni
	clr_character_flag = adopt_faith_zikri
	clr_character_flag = adopt_faith_mahdiyya
	clr_character_flag = adopt_faith_nabawiyya
	clr_character_flag = adopt_faith_ibadi
	clr_character_flag = adopt_faith_kharijite
	clr_character_flag = adopt_faith_haruri
	clr_character_flag = adopt_faith_shiite
	clr_character_flag = adopt_faith_waqifi
	clr_character_flag = adopt_faith_zaydi
	clr_character_flag = adopt_faith_hurufi
	clr_character_flag = adopt_faith_ismaili
	clr_character_flag = adopt_faith_druze
	clr_character_flag = adopt_faith_qarmatian
	clr_character_flag = adopt_faith_norse_pagan_reformed
	clr_character_flag = adopt_faith_norse_pagan
	clr_character_flag = adopt_faith_tengri_pagan_reformed
	clr_character_flag = adopt_faith_tengri_pagan
	clr_character_flag = adopt_faith_baltic_pagan_reformed
	clr_character_flag = adopt_faith_baltic_pagan
	clr_character_flag = adopt_faith_finnish_pagan_reformed
	clr_character_flag = adopt_faith_finnish_pagan
	clr_character_flag = adopt_faith_aztec_reformed
	clr_character_flag = adopt_faith_aztec
	clr_character_flag = adopt_faith_slavic_pagan_reformed
	clr_character_flag = adopt_faith_slavic_pagan
	clr_character_flag = adopt_faith_west_african_pagan_reformed
	clr_character_flag = adopt_faith_west_african_pagan
	clr_character_flag = adopt_faith_east_african_pagan_reformed
	clr_character_flag = adopt_faith_east_african_pagan
	clr_character_flag = adopt_faith_zun_pagan_reformed
	clr_character_flag = adopt_faith_zun_pagan
	clr_character_flag = adopt_faith_zoroastrian
	clr_character_flag = adopt_faith_mazdaki
	clr_character_flag = adopt_faith_zurvanist
	clr_character_flag = adopt_faith_manichean
	clr_character_flag = adopt_faith_mandaean
	clr_character_flag = adopt_faith_yazidi
	clr_character_flag = adopt_faith_jewish
	clr_character_flag = adopt_faith_samaritan
	clr_character_flag = adopt_faith_karaite
	clr_character_flag = adopt_faith_hindu
	clr_character_flag = adopt_faith_buddhist
	clr_character_flag = adopt_faith_jain
}

# THIS = society member
emf_sr_set_prov_flip_char_flag_of_my_cult_on_ROOT = {
	trigger_switch = {
		on_trigger = society_member_of
		secret_religious_society_catholic = {
			ROOT = { set_character_flag = sr_catholic_prov_flip }
		}
		secret_religious_society_cathar = {
			ROOT = { set_character_flag = sr_cathar_prov_flip }
		}
		secret_religious_society_fraticelli = {
			ROOT = { set_character_flag = sr_fraticelli_prov_flip }
		}
		secret_religious_society_waldensian = {
			ROOT = { set_character_flag = sr_waldensian_prov_flip }
		}
		secret_religious_society_lollard = {
			ROOT = { set_character_flag = sr_lollard_prov_flip }
		}
		secret_religious_society_adoptionist = {
			ROOT = { set_character_flag = sr_adoptionist_prov_flip }
		}
		secret_religious_society_arian = {
			ROOT = { set_character_flag = sr_arian_prov_flip }
		}
		secret_religious_society_orthodox = {
			ROOT = { set_character_flag = sr_orthodox_prov_flip }
		}
		secret_religious_society_bogomilist = {
			ROOT = { set_character_flag = sr_bogomilist_prov_flip }
		}
		secret_religious_society_monothelite = {
			ROOT = { set_character_flag = sr_monothelite_prov_flip }
		}
		secret_religious_society_iconoclast = {
			ROOT = { set_character_flag = sr_iconoclast_prov_flip }
		}
		secret_religious_society_syriac = {
			ROOT = { set_character_flag = sr_syriac_prov_flip }
		}
		secret_religious_society_maronite = {
			ROOT = { set_character_flag = sr_maronite_prov_flip }
		}
		secret_religious_society_miaphysite = {
			ROOT = { set_character_flag = sr_miaphysite_prov_flip }
		}
		secret_religious_society_monophysite = {
			ROOT = { set_character_flag = sr_monophysite_prov_flip }
		}
		secret_religious_society_apostolic = {
			ROOT = { set_character_flag = sr_apostolic_prov_flip }
		}
		secret_religious_society_paulician = {
			ROOT = { set_character_flag = sr_paulician_prov_flip }
		}
		secret_religious_society_tondrakian = {
			ROOT = { set_character_flag = sr_tondrakian_prov_flip }
		}
		secret_religious_society_nestorian = {
			ROOT = { set_character_flag = sr_nestorian_prov_flip }
		}
		secret_religious_society_messalian = {
			ROOT = { set_character_flag = sr_messalian_prov_flip }
		}
		secret_religious_society_sunni = {
			ROOT = { set_character_flag = sr_sunni_prov_flip }
		}
		secret_religious_society_zikri = {
			ROOT = { set_character_flag = sr_zikri_prov_flip }
		}
		secret_religious_society_mahdiyya = {
			ROOT = { set_character_flag = sr_mahdiyya_prov_flip }
		}
		secret_religious_society_nabawiyya = {
			ROOT = { set_character_flag = sr_nabawiyya_prov_flip }
		}
		secret_religious_society_ibadi = {
			ROOT = { set_character_flag = sr_ibadi_prov_flip }
		}
		secret_religious_society_kharijite = {
			ROOT = { set_character_flag = sr_kharijite_prov_flip }
		}
		secret_religious_society_haruri = {
			ROOT = { set_character_flag = sr_haruri_prov_flip }
		}
		secret_religious_society_shiite = {
			ROOT = { set_character_flag = sr_shiite_prov_flip }
		}
		secret_religious_society_waqifi = {
			ROOT = { set_character_flag = sr_waqifi_prov_flip }
		}
		secret_religious_society_zaydi = {
			ROOT = { set_character_flag = sr_zaydi_prov_flip }
		}
		secret_religious_society_hurufi = {
			ROOT = { set_character_flag = sr_hurufi_prov_flip }
		}
		secret_religious_society_ismaili = {
			ROOT = { set_character_flag = sr_ismaili_prov_flip }
		}
		secret_religious_society_druze = {
			ROOT = { set_character_flag = sr_druze_prov_flip }
		}
		secret_religious_society_qarmatian = {
			ROOT = { set_character_flag = sr_qarmatian_prov_flip }
		}
		secret_religious_society_norse_pagan_reformed = {
			ROOT = { set_character_flag = sr_norse_pagan_reformed_prov_flip }
		}
		secret_religious_society_norse_pagan = {
			ROOT = { set_character_flag = sr_norse_pagan_prov_flip }
		}
		secret_religious_society_tengri_pagan_reformed = {
			ROOT = { set_character_flag = sr_tengri_pagan_reformed_prov_flip }
		}
		secret_religious_society_tengri_pagan = {
			ROOT = { set_character_flag = sr_tengri_pagan_prov_flip }
		}
		secret_religious_society_baltic_pagan_reformed = {
			ROOT = { set_character_flag = sr_baltic_pagan_reformed_prov_flip }
		}
		secret_religious_society_baltic_pagan = {
			ROOT = { set_character_flag = sr_baltic_pagan_prov_flip }
		}
		secret_religious_society_finnish_pagan_reformed = {
			ROOT = { set_character_flag = sr_finnish_pagan_reformed_prov_flip }
		}
		secret_religious_society_finnish_pagan = {
			ROOT = { set_character_flag = sr_finnish_pagan_prov_flip }
		}
		secret_religious_society_aztec_reformed = {
			ROOT = { set_character_flag = sr_aztec_reformed_prov_flip }
		}
		secret_religious_society_aztec = {
			ROOT = { set_character_flag = sr_aztec_prov_flip }
		}
		secret_religious_society_slavic_pagan_reformed = {
			ROOT = { set_character_flag = sr_slavic_pagan_reformed_prov_flip }
		}
		secret_religious_society_slavic_pagan = {
			ROOT = { set_character_flag = sr_slavic_pagan_prov_flip }
		}
		secret_religious_society_west_african_pagan_reformed = {
			ROOT = { set_character_flag = sr_west_african_pagan_reformed_prov_flip }
		}
		secret_religious_society_west_african_pagan = {
			ROOT = { set_character_flag = sr_west_african_pagan_prov_flip }
		}
		secret_religious_society_east_african_pagan_reformed = {
			ROOT = { set_character_flag = sr_east_african_pagan_reformed_prov_flip }
		}
		secret_religious_society_east_african_pagan = {
			ROOT = { set_character_flag = sr_east_african_pagan_prov_flip }
		}
		secret_religious_society_zun_pagan_reformed = {
			ROOT = { set_character_flag = sr_zun_pagan_reformed_prov_flip }
		}
		secret_religious_society_zun_pagan = {
			ROOT = { set_character_flag = sr_zun_pagan_prov_flip }
		}
		secret_religious_society_zoroastrian = {
			ROOT = { set_character_flag = sr_zoroastrian_prov_flip }
		}
		secret_religious_society_mazdaki = {
			ROOT = { set_character_flag = sr_mazdaki_prov_flip }
		}
		secret_religious_society_zurvanist = {
			ROOT = { set_character_flag = sr_zurvanist_prov_flip }
		}
		secret_religious_society_manichean = {
			ROOT = { set_character_flag = sr_manichean_prov_flip }
		}
		secret_religious_society_mandaean = {
			ROOT = { set_character_flag = sr_mandaean_prov_flip }
		}
		secret_religious_society_yazidi = {
			ROOT = { set_character_flag = sr_yazidi_prov_flip }
		}
		secret_religious_society_jewish = {
			ROOT = { set_character_flag = sr_jewish_prov_flip }
		}
		secret_religious_society_samaritan = {
			ROOT = { set_character_flag = sr_samaritan_prov_flip }
		}
		secret_religious_society_karaite = {
			ROOT = { set_character_flag = sr_karaite_prov_flip }
		}
		secret_religious_society_hindu = {
			ROOT = { set_character_flag = sr_hindu_prov_flip }
		}
		secret_religious_society_buddhist = {
			ROOT = { set_character_flag = sr_buddhist_prov_flip }
		}
		secret_religious_society_jain = {
			ROOT = { set_character_flag = sr_jain_prov_flip }
		}
	}
}

# THIS owns the provinces which may need flipping, and we base the flip on THIS's flag sr_X_prov_flip
emf_sr_flip_secret_community_provinces_by_prov_flip_char_flag = {
	trigger_switch = {
		on_trigger = has_character_flag
		sr_catholic_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_catholic_community }
				religion = catholic
				remove_province_modifier = secret_catholic_community
			}
			clr_character_flag = sr_catholic_prov_flip
		}
		sr_cathar_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_cathar_community }
				religion = cathar
				remove_province_modifier = secret_cathar_community
			}
			clr_character_flag = sr_cathar_prov_flip
		}
		sr_fraticelli_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_fraticelli_community }
				religion = fraticelli
				remove_province_modifier = secret_fraticelli_community
			}
			clr_character_flag = sr_fraticelli_prov_flip
		}
		sr_waldensian_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_waldensian_community }
				religion = waldensian
				remove_province_modifier = secret_waldensian_community
			}
			clr_character_flag = sr_waldensian_prov_flip
		}
		sr_lollard_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_lollard_community }
				religion = lollard
				remove_province_modifier = secret_lollard_community
			}
			clr_character_flag = sr_lollard_prov_flip
		}
		sr_adoptionist_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_adoptionist_community }
				religion = adoptionist
				remove_province_modifier = secret_adoptionist_community
			}
			clr_character_flag = sr_adoptionist_prov_flip
		}
		sr_arian_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_arian_community }
				religion = arian
				remove_province_modifier = secret_arian_community
			}
			clr_character_flag = sr_arian_prov_flip
		}
		sr_orthodox_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_orthodox_community }
				religion = orthodox
				remove_province_modifier = secret_orthodox_community
			}
			clr_character_flag = sr_orthodox_prov_flip
		}
		sr_bogomilist_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_bogomilist_community }
				religion = bogomilist
				remove_province_modifier = secret_bogomilist_community
			}
			clr_character_flag = sr_bogomilist_prov_flip
		}
		sr_monothelite_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_monothelite_community }
				religion = monothelite
				remove_province_modifier = secret_monothelite_community
			}
			clr_character_flag = sr_monothelite_prov_flip
		}
		sr_iconoclast_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_iconoclast_community }
				religion = iconoclast
				remove_province_modifier = secret_iconoclast_community
			}
			clr_character_flag = sr_iconoclast_prov_flip
		}
		sr_syriac_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_syriac_community }
				religion = syriac
				remove_province_modifier = secret_syriac_community
			}
			clr_character_flag = sr_syriac_prov_flip
		}
		sr_maronite_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_maronite_community }
				religion = maronite
				remove_province_modifier = secret_maronite_community
			}
			clr_character_flag = sr_maronite_prov_flip
		}
		sr_miaphysite_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_miaphysite_community }
				religion = miaphysite
				remove_province_modifier = secret_miaphysite_community
			}
			clr_character_flag = sr_miaphysite_prov_flip
		}
		sr_monophysite_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_monophysite_community }
				religion = monophysite
				remove_province_modifier = secret_monophysite_community
			}
			clr_character_flag = sr_monophysite_prov_flip
		}
		sr_apostolic_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_apostolic_community }
				religion = apostolic
				remove_province_modifier = secret_apostolic_community
			}
			clr_character_flag = sr_apostolic_prov_flip
		}
		sr_paulician_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_paulician_community }
				religion = paulician
				remove_province_modifier = secret_paulician_community
			}
			clr_character_flag = sr_paulician_prov_flip
		}
		sr_tondrakian_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_tondrakian_community }
				religion = tondrakian
				remove_province_modifier = secret_tondrakian_community
			}
			clr_character_flag = sr_tondrakian_prov_flip
		}
		sr_nestorian_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_nestorian_community }
				religion = nestorian
				remove_province_modifier = secret_nestorian_community
			}
			clr_character_flag = sr_nestorian_prov_flip
		}
		sr_messalian_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_messalian_community }
				religion = messalian
				remove_province_modifier = secret_messalian_community
			}
			clr_character_flag = sr_messalian_prov_flip
		}
		sr_sunni_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_sunni_community }
				religion = sunni
				remove_province_modifier = secret_sunni_community
			}
			clr_character_flag = sr_sunni_prov_flip
		}
		sr_zikri_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zikri_community }
				religion = zikri
				remove_province_modifier = secret_zikri_community
			}
			clr_character_flag = sr_zikri_prov_flip
		}
		sr_mahdiyya_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_mahdiyya_community }
				religion = mahdiyya
				remove_province_modifier = secret_mahdiyya_community
			}
			clr_character_flag = sr_mahdiyya_prov_flip
		}
		sr_nabawiyya_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_nabawiyya_community }
				religion = nabawiyya
				remove_province_modifier = secret_nabawiyya_community
			}
			clr_character_flag = sr_nabawiyya_prov_flip
		}
		sr_ibadi_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_ibadi_community }
				religion = ibadi
				remove_province_modifier = secret_ibadi_community
			}
			clr_character_flag = sr_ibadi_prov_flip
		}
		sr_kharijite_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_kharijite_community }
				religion = kharijite
				remove_province_modifier = secret_kharijite_community
			}
			clr_character_flag = sr_kharijite_prov_flip
		}
		sr_haruri_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_haruri_community }
				religion = haruri
				remove_province_modifier = secret_haruri_community
			}
			clr_character_flag = sr_haruri_prov_flip
		}
		sr_shiite_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_shiite_community }
				religion = shiite
				remove_province_modifier = secret_shiite_community
			}
			clr_character_flag = sr_shiite_prov_flip
		}
		sr_waqifi_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_waqifi_community }
				religion = waqifi
				remove_province_modifier = secret_waqifi_community
			}
			clr_character_flag = sr_waqifi_prov_flip
		}
		sr_zaydi_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zaydi_community }
				religion = zaydi
				remove_province_modifier = secret_zaydi_community
			}
			clr_character_flag = sr_zaydi_prov_flip
		}
		sr_hurufi_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_hurufi_community }
				religion = hurufi
				remove_province_modifier = secret_hurufi_community
			}
			clr_character_flag = sr_hurufi_prov_flip
		}
		sr_ismaili_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_ismaili_community }
				religion = ismaili
				remove_province_modifier = secret_ismaili_community
			}
			clr_character_flag = sr_ismaili_prov_flip
		}
		sr_druze_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_druze_community }
				religion = druze
				remove_province_modifier = secret_druze_community
			}
			clr_character_flag = sr_druze_prov_flip
		}
		sr_qarmatian_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_qarmatian_community }
				religion = qarmatian
				remove_province_modifier = secret_qarmatian_community
			}
			clr_character_flag = sr_qarmatian_prov_flip
		}
		sr_norse_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_norse_pagan_reformed_community }
				religion = norse_pagan_reformed
				remove_province_modifier = secret_norse_pagan_reformed_community
			}
			clr_character_flag = sr_norse_pagan_reformed_prov_flip
		}
		sr_norse_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_norse_pagan_community }
				religion = norse_pagan
				remove_province_modifier = secret_norse_pagan_community
			}
			clr_character_flag = sr_norse_pagan_prov_flip
		}
		sr_tengri_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_tengri_pagan_reformed_community }
				religion = tengri_pagan_reformed
				remove_province_modifier = secret_tengri_pagan_reformed_community
			}
			clr_character_flag = sr_tengri_pagan_reformed_prov_flip
		}
		sr_tengri_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_tengri_pagan_community }
				religion = tengri_pagan
				remove_province_modifier = secret_tengri_pagan_community
			}
			clr_character_flag = sr_tengri_pagan_prov_flip
		}
		sr_baltic_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_baltic_pagan_reformed_community }
				religion = baltic_pagan_reformed
				remove_province_modifier = secret_baltic_pagan_reformed_community
			}
			clr_character_flag = sr_baltic_pagan_reformed_prov_flip
		}
		sr_baltic_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_baltic_pagan_community }
				religion = baltic_pagan
				remove_province_modifier = secret_baltic_pagan_community
			}
			clr_character_flag = sr_baltic_pagan_prov_flip
		}
		sr_finnish_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_finnish_pagan_reformed_community }
				religion = finnish_pagan_reformed
				remove_province_modifier = secret_finnish_pagan_reformed_community
			}
			clr_character_flag = sr_finnish_pagan_reformed_prov_flip
		}
		sr_finnish_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_finnish_pagan_community }
				religion = finnish_pagan
				remove_province_modifier = secret_finnish_pagan_community
			}
			clr_character_flag = sr_finnish_pagan_prov_flip
		}
		sr_aztec_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_aztec_reformed_community }
				religion = aztec_reformed
				remove_province_modifier = secret_aztec_reformed_community
			}
			clr_character_flag = sr_aztec_reformed_prov_flip
		}
		sr_aztec_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_aztec_community }
				religion = aztec
				remove_province_modifier = secret_aztec_community
			}
			clr_character_flag = sr_aztec_prov_flip
		}
		sr_slavic_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_slavic_pagan_reformed_community }
				religion = slavic_pagan_reformed
				remove_province_modifier = secret_slavic_pagan_reformed_community
			}
			clr_character_flag = sr_slavic_pagan_reformed_prov_flip
		}
		sr_slavic_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_slavic_pagan_community }
				religion = slavic_pagan
				remove_province_modifier = secret_slavic_pagan_community
			}
			clr_character_flag = sr_slavic_pagan_prov_flip
		}
		sr_west_african_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_west_african_pagan_reformed_community }
				religion = west_african_pagan_reformed
				remove_province_modifier = secret_west_african_pagan_reformed_community
			}
			clr_character_flag = sr_west_african_pagan_reformed_prov_flip
		}
		sr_west_african_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_west_african_pagan_community }
				religion = west_african_pagan
				remove_province_modifier = secret_west_african_pagan_community
			}
			clr_character_flag = sr_west_african_pagan_prov_flip
		}
		sr_east_african_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_east_african_pagan_reformed_community }
				religion = east_african_pagan_reformed
				remove_province_modifier = secret_east_african_pagan_reformed_community
			}
			clr_character_flag = sr_east_african_pagan_reformed_prov_flip
		}
		sr_east_african_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_east_african_pagan_community }
				religion = east_african_pagan
				remove_province_modifier = secret_east_african_pagan_community
			}
			clr_character_flag = sr_east_african_pagan_prov_flip
		}
		sr_zun_pagan_reformed_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zun_pagan_reformed_community }
				religion = zun_pagan_reformed
				remove_province_modifier = secret_zun_pagan_reformed_community
			}
			clr_character_flag = sr_zun_pagan_reformed_prov_flip
		}
		sr_zun_pagan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zun_pagan_community }
				religion = zun_pagan
				remove_province_modifier = secret_zun_pagan_community
			}
			clr_character_flag = sr_zun_pagan_prov_flip
		}
		sr_zoroastrian_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zoroastrian_community }
				religion = zoroastrian
				remove_province_modifier = secret_zoroastrian_community
			}
			clr_character_flag = sr_zoroastrian_prov_flip
		}
		sr_mazdaki_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_mazdaki_community }
				religion = mazdaki
				remove_province_modifier = secret_mazdaki_community
			}
			clr_character_flag = sr_mazdaki_prov_flip
		}
		sr_zurvanist_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_zurvanist_community }
				religion = zurvanist
				remove_province_modifier = secret_zurvanist_community
			}
			clr_character_flag = sr_zurvanist_prov_flip
		}
		sr_manichean_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_manichean_community }
				religion = manichean
				remove_province_modifier = secret_manichean_community
			}
			clr_character_flag = sr_manichean_prov_flip
		}
		sr_mandaean_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_mandaean_community }
				religion = mandaean
				remove_province_modifier = secret_mandaean_community
			}
			clr_character_flag = sr_mandaean_prov_flip
		}
		sr_yazidi_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_yazidi_community }
				religion = yazidi
				remove_province_modifier = secret_yazidi_community
			}
			clr_character_flag = sr_yazidi_prov_flip
		}
		sr_jewish_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_jewish_community }
				religion = jewish
				remove_province_modifier = secret_jewish_community
			}
			clr_character_flag = sr_jewish_prov_flip
		}
		sr_samaritan_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_samaritan_community }
				religion = samaritan
				remove_province_modifier = secret_samaritan_community
			}
			clr_character_flag = sr_samaritan_prov_flip
		}
		sr_karaite_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_karaite_community }
				religion = karaite
				remove_province_modifier = secret_karaite_community
			}
			clr_character_flag = sr_karaite_prov_flip
		}
		sr_hindu_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_hindu_community }
				religion = hindu
				remove_province_modifier = secret_hindu_community
			}
			clr_character_flag = sr_hindu_prov_flip
		}
		sr_buddhist_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_buddhist_community }
				religion = buddhist
				remove_province_modifier = secret_buddhist_community
			}
			clr_character_flag = sr_buddhist_prov_flip
		}
		sr_jain_prov_flip = {
			any_demesne_province = {
				limit = { has_province_modifier = secret_jain_community }
				religion = jain
				remove_province_modifier = secret_jain_community
			}
			clr_character_flag = sr_jain_prov_flip
		}
	}
}

# THIS's secret religion determines which type of secret community to add to event_target:target_province
emf_sr_add_secret_community_to_target_province = {
	trigger_switch = {
		on_trigger = secret_religion
		catholic = {
			event_target:target_province = {
				add_province_modifier = { name = secret_catholic_community duration = -1 }
			}
		}
		cathar = {
			event_target:target_province = {
				add_province_modifier = { name = secret_cathar_community duration = -1 }
			}
		}
		fraticelli = {
			event_target:target_province = {
				add_province_modifier = { name = secret_fraticelli_community duration = -1 }
			}
		}
		waldensian = {
			event_target:target_province = {
				add_province_modifier = { name = secret_waldensian_community duration = -1 }
			}
		}
		lollard = {
			event_target:target_province = {
				add_province_modifier = { name = secret_lollard_community duration = -1 }
			}
		}
		adoptionist = {
			event_target:target_province = {
				add_province_modifier = { name = secret_adoptionist_community duration = -1 }
			}
		}
		arian = {
			event_target:target_province = {
				add_province_modifier = { name = secret_arian_community duration = -1 }
			}
		}
		orthodox = {
			event_target:target_province = {
				add_province_modifier = { name = secret_orthodox_community duration = -1 }
			}
		}
		bogomilist = {
			event_target:target_province = {
				add_province_modifier = { name = secret_bogomilist_community duration = -1 }
			}
		}
		monothelite = {
			event_target:target_province = {
				add_province_modifier = { name = secret_monothelite_community duration = -1 }
			}
		}
		iconoclast = {
			event_target:target_province = {
				add_province_modifier = { name = secret_iconoclast_community duration = -1 }
			}
		}
		syriac = {
			event_target:target_province = {
				add_province_modifier = { name = secret_syriac_community duration = -1 }
			}
		}
		maronite = {
			event_target:target_province = {
				add_province_modifier = { name = secret_maronite_community duration = -1 }
			}
		}
		miaphysite = {
			event_target:target_province = {
				add_province_modifier = { name = secret_miaphysite_community duration = -1 }
			}
		}
		monophysite = {
			event_target:target_province = {
				add_province_modifier = { name = secret_monophysite_community duration = -1 }
			}
		}
		apostolic = {
			event_target:target_province = {
				add_province_modifier = { name = secret_apostolic_community duration = -1 }
			}
		}
		paulician = {
			event_target:target_province = {
				add_province_modifier = { name = secret_paulician_community duration = -1 }
			}
		}
		tondrakian = {
			event_target:target_province = {
				add_province_modifier = { name = secret_tondrakian_community duration = -1 }
			}
		}
		nestorian = {
			event_target:target_province = {
				add_province_modifier = { name = secret_nestorian_community duration = -1 }
			}
		}
		messalian = {
			event_target:target_province = {
				add_province_modifier = { name = secret_messalian_community duration = -1 }
			}
		}
		sunni = {
			event_target:target_province = {
				add_province_modifier = { name = secret_sunni_community duration = -1 }
			}
		}
		zikri = {
			event_target:target_province = {
				add_province_modifier = { name = secret_zikri_community duration = -1 }
			}
		}
		mahdiyya = {
			event_target:target_province = {
				add_province_modifier = { name = secret_mahdiyya_community duration = -1 }
			}
		}
		nabawiyya = {
			event_target:target_province = {
				add_province_modifier = { name = secret_nabawiyya_community duration = -1 }
			}
		}
		ibadi = {
			event_target:target_province = {
				add_province_modifier = { name = secret_ibadi_community duration = -1 }
			}
		}
		kharijite = {
			event_target:target_province = {
				add_province_modifier = { name = secret_kharijite_community duration = -1 }
			}
		}
		haruri = {
			event_target:target_province = {
				add_province_modifier = { name = secret_haruri_community duration = -1 }
			}
		}
		shiite = {
			event_target:target_province = {
				add_province_modifier = { name = secret_shiite_community duration = -1 }
			}
		}
		waqifi = {
			event_target:target_province = {
				add_province_modifier = { name = secret_waqifi_community duration = -1 }
			}
		}
		zaydi = {
			event_target:target_province = {
				add_province_modifier = { name = secret_zaydi_community duration = -1 }
			}
		}
		hurufi = {
			event_target:target_province = {
				add_province_modifier = { name = secret_hurufi_community duration = -1 }
			}
		}
		ismaili = {
			event_target:target_province = {
				add_province_modifier = { name = secret_ismaili_community duration = -1 }
			}
		}
		druze = {
			event_target:target_province = {
				add_province_modifier = { name = secret_druze_community duration = -1 }
			}
		}
		qarmatian = {
			event_target:target_province = {
				add_province_modifier = { name = secret_qarmatian_community duration = -1 }
			}
		}
		norse_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_norse_pagan_reformed_community duration = -1 }
			}
		}
		norse_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_norse_pagan_community duration = -1 }
			}
		}
		tengri_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_tengri_pagan_reformed_community duration = -1 }
			}
		}
		tengri_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_tengri_pagan_community duration = -1 }
			}
		}
		baltic_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_baltic_pagan_reformed_community duration = -1 }
			}
		}
		baltic_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_baltic_pagan_community duration = -1 }
			}
		}
		finnish_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_finnish_pagan_reformed_community duration = -1 }
			}
		}
		finnish_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_finnish_pagan_community duration = -1 }
			}
		}
		aztec_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_aztec_reformed_community duration = -1 }
			}
		}
		aztec = {
			event_target:target_province = {
				add_province_modifier = { name = secret_aztec_community duration = -1 }
			}
		}
		slavic_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_slavic_pagan_reformed_community duration = -1 }
			}
		}
		slavic_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_slavic_pagan_community duration = -1 }
			}
		}
		west_african_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_west_african_pagan_reformed_community duration = -1 }
			}
		}
		west_african_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_west_african_pagan_community duration = -1 }
			}
		}
		east_african_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_east_african_pagan_reformed_community duration = -1 }
			}
		}
		east_african_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_east_african_pagan_community duration = -1 }
			}
		}
		zun_pagan_reformed = {
			event_target:target_province = {
				add_province_modifier = { name = secret_zun_pagan_reformed_community duration = -1 }
			}
		}
		zun_pagan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_zun_pagan_community duration = -1 }
			}
		}
		zoroastrian = {
			event_target:target_province = {
				add_province_modifier = { name = secret_zoroastrian_community duration = -1 }
			}
		}
		mazdaki = {
			event_target:target_province = {
				add_province_modifier = { name = secret_mazdaki_community duration = -1 }
			}
		}
		zurvanist = {
			event_target:target_province = {
				add_province_modifier = { name = secret_zurvanist_community duration = -1 }
			}
		}
		manichean = {
			event_target:target_province = {
				add_province_modifier = { name = secret_manichean_community duration = -1 }
			}
		}
		mandaean = {
			event_target:target_province = {
				add_province_modifier = { name = secret_mandaean_community duration = -1 }
			}
		}
		yazidi = {
			event_target:target_province = {
				add_province_modifier = { name = secret_yazidi_community duration = -1 }
			}
		}
		jewish = {
			event_target:target_province = {
				add_province_modifier = { name = secret_jewish_community duration = -1 }
			}
		}
		samaritan = {
			event_target:target_province = {
				add_province_modifier = { name = secret_samaritan_community duration = -1 }
			}
		}
		karaite = {
			event_target:target_province = {
				add_province_modifier = { name = secret_karaite_community duration = -1 }
			}
		}
		hindu = {
			event_target:target_province = {
				add_province_modifier = { name = secret_hindu_community duration = -1 }
			}
		}
		buddhist = {
			event_target:target_province = {
				add_province_modifier = { name = secret_buddhist_community duration = -1 }
			}
		}
		jain = {
			event_target:target_province = {
				add_province_modifier = { name = secret_jain_community duration = -1 }
			}
		}
	}
}

# contains most of the implementation of vanilla event MNM.10031, except with support for joining all
# secret religious cults (vanilla only supported a select few)
emf_sr_ai_try_to_join_society = {
	random_list = {
		700 = { } # Fall back dead weight
		100 = {
			trigger = {
				can_join_society = monastic_order_benedictine
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = gardener
					trait = monk
					trait = nun
					learning = 16
					is_priest = yes
				}
			}
			join_society = monastic_order_benedictine
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = monastic_order_dominican
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = gardener
					trait = monk
					trait = nun
					learning = 16
					is_priest = yes
				}
			}
			join_society = monastic_order_dominican
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = monastic_order_orthodox
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = gardener
					trait = monk
					trait = nun
					learning = 16
					is_priest = yes
				}
			}
			join_society = monastic_order_orthodox
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = monastic_order_nestorian
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = gardener
					trait = monk
					trait = nun
					learning = 16
					is_priest = yes
				}
			}
			join_society = monastic_order_nestorian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = monastic_order_monophysite
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = gardener
					trait = monk
					trait = nun
					learning = 16
					is_priest = yes
				}
			}
			join_society = monastic_order_monophysite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = monastic_order_hindu
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = brahmin
					learning = 16
					is_priest = yes
				}
			}
			join_society = monastic_order_hindu
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = monastic_order_buddhist
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = brahmin
					learning = 16
					is_priest = yes
				}
			}
			join_society = monastic_order_buddhist
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = {
			trigger = {
				can_join_society = monastic_order_jain
			}
			modifier = {
				factor = 3
				OR = {
					trait = zealous
					trait = scholar
					trait = theologian
					trait = brahmin
					learning = 16
					is_priest = yes
				}
			}
			join_society = monastic_order_jain
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		150 = {
			trigger = {
				can_join_society = hermetics
			}
			modifier = {
				factor = 5
				is_dumb_trigger = no
				OR = { 
					learning = 12
					trait = scholar
					trait = erudite
					trait = genius
					trait = mystic
				}
			}
			modifier = {
				factor = 0
				is_landed = no
			}
			join_society = hermetics
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		100 = { 
			trigger = {
				can_join_society = the_assassins
			}
			modifier = {
				factor = 0.5
				is_landed = no
			}
			modifier = {
				factor = 2
				is_landed = yes
			}
			modifier = {
				factor = 5
				NOT = { trait = decadent }
				OR = {
					trait = zealous
					trait = schemer
					trait = elusive_shadow
					trait = deceitful
					trait = ambitious
					intrigue = 18
				}
			}
			join_society = the_assassins
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		50 = { 
			trigger = {
				can_join_society = the_satanists
			}
			modifier = {
				factor = 5
				OR = {
					has_impious_trait_trigger = yes
					has_vice_trigger = yes
					trait = drunkard
					trait = possessed
					trait = lunatic
				}
			}
			join_society = the_satanists
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		50 = { 
			trigger = {
				can_join_society = the_trollcrafters
			}
			modifier = {
				factor = 5
				OR = {
					has_impious_trait_trigger = yes
					has_vice_trigger = yes
					trait = drunkard
					trait = possessed
					trait = lunatic
				}
			}
			join_society = the_trollcrafters
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		50 = { 
			trigger = {
				can_join_society = the_cult_of_kali
			}
			modifier = {
				factor = 5
				OR = {
					has_impious_trait_trigger = yes
					has_vice_trigger = yes
					trait = drunkard
					trait = possessed
					trait = lunatic
				}
			}
			join_society = the_cult_of_kali
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		50 = { 
			trigger = {
				can_join_society = the_cold_ones
			}
			modifier = {
				factor = 5
				OR = {
					has_impious_trait_trigger = yes
					has_vice_trigger = yes
					trait = drunkard
					trait = possessed
					trait = lunatic
				}
			}
			join_society = the_cold_ones
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		50 = {
			trigger = {
				can_join_society = the_plaguebringers
			}
			modifier = {
				factor = 5
				OR = {
					has_impious_trait_trigger = yes
					has_vice_trigger = yes
					trait = drunkard
					trait = possessed
					trait = lunatic
				}
			}
			join_society = the_plaguebringers
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_catholic }
			join_society = secret_religious_society_catholic
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_cathar }
			join_society = secret_religious_society_cathar
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_fraticelli }
			join_society = secret_religious_society_fraticelli
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_waldensian }
			join_society = secret_religious_society_waldensian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_lollard }
			join_society = secret_religious_society_lollard
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_adoptionist }
			join_society = secret_religious_society_adoptionist
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_arian }
			join_society = secret_religious_society_arian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_orthodox }
			join_society = secret_religious_society_orthodox
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_bogomilist }
			join_society = secret_religious_society_bogomilist
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_monothelite }
			join_society = secret_religious_society_monothelite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_iconoclast }
			join_society = secret_religious_society_iconoclast
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_syriac }
			join_society = secret_religious_society_syriac
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_maronite }
			join_society = secret_religious_society_maronite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_miaphysite }
			join_society = secret_religious_society_miaphysite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_monophysite }
			join_society = secret_religious_society_monophysite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_apostolic }
			join_society = secret_religious_society_apostolic
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_paulician }
			join_society = secret_religious_society_paulician
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_tondrakian }
			join_society = secret_religious_society_tondrakian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_nestorian }
			join_society = secret_religious_society_nestorian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_messalian }
			join_society = secret_religious_society_messalian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_sunni }
			join_society = secret_religious_society_sunni
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_zikri }
			join_society = secret_religious_society_zikri
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_mahdiyya }
			join_society = secret_religious_society_mahdiyya
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_nabawiyya }
			join_society = secret_religious_society_nabawiyya
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_ibadi }
			join_society = secret_religious_society_ibadi
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_kharijite }
			join_society = secret_religious_society_kharijite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_haruri }
			join_society = secret_religious_society_haruri
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_shiite }
			join_society = secret_religious_society_shiite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_waqifi }
			join_society = secret_religious_society_waqifi
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_zaydi }
			join_society = secret_religious_society_zaydi
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_hurufi }
			join_society = secret_religious_society_hurufi
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_ismaili }
			join_society = secret_religious_society_ismaili
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_druze }
			join_society = secret_religious_society_druze
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_qarmatian }
			join_society = secret_religious_society_qarmatian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_norse_pagan_reformed }
			join_society = secret_religious_society_norse_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_norse_pagan }
			join_society = secret_religious_society_norse_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_tengri_pagan_reformed }
			join_society = secret_religious_society_tengri_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_tengri_pagan }
			join_society = secret_religious_society_tengri_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_baltic_pagan_reformed }
			join_society = secret_religious_society_baltic_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_baltic_pagan }
			join_society = secret_religious_society_baltic_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_finnish_pagan_reformed }
			join_society = secret_religious_society_finnish_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_finnish_pagan }
			join_society = secret_religious_society_finnish_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_aztec_reformed }
			join_society = secret_religious_society_aztec_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_aztec }
			join_society = secret_religious_society_aztec
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_slavic_pagan_reformed }
			join_society = secret_religious_society_slavic_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_slavic_pagan }
			join_society = secret_religious_society_slavic_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_west_african_pagan_reformed }
			join_society = secret_religious_society_west_african_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_west_african_pagan }
			join_society = secret_religious_society_west_african_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_east_african_pagan_reformed }
			join_society = secret_religious_society_east_african_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_east_african_pagan }
			join_society = secret_religious_society_east_african_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_zun_pagan_reformed }
			join_society = secret_religious_society_zun_pagan_reformed
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_zun_pagan }
			join_society = secret_religious_society_zun_pagan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_zoroastrian }
			join_society = secret_religious_society_zoroastrian
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_mazdaki }
			join_society = secret_religious_society_mazdaki
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_zurvanist }
			join_society = secret_religious_society_zurvanist
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_manichean }
			join_society = secret_religious_society_manichean
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_mandaean }
			join_society = secret_religious_society_mandaean
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_yazidi }
			join_society = secret_religious_society_yazidi
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_jewish }
			join_society = secret_religious_society_jewish
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_samaritan }
			join_society = secret_religious_society_samaritan
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_karaite }
			join_society = secret_religious_society_karaite
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_hindu }
			join_society = secret_religious_society_hindu
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_buddhist }
			join_society = secret_religious_society_buddhist
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
		200 = {
			trigger = { can_join_society = secret_religious_society_jain }
			join_society = secret_religious_society_jain
			emf_sr_add_random_society_influence_if_small = yes
			emf_sr_set_grandmaster_if_none = yes
		}
	}
}
