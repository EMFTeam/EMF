# -*- ck2.scripted_effects -*-

shattered_conqueror_spawn_effect = {
	random_independent_ruler = {
		limit = {
			ai = yes
			is_landed = yes
			higher_tier_than = BARON
			NOT = {
				controls_religion = yes
			}
			NOR = {
				any_independent_ruler = {
					has_character_flag = great_conqueror
					NOT = {
						distance_from_realm = { who = PREV value = 400 }
					}
				}
				any_neighbor_independent_ruler = {
					ai = no
				}
			}
		}
		preferred_limit = {
			is_adult = yes
			practical_age < 40
		}
		preferred_limit = {
			is_adult = yes
			practical_age < 60
		}
		preferred_limit = {
			is_adult = yes
		}
		if = {
			limit = {
				is_female = yes
			}
			create_bloodline = {
				type = great_conqueror_female
			}
			new_bloodline = {
				set_description = "bloodline_desc_great_conqueror"
			}
		}
		if = {
			limit = {
				is_female = no
			}
			create_bloodline = {
				type = great_conqueror_male
			}
			new_bloodline = {
				set_description = "bloodline_desc_great_conqueror"
			}
		}
		save_event_target_as = great_conqueror
		set_character_flag = great_conqueror
		prestige = 2000
		piety = 1000
		wealth = 500
		emf_dna_set_flags_for_high_health = yes
		health = 1
		while = {
			count = 10
			limit = { always = yes }
			emf_increase_fertility = yes
		}
		remove_trait = dim
		remove_trait = slow
		remove_trait = imbecile
		emf_dna_improve_homozygous_recessive_for_intelligence = yes
		emf_dna_improve_homozygous_recessive_for_strength = yes
		remove_trait = delicate
		remove_trait = weak
		remove_trait = dull
		remove_trait = content
		remove_trait = shy
		remove_trait = slothful
		add_trait = diligent
		add_trait = ambitious
		add_trait = adventurer
		random_list = {
			20 = {
				emf_dna_add_trait_strong = yes
				add_trait = sturdy
			}
			20 = {
				emf_dna_add_trait_strong = yes
				emf_dna_add_trait_genius = yes
			}
			20 = {
				emf_dna_add_trait_strong = yes
				add_trait = shrewd
			}
			20 = {
				emf_dna_add_trait_strong = yes
				add_trait = robust
			}
			20 = {
				emf_dna_add_trait_genius = yes
				add_trait = robust
			}
		}
		random = {
			chance = 10
			emf_dna_remove_trait_dwarf = yes
			emf_dna_add_trait_giant = yes
		}
		# Combat traits for great conquerors
		random_list = {
			1 = { add_trait = skilled_warrior }
			3 = { add_trait = master_warrior }
		}
		if = {
			limit = {
				graphical_culture = horsegfx
			}
			random = {
				chance = 10
				add_artifact = crown_unicorn_helmet
			}
		}
		add_artifact = sword_great_conqueror
		new_artifact = {
			set_name = conqueror_sword_name
			set_description = conqueror_sword_desc
		}
		if = {
			limit = {
				is_nomadic = no
			}
			capital_scope = {
				event_target:great_conqueror = {
					spawn_unit = {
						province = PREV
						home = PREV
						owner = event_target:great_conqueror
						attrition = 0.25
						scaled_by_biggest_garrison = 0.8
						reinforces = yes
						reinforce_rate_multiplier = 0.25
						troops = {
							archers = { 6 6 }
							light_cavalry = { 3 3 }
							knights = { 1 1 }
							light_infantry = { 7 7 }
							heavy_infantry = { 3 3 }
						}
					}
					spawn_unit = {
						province = PREV
						home = PREV
						owner = event_target:great_conqueror
						attrition = 0.25
						scaled_by_biggest_garrison = 0.8
						reinforces = yes
						reinforce_rate_multiplier = 0.25
						troops = {
							archers = { 6 6 }
							light_cavalry = { 3 3 }
							knights = { 1 1 }
							light_infantry = { 7 7 }
							heavy_infantry = { 3 3 }
						}
					}
					spawn_unit = {
						province = PREV
						home = PREV
						owner = event_target:great_conqueror
						attrition = 0.25
						scaled_by_biggest_garrison = 0.8
						reinforces = yes
						reinforce_rate_multiplier = 0.25
						troops = {
							archers = { 6 6 }
							light_cavalry = { 3 3 }
							knights = { 1 1 }
							light_infantry = { 7 7 }
							heavy_infantry = { 3 3 }
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				is_nomadic = yes
			}
			capital_scope = {
				event_target:great_conqueror = {
					spawn_unit = {
						province = PREV
						home = PREV
						owner = event_target:great_conqueror
						attrition = 0.25
						reinforces = yes
						reinforce_rate_multiplier = 0.25
						troops = {
							light_cavalry = { 700 700 }
							horse_archers = { 500 500 }
							knights = { 100 100 }
						}
					}
					spawn_unit = {
						province = PREV
						home = PREV
						owner = event_target:great_conqueror
						attrition = 0.25
						reinforces = yes
						reinforce_rate_multiplier = 0.25
						troops = {
							light_cavalry = { 700 700 }
							horse_archers = { 500 500 }
							knights = { 100 100 }
						}
					}
					spawn_unit = {
						province = PREV
						home = PREV
						owner = event_target:great_conqueror
						attrition = 0.25
						reinforces = yes
						reinforce_rate_multiplier = 0.25
						troops = {
							light_cavalry = { 700 700 }
							horse_archers = { 500 500 }
							knights = { 100 100 }
						}
					}
				}
			}
		}
		if = {
			limit = {
				any_realm_province = {
					port = yes
				}
			}
			spawn_fleet = {
				province = closest
				owner = event_target:great_conqueror
				troops = {
					galleys = { 150 150 }
				}
			}
		}
		random_list = {
			10 = {
				give_nickname = nick_the_lawgiver
			}
			10 = {
				give_nickname = nick_the_hammer
			}
			10 = {
				give_nickname = nick_the_conqueror
			}
			10 = {
				give_nickname = nick_the_avenger
			}
			10 = {
				give_nickname = nick_the_fearless
			}
			10 = {
				give_nickname = nick_the_glorious
			}
			10 = {
				give_nickname = nick_the_stranger
			}
			10 = {
				give_nickname = nick_the_legendary
			}
			10 = {
				give_nickname = nick_the_destroyer
			}
			10 = {
				give_nickname = nick_the_world_burner
			}
			10 = {
				give_nickname = nick_the_bear
			}
			10 = {
				give_nickname = nick_the_boar
			}
			10 = {
				give_nickname = nick_the_ironside
			}
			10 = {
				give_nickname = nick_the_lion
			}
			10 = {
				give_nickname = nick_the_lionheart
			}
			10 = {
				give_nickname = nick_the_magnificent
			}
			10 = {
				give_nickname = nick_the_dragon
			}
			10 = {
				give_nickname = nick_the_great
			}
			10 = {
				give_nickname = nick_the_wolf
			}
			10 = {
				give_nickname = nick_the_giant
				emf_dna_add_trait_giant = yes
				emf_dna_remove_trait_dwarf = yes
			}
			10 = {
				give_nickname = nick_the_cyclops
				add_trait = one_eyed
				emf_dna_add_trait_giant = yes
				emf_dna_remove_trait_dwarf = yes
			}
			10 = {
				give_nickname = nick_the_roaring_flame
				set_character_flag = taught_chinese_strategy
				add_trait = master_of_flame
			}
			10 = {
				save_event_target_as = nick_target_the_shield_of_capital
				give_nickname = nick_the_shield_of_capital

			}
			10 = {
				give_nickname = nick_the_goliath
				emf_dna_add_trait_giant = yes
			}
			20 = {
				give_nickname = nick_the_mythological_creature
			}
		}
	}
}

spawn_hre_effect = {
	if = {
		limit = {
			any_province = {
				is_capital = yes
				any_province_holding = {
					OR = {
						holding_type = castle
						holding_type = temple
						holding_type = city
						holding_type = tribal
					}
				}
				port = no
				empire = { has_holder = no }
				holder_scope = {
					independent = yes
				}
			}
		}
		random_province = {
			limit = {
				is_capital = yes
				any_province_holding = {
					OR = {
						holding_type = castle
						holding_type = temple
						holding_type = city
						holding_type = tribal
					}
				}
				port = no
				empire = { has_holder = no }
				holder_scope = {
					independent = yes
				}
			}
			preferred_limit = {
				holder_scope = {
					is_feudal = yes
					is_adult = yes
				}
				NOT = {
					empire = {
						any_de_jure_vassal_title = {
							holder_scope = {
								OR = {
									is_tribal = yes
									is_nomadic = yes
								}
							}
						}
					}
				}
			}
			preferred_limit = {
				holder_scope = {
					is_feudal = yes
				}
				NOT = {
					empire = {
						any_de_jure_vassal_title = {
							holder_scope = {
								OR = {
									is_tribal = yes
									is_nomadic = yes
								}
							}
						}
					}
				}
			}
			preferred_limit = {
				NOT = {
					empire = {
						any_de_jure_vassal_title = {
							holder_scope = {
								OR = {
									is_tribal = yes
									is_nomadic = yes
								}
							}
						}
					}
				}
			}
			preferred_limit = {
				holder_scope = {
					is_feudal = yes
					is_adult = yes
				}
				NOT = {
					empire = {
						any_de_jure_vassal_title = {
							holder_scope = {
								is_nomadic = yes
							}
						}
					}
				}
			}
			preferred_limit = {
				holder_scope = {
					is_feudal = yes
				}
				NOT = {
					empire = {
						any_de_jure_vassal_title = {
							holder_scope = {
								is_nomadic = yes
							}
						}
					}
				}
			}
			preferred_limit = {
				NOT = {
					empire = {
						any_de_jure_vassal_title = {
							holder_scope = {
								is_nomadic = yes
							}
						}
					}
				}
			}
			emf_spawn_hre_from_county = yes
		}
	}
	else_if = {
		limit = {
			any_province = {
				is_capital = yes
				any_province_holding = {
					OR = {
						holding_type = castle
						holding_type = temple
						holding_type = city
						holding_type = tribal
					}
				}
				port = no
				empire = {
					NOR = {
						has_title_flag = alternate_hre
						has_title_flag = alternate_byz
					}
					has_holder = yes
				}
				holder_scope = {
					independent = yes
				}
			}
		}
		random_province = {
			limit = {
				is_capital = yes
				any_province_holding = {
					OR = {
						holding_type = castle
						holding_type = temple
						holding_type = city
						holding_type = tribal
					}
				}
				port = no
				empire = {
					NOR = {
						has_title_flag = alternate_hre
						has_title_flag = alternate_byz
					}
					has_holder = yes
				}
				holder_scope = {
					independent = yes
				}
			}
			preferred_limit = {
				holder_scope = {
					is_feudal = yes
					is_adult = yes
				}
				NOT = {
					empire = {
						any_de_jure_vassal_title = {
							holder_scope = {
								OR = {
									is_tribal = yes
									is_nomadic = yes
								}
							}
						}
					}
				}
			}
			preferred_limit = {
				holder_scope = {
					is_feudal = yes
				}
				NOT = {
					empire = {
						any_de_jure_vassal_title = {
							holder_scope = {
								OR = {
									is_tribal = yes
									is_nomadic = yes
								}
							}
						}
					}
				}
			}
			preferred_limit = {
				NOT = {
					empire = {
						any_de_jure_vassal_title = {
							holder_scope = {
								OR = {
									is_tribal = yes
									is_nomadic = yes
								}
							}
						}
					}
				}
			}
			preferred_limit = {
				holder_scope = {
					is_feudal = yes
					is_adult = yes
				}
				NOT = {
					empire = {
						any_de_jure_vassal_title = {
							holder_scope = {
								is_nomadic = yes
							}
						}
					}
				}
			}
			preferred_limit = {
				holder_scope = {
					is_feudal = yes
				}
				NOT = {
					empire = {
						any_de_jure_vassal_title = {
							holder_scope = {
								is_nomadic = yes
							}
						}
					}
				}
			}
			preferred_limit = {
				NOT = {
					empire = {
						any_de_jure_vassal_title = {
							holder_scope = {
								is_nomadic = yes
							}
						}
					}
				}
			}
			emf_spawn_hre_from_county = yes
		}
	}
}

spawn_byz_effect = {
	emf_spawn_byz = yes
}

spawn_merchant_republics_effect = {
	spawn_merchant_republic_effect = yes
	spawn_merchant_republic_effect = yes
	spawn_merchant_republic_effect = yes
	random = {
		chance = 60
		spawn_merchant_republic_effect = yes
	}
	random = {
		chance = 30
		spawn_merchant_republic_effect = yes
	}
	random = {
		chance = 5
		spawn_merchant_republic_effect = yes
	}
}

spawn_merchant_republic_effect = {
	random_character = {
		limit = {
			OR = {
				is_government_potential = merchant_republic_government
				is_government_potential = bogomilist_merchant_republic_government
				is_government_potential = muslim_merchant_republic_government
			}
			is_landed = yes
			any_demesne_title = {
				tier = COUNT
			}
			NOR = {
				is_merchant_republic = yes
				is_theocracy = yes
				holy_order = yes
				mercenary = yes
				controls_religion = yes 
			}
			capital_scope = {
				location = {
					port = yes
					any_province_holding = {
						holding_type = city
					}
				}
			}
		}
		preferred_limit = {
			tier = DUKE
			is_adult = yes
			NOT = {
				location = {
					any_character = {
						is_landed = yes
						is_merchant_republic = yes
						NOT = {
							distance = { value = 400 where = PREV }
						}
					}
				}
			}
		}
		preferred_limit = {
			tier = DUKE
			NOT = {
				location = {
					any_character = {
						is_landed = yes
						is_merchant_republic = yes
						NOT = {
							distance = { value = 400 where = PREV }
						}
					}
				}
			}
		}
		preferred_limit = {
			NOT = {
				location = {
					any_character = {
						is_landed = yes
						is_merchant_republic = yes
						NOT = {
							distance = { value = 400 where = PREV }
						}
					}
				}
			}
		}
		
		wealth = 500
		save_event_target_as = target_merchant_republic
		
		if = {
			limit = {
				tier = COUNT
				capital_scope = {
					NOT = {
						duchy = {
							holder_scope = {
								always = yes
							}
						}
					}
				}
			}
			capital_scope = {
				duchy = {
					grant_title = event_target:target_merchant_republic
				}
			}
		}
		else_if = {
			limit = {
				tier = COUNT
				capital_scope = {
					duchy = {
						holder_scope = {
							always = yes
						}
					}
				}
			}
			random_demesne_title = {
				limit = {
					tier = COUNT
				}
				save_event_target_as = target_coa
			}
			create_title = {
				tier = DUKE
				landless = yes
				name = "GENERIC_REPUBLIC_NAME"
				holder = PREV
				culture = PREV
				base_title = event_target:target_coa
			}
			primary_title = {
				set_coa = event_target:target_coa
			}
		}
		
		
		any_vassal = {
			limit = {
				is_landed = yes
				is_government_potential = republic_government
				NOR = {
					is_merchant_republic = yes
					is_theocracy = yes
					holy_order = yes
					mercenary = yes
					controls_religion = yes 
				}
				capital_scope = {
					location = {
						any_province_holding = {
							holding_type = city
						}
					}
				}
			}
			save_event_target_as = target_vassal
			set_government_type = republic_government
			any_demesne_province = {
				any_province_holding = {
					limit = {
						holding_type = city
					}
					grant_title = event_target:target_vassal
					make_capital_holding = yes
				}
			}
			any_demesne_title = {
				limit = {
					tier = BARON
					NOT = {
						holding_type = city
					}
				}
				save_event_target_as = target_barony
				random_list = {
					50 = {
						modifier = {
							factor = 0
							event_target:target_vassal = {
								has_religion_feature = religion_matriarchal
							}
						}
						create_random_soldier = {
							random_traits = yes
							dynasty = random
							religion = event_target:target_vassal
							culture = event_target:target_vassal
							female = no
							age = 25
						}
					}
					50 = {
						modifier = {
							factor = 0
							event_target:target_vassal = {
								gender_equality_trigger = no
								NOT = { has_religion_feature = religion_matriarchal }
							}
						}
						create_random_soldier = {
							random_traits = yes
							dynasty = random
							religion = event_target:target_vassal
							culture = event_target:target_vassal
							female = yes
							age = 25
						}
					}
				}
				new_character = {
					emf_new_character_noble = yes
					grant_title = event_target:target_barony
				}
			}
		}
		emf_switch_to_merchant_republic_gov = yes
		any_demesne_province = {
			any_province_holding = {
				limit = {
					holding_type = city
				}
				grant_title = event_target:target_merchant_republic
				make_capital_holding = yes
			}
		}
		any_demesne_title = {
			limit = {
				tier = BARON
				NOT = {
					holding_type = city
				}
			}
			save_event_target_as = target_barony
			random_list = {
				50 = {
					modifier = {
						factor = 0
						event_target:target_merchant_republic = {
							has_religion_feature = religion_matriarchal
						}
					}
					create_random_soldier = {
						random_traits = yes
						dynasty = random
						religion = event_target:target_merchant_republic
						culture = event_target:target_merchant_republic
						female = no
						age = 25
					}
				}
				50 = {
					modifier = {
						factor = 0
						event_target:target_merchant_republic = {
							gender_equality_trigger = no
							NOT = { has_religion_feature = religion_matriarchal }
						}
					}
					create_random_soldier = {
						random_traits = yes
						dynasty = random
						religion = event_target:target_merchant_republic
						culture = event_target:target_merchant_republic
						female = yes
						age = 25
					}
				}
			}
			new_character = {
				emf_new_character_noble = yes
				grant_title = event_target:target_barony
			}
		}
		capital_scope = {
			change_tech = {
				technology = TECH_TRADE_PRACTICES
				value = 2
			}
		}
	}
}

spawn_theocracies_effect = {
	spawn_theocracy_effect = yes
	spawn_theocracy_effect = yes
	spawn_theocracy_effect = yes
	spawn_theocracy_effect = yes
	spawn_theocracy_effect = yes
	spawn_theocracy_effect = yes
	spawn_theocracy_effect = yes
	spawn_theocracy_effect = yes
	random = {
		chance = 50
		spawn_theocracy_effect = yes
	}
	random = {
		chance = 50
		spawn_theocracy_effect = yes
	}
	random = {
		chance = 50
		spawn_theocracy_effect = yes
	}
	random = {
		chance = 50
		spawn_theocracy_effect = yes
	}
	random = {
		chance = 50
		spawn_theocracy_effect = yes
	}
	random = {
		chance = 50
		spawn_theocracy_effect = yes
	}
	random = {
		chance = 50
		spawn_theocracy_effect = yes
	}
	random = {
		chance = 50
		spawn_theocracy_effect = yes
	}
}

spawn_theocracy_effect = {
	random_character = {
		limit = {
			is_government_potential = theocracy_government
			is_landed = yes
			any_demesne_title = {
				tier = COUNT
			}
			NOR = {
				is_merchant_republic = yes
				is_theocracy = yes
				holy_order = yes
				mercenary = yes
				controls_religion = yes
				is_nomadic = yes
			}
			capital_scope = {
				location = {
					any_province_holding = {
						holding_type = temple
					}
				}
			}
		}
		preferred_limit = {
			tier = COUNT
			is_adult = yes
			NOT = {
				location = {
					any_character = {
						is_landed = yes
						is_theocracy = yes
						NOT = {
							distance = { value = 200 where = PREV }
						}
					}
				}
			}
		}
		preferred_limit = {
			tier = COUNT
			is_adult = yes
		}
		preferred_limit = {
			tier = COUNT
		}
		
		save_event_target_as = target_theocracy
		
		set_government_type = theocracy_government
		remove_spouse = spouse
		any_demesne_province = {
			any_province_holding = {
				limit = {
					holding_type = temple
				}
				grant_title = event_target:target_theocracy
				make_capital_holding = yes
			}
		}
		any_demesne_title = {
			limit = {
				tier = BARON
				NOT = {
					holding_type = temple
				}
			}
			save_event_target_as = target_barony
			random_list = {
				50 = {
					modifier = {
						factor = 0
						event_target:target_theocracy = {
							has_religion_feature = religion_matriarchal
						}
					}
					create_random_soldier = {
						random_traits = yes
						dynasty = random
						religion = event_target:target_theocracy
						culture = event_target:target_theocracy
						female = no
						age = 25
					}
				}
				50 = {
					modifier = {
						factor = 0
						event_target:target_theocracy = {
							gender_equality_trigger = no
							NOT = { has_religion_feature = religion_matriarchal }
						}
					}
					create_random_soldier = {
						random_traits = yes
						dynasty = random
						religion = event_target:target_theocracy
						culture = event_target:target_theocracy
						female = yes
						age = 25
					}
				}
			}
			new_character = {
				emf_new_character_noble = yes
				grant_title = event_target:target_barony
			}
		}
	}
}

rename_titles_altstart = {
	any_title = {
		limit = {
			higher_tier_than = DUKE
			NOR = {
				controls_religion = yes
				mercenary = yes
				holy_order = yes
				clan = yes
				temporary = yes
				has_title_flag = alternate_hre
				has_title_flag = alternate_byz
				title = e_null
				title = e_hip
			}
		}
		if = {
			limit = {
				holder_scope = {
					primary_title = { title = PREVPREV }
					NOT = {
						is_lowborn = yes
					}
				}
			}
			holder_scope = {
				save_event_target_as = target_name
			}
		}
		else = {
			random_character = {
				limit = {
					NOT = {
						is_lowborn = yes
					}
				}
				save_event_target_as = target_name
			}
		}
		random_list = {
			20 = {
				set_name = DYNAMIC_NAME_1
				adjective = DYNAMIC_NAME_1_ADJ
			}
			10 = {
				set_name = DYNAMIC_NAME_2
				adjective = DYNAMIC_NAME_2_ADJ
			}
			15 = {
				set_name = DYNAMIC_NAME_3
				adjective = DYNAMIC_NAME_3_ADJ
			}
			10 = {
				set_name = DYNAMIC_NAME_4
				adjective = DYNAMIC_NAME_4_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_5
				adjective = DYNAMIC_NAME_5_ADJ
			}
			3 = {
				set_name = DYNAMIC_NAME_6
				adjective = DYNAMIC_NAME_6_ADJ
			}
			10 = {
				set_name = DYNAMIC_NAME_7
				adjective = DYNAMIC_NAME_7_ADJ
			}
			20 = {
				set_name = DYNAMIC_NAME_8
				adjective = DYNAMIC_NAME_8_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_9
				adjective = DYNAMIC_NAME_9_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_24
				adjective = DYNAMIC_NAME_24_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_25
				adjective = DYNAMIC_NAME_25_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_26
				adjective = DYNAMIC_NAME_26_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_27
				adjective = DYNAMIC_NAME_27_ADJ
			}
		}
	}
}

rename_titles_altstart_duchies = {
	any_title = {
		limit = {
			tier = DUKE
			NOR = {
				controls_religion = yes
				mercenary = yes
				holy_order = yes
				clan = yes
				has_title_flag = alternate_hre
				has_title_flag = alternate_byz
			}
		}
		if = {
			limit = {
				holder_scope = {
					primary_title = { title = PREVPREV }
					NOT = {
						is_lowborn = yes
					}
				}
			}
			holder_scope = {
				save_event_target_as = target_name
			}
		}
		else = {
			random_character = {
				limit = {
					NOT = {
						is_lowborn = yes
					}
				}
				save_event_target_as = target_name
			}
		}
		random_list = {
			20 = {
				set_name = DYNAMIC_NAME_1
				adjective = DYNAMIC_NAME_1_ADJ
			}
			10 = {
				set_name = DYNAMIC_NAME_2
				adjective = DYNAMIC_NAME_2_ADJ
			}
			15 = {
				set_name = DYNAMIC_NAME_3
				adjective = DYNAMIC_NAME_3_ADJ
			}
			10 = {
				set_name = DYNAMIC_NAME_4
				adjective = DYNAMIC_NAME_4_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_5
				adjective = DYNAMIC_NAME_5_ADJ
			}
			10 = {
				set_name = DYNAMIC_NAME_6
				adjective = DYNAMIC_NAME_6_ADJ
			}
			10 = {
				set_name = DYNAMIC_NAME_7
				adjective = DYNAMIC_NAME_7_ADJ
			}
			20 = {
				set_name = DYNAMIC_NAME_8
				adjective = DYNAMIC_NAME_8_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_9
				adjective = DYNAMIC_NAME_9_ADJ
			}
			20 = {
				set_name = DYNAMIC_NAME_10
				adjective = DYNAMIC_NAME_10_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_11
				adjective = DYNAMIC_NAME_11_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_12
				adjective = DYNAMIC_NAME_12_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_13
				adjective = DYNAMIC_NAME_13_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_14
				adjective = DYNAMIC_NAME_14_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_15
				adjective = DYNAMIC_NAME_15_ADJ
			}
			10 = {
				set_name = DYNAMIC_NAME_16
				adjective = DYNAMIC_NAME_16_ADJ
			}
			10 = {
				set_name = DYNAMIC_NAME_17
				adjective = DYNAMIC_NAME_17_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_18
				adjective = DYNAMIC_NAME_18_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_19
				adjective = DYNAMIC_NAME_19_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_20
				adjective = DYNAMIC_NAME_20_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_21
				adjective = DYNAMIC_NAME_21_ADJ
			}
			5 = {
				set_name = DYNAMIC_NAME_22
				adjective = DYNAMIC_NAME_22_ADJ
			}
			3 = {
				set_name = DYNAMIC_NAME_23
				adjective = DYNAMIC_NAME_23_ADJ
			}
		}
	}
}

bloodlines_effect = {
	spawn_one_bloodline_effect = yes
	spawn_one_bloodline_effect = yes
	spawn_one_bloodline_effect = yes
	spawn_one_bloodline_effect = yes
	spawn_one_bloodline_effect = yes
	spawn_one_bloodline_effect = yes
	spawn_one_bloodline_effect = yes
	random = {
		chance = 60
		spawn_one_bloodline_effect = yes
	}
	random = {
		chance = 60
		spawn_one_bloodline_effect = yes
	}
	random = {
		chance = 60
		spawn_one_bloodline_effect = yes
	}
	random = {
		chance = 30
		spawn_one_bloodline_effect = yes
	}
	random = {
		chance = 30
		spawn_one_bloodline_effect = yes
	}
	random = {
		chance = 30
		spawn_one_bloodline_effect = yes
	}
	random = {
		chance = 5
		spawn_one_bloodline_effect = yes
	}
	random = {
		chance = 5
		spawn_one_bloodline_effect = yes
	}
	random = {
		chance = 5
		spawn_one_bloodline_effect = yes
	}
	random = {
		chance = 5
		spawn_one_bloodline_effect = yes
	}
}

spawn_one_bloodline_effect = {
	random_character = {
		limit = {
			independent = yes
			is_landed = yes
			higher_tier_than = duke
			NOR = {
				any_owned_bloodline = {
					founder = {
						character = PREVPREV
					}
				}
				primary_title = {
					has_title_flag = alternate_hre
				}
				primary_title = {
					has_title_flag = alternate_byz
				}
				has_character_flag = random_world_bloodline
				any_independent_ruler = {
					has_character_flag = random_world_bloodline
					NOT = {
						distance_from_realm = { who = PREV value = 300 }
					}
				}
			}
		}
		preferred_limit = {
			is_adult = yes
			NOT = {
				age = 40
			}
		}
		preferred_limit = {
			is_adult = yes
			NOT = {
				age = 60
			}
		}
		preferred_limit = {
			is_adult = yes
		}
		
		save_event_target_as = random_world_bloodline_character
		
		if = {
			limit = {
				is_female = yes
				is_adult = yes
			}
			random_list = {
				20 = {
					create_bloodline = {
						type = random_world_bloodline_female_1 
					}
					new_bloodline = {
						set_description = "bloodline_description_random_world_1"
					}
					set_character_flag = random_world_bloodline
					
				}
				20 = {
					create_bloodline = {
						type = random_world_bloodline_female_2
					}
					new_bloodline = {
						set_description = "bloodline_description_random_world_2"
					}
					set_character_flag = random_world_bloodline
					
				}
				5 = {
					create_bloodline = {
						type = random_world_bloodline_female_3
					}
					new_bloodline = {
						set_description = "bloodline_description_random_world_3"
					}
					set_character_flag = random_world_bloodline
					remove_trait = chaste
					add_trait = seductress
					add_trait = lustful
					add_trait = fair
					give_nickname = nick_the_fair
				}
				
			}
		}
		else_if = {
			limit = {
				is_female = no
				is_adult = yes
			}
			random_list = {
				20 = {
					create_bloodline = {
						type = random_world_bloodline_male_1 
					}
					new_bloodline = {
						set_description = "bloodline_description_random_world_1"
					}
					set_character_flag = random_world_bloodline
				}
				20 = {
					create_bloodline = {
						type = random_world_bloodline_male_2
					}
					new_bloodline = {
						set_description = "bloodline_description_random_world_2"
					}
					set_character_flag = random_world_bloodline
				}
				
				5 = {
					create_bloodline = {
						type = random_world_bloodline_male_3
					}
					new_bloodline = {
						set_description = "bloodline_description_random_world_3"
					}
					set_character_flag = random_world_bloodline
					remove_trait = chaste
					add_trait = seducer
					add_trait = lustful
					add_trait = fair
					give_nickname = nick_the_fair
				}
				
			}
		}
		else_if = {
			limit = {
				is_female = yes
				is_adult = no
			}
			random_list = {
				20 = {
					create_bloodline = {
						type = random_world_bloodline_female_1 
					}
					new_bloodline = {
						set_description = "bloodline_description_random_world_1"
					}
					set_character_flag = random_world_bloodline
				}
				20 = {
					create_bloodline = {
						type = random_world_bloodline_female_2
					}
					new_bloodline = {
						set_description = "bloodline_description_random_world_2"
					}
					set_character_flag = random_world_bloodline
				}
			}
		}
		else_if = {
			limit = {
				is_female = no
				is_adult = no
			}
			random_list = {
				20 = {
					create_bloodline = {
						type = random_world_bloodline_male_1 
					}
					new_bloodline = {
						set_description = "bloodline_description_random_world_1"
					}
					set_character_flag = random_world_bloodline
				}
				20 = {
					create_bloodline = {
						type = random_world_bloodline_male_2
					}
					new_bloodline = {
						set_description = "bloodline_description_random_world_2"
					}
					set_character_flag = random_world_bloodline
				}
			}
		}
		
		emf_dna_set_flags_for_high_health = yes
		health = 2
		while = {
			count = 10
			limit = { always = yes }
			emf_increase_fertility = yes
		}
		remove_trait = dim
		remove_trait = slow
		remove_trait = imbecile
		emf_dna_improve_homozygous_recessive_for_intelligence = yes
		emf_dna_improve_homozygous_recessive_for_strength = yes
		remove_trait = delicate
		remove_trait = weak
		remove_trait = dull
		remove_trait = content
		remove_trait = shy
		remove_trait = slothful
		remove_trait = craven
		
		if = {
			limit = {
				graphical_culture = horsegfx
			}
			random = {
				chance = 10
				add_artifact = crown_unicorn_helmet
			}
		}
		
		if = {
			limit = {
				NOT = {
					has_nickname = yes
				}
			}
			random_list = {
				10 = {
					give_nickname = nick_the_brave
					add_trait = brave
				}
				10 = {
					give_nickname = nick_the_glorious
				}
				10 = {
					give_nickname = nick_the_fearless
					add_trait = brave
				}
				10 = {
					give_nickname = nick_the_noble
				}
				10 = {
					give_nickname = nick_the_strong
					emf_dna_add_trait_strong = yes
				}
				10 = {
					give_nickname = nick_the_wise
					emf_dna_add_trait_genius = yes
				}
				10 = {
					give_nickname = nick_the_giant
					emf_dna_add_trait_strong = yes
					emf_dna_add_trait_giant = yes
					emf_dna_remove_trait_dwarf = yes
				}
				10 = {
					give_nickname = nick_the_cyclops
					emf_dna_add_trait_strong = yes
					add_trait = one_eyed
					emf_dna_add_trait_giant = yes
					emf_dna_remove_trait_dwarf = yes
				}
				10 = {
					give_nickname = nick_the_roaring_flame
					emf_dna_add_trait_strong = yes
					set_character_flag = taught_chinese_strategy
					add_trait = master_of_flame
				}
				10 = {
					save_event_target_as = nick_target_the_shield_of_capital
					give_nickname = nick_the_shield_of_capital
					emf_dna_add_trait_strong = yes
					add_trait = robust
				}
				10 = {
					give_nickname = nick_the_goliath
					emf_dna_add_trait_strong = yes
					emf_dna_add_trait_giant = yes
				}
				
				20 = {
					give_nickname = nick_the_mythological_creature
					emf_dna_add_trait_strong = yes
				}
				
				10 = {
					give_nickname = nick_the_lawgiver
				}
				10 = {
					give_nickname = nick_the_hammer
					emf_dna_add_trait_strong = yes
				}
				10 = {
					give_nickname = nick_the_conqueror
					emf_dna_add_trait_strong = yes
				}
				10 = {
					give_nickname = nick_the_avenger
				}
				10 = {
					give_nickname = nick_the_fearless
					emf_dna_add_trait_strong = yes
				}
				10 = {
					give_nickname = nick_the_glorious
					emf_dna_add_trait_strong = yes
				}
				10 = {
					give_nickname = nick_the_stranger
				}
				10 = {
					give_nickname = nick_the_legendary
					emf_dna_add_trait_strong = yes
				}
				10 = {
					give_nickname = nick_the_destroyer
					emf_dna_add_trait_strong = yes
				}
				10 = {
					give_nickname = nick_the_world_burner
				}
				10 = {
					give_nickname = nick_the_bear
				}
				10 = {
					give_nickname = nick_the_boar
				}
				10 = {
					give_nickname = nick_the_ironside
				}
				10 = {
					give_nickname = nick_the_lion
				}
				10 = {
					give_nickname = nick_the_lionheart
					emf_dna_add_trait_strong = yes
				}
				10 = {
					give_nickname = nick_the_magnificent
				}
				10 = {
					give_nickname = nick_the_dragon
					emf_dna_add_trait_strong = yes
				}
				10 = {
					give_nickname = nick_the_great
					emf_dna_add_trait_strong = yes
				}
				10 = {
					give_nickname = nick_the_wolf
					emf_dna_add_trait_strong = yes
				}
				
				1 = {
					give_nickname = nick_tiny
					remove_trait = slothful
					emf_dna_add_trait_genius = yes
					add_trait = diligent
					set_name = "Magne"
				}

				1 = { # If Magne/Meneth can have an easter egg alt. name, so can Matthew/zijistark!
					give_nickname = nick_the_underdog
					remove_trait = dim
					remove_trait = imbecile
					remove_trait = slow
					emf_dna_improve_homozygous_recessive_for_intelligence = yes
					add_trait = shrewd
					add_trait = diligent
					add_trait = ambitious
					set_name = "Matthew"
				}
			}
		}
	}
}

random_world_artifacts_effect = {
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
	spawn_one_artifact_effect = yes
}

spawn_one_artifact_effect = {

	random_character = {
		limit = {
			independent = yes
			is_landed = yes
			is_adult = yes
			higher_tier_than = count
			NOR = {
					
				has_character_flag = random_world_artifact
				any_independent_ruler = {
					has_character_flag = random_world_artifact
					NOT = {
						distance_from_realm = { who = PREV value = 200 }
					}
				}
			}
		}
			
		save_event_target_as = random_world_artifact_holder
		random_list = {
			20 = {
				set_character_flag = random_world_artifact
				add_artifact = random_world_sword
				new_artifact = {
					random_list = {
						10 = {
							set_name="random_world_sword_1"
							set_description = "random_world_sword_desc_1"
						}
						10 = {
							set_name="random_world_sword_2"
							set_description = "random_world_sword_desc_2"
						}
						10 = {
							set_name="random_world_sword_3"
							set_description = "random_world_sword_desc_3"
						}
						10 = {
							set_name="random_world_sword_4"
							set_description = "random_world_sword_desc_4"
						}
						10 = {
							set_name="random_world_sword_5"
							set_description = "random_world_sword_desc_5"
						}
						10 = {
							set_name="random_world_sword_6"
							set_description = "random_world_sword_desc_6"
						}
					}
					random_list = {
						10 = {
							set_picture = "GFX_sword_golden"
						}
						10 = {
							set_picture = "GFX_sword_of_heroes"
						}
						10 = {
							set_picture = "GFX_sword_engraved"
						}
						10 = {
							set_picture = "GFX_sword_T3_glow_green"
						}
						10 = {
							set_picture = "GFX_sword_T3_glow_purple"
						}
						10 = {
							set_picture = "GFX_sword_T3_glow_red"
						}
					}
				}
			}
		
		
			20 = {
				set_character_flag = random_world_artifact
				add_artifact = random_world_armor
				new_artifact ={
					random_list = {
							10 = {
								set_name="random_world_armor_1"
								set_description = "random_world_armor_desc_1"
							}
							10 = {
								set_name="random_world_armor_2"
								set_description = "random_world_armor_desc_2"
							}
							10 = {
								set_name="random_world_armor_3"
								set_description = "random_world_armor_desc_3"
							}
							10 = {
								set_name="random_world_armor_4"
								set_description = "random_world_armor_desc_4"
							}
							10 = {
								set_name="random_world_armor_5"
								set_description = "random_world_armor_desc_5"
							}
					}
					random_list = {
						10 = {
							set_picture = "GFX_guardian_armor"
						}
						10 = {
							set_picture = "GFX_champion_armor"
						}
						10 = {
							set_picture = "GFX_warden_armor"
						}
					}
				}
			}
			
			10 = {
				trigger = {
					NOT = {
						has_game_rule = {
							name = supernatural_events
							value = off
						}
					}
					OR = {
						ai = no
						has_game_rule = {
							name = supernatural_events
							value = unrestricted
						}
					}
				}
				set_character_flag = random_world_artifact
				add_artifact = random_world_mythological_heart_1
				new_artifact ={
					random_list = {
						10 = {
							set_name="random_world_mythological_heart_1"
							set_description = "random_world_mythological_heart_1_desc"
						}
					}
				}
			}
			
			10 = {
				trigger = {
					NOT = {
						has_game_rule = {
							name = supernatural_events
							value = off
						}
					}
					OR = {
						ai = no
						has_game_rule = {
							name = supernatural_events
							value = unrestricted
						}
					}
				}
				set_character_flag = random_world_artifact
				add_artifact = random_world_mythological_blood
				new_artifact ={
					random_list = {
						10 = {
							set_name="random_world_mythological_blood_1"
							set_description = "random_world_mythological_blood_desc_1"
						}
					}
				}
			}
			
			10 = {
				trigger = {
					NOT = {
						has_game_rule = {
							name = supernatural_events
							value = off
						}
					}
					OR = {
						ai = no
						has_game_rule = {
							name = supernatural_events
							value = unrestricted
						}
					}
				}
				set_character_flag = random_world_artifact
				add_artifact = random_world_mythological_eye
				new_artifact ={
					random_list = {
						10 = {
							set_name="random_world_mythological_eye_1"
							set_description = "random_world_mythological_eye_desc_1"
						}
					}
				}
			}
			
			
			1 = {
				set_character_flag = random_world_artifact
				add_artifact = random_world_book_of_dev 
				new_artifact ={
					random_list = {
							10 = {
								set_name="random_world_book_of_dev_1"
								set_description = "random_world_book_of_dev_desc"
							}
							10 = {
								set_name="random_world_book_of_dev_2"
								set_description = "random_world_book_of_dev_desc"
							}
							10 = {
								set_name="random_world_book_of_dev_3"
								set_description = "random_world_book_of_dev_desc"
							}
							10 = {
								set_name="random_world_book_of_dev_4"
								set_description = "random_world_book_of_dev_desc"
							}
							10 = {
								set_name="random_world_book_of_dev_5"
								set_description = "random_world_book_of_dev_desc"
							}
							10 = {
								set_name="random_world_book_of_dev_6"
								set_description = "random_world_book_of_dev_desc"
							}
							10 = {
								set_name="random_world_book_of_dev_7"
								set_description = "random_world_book_of_dev_desc"
							}
							10 = {
								set_name="random_world_book_of_dev_8"
								set_description = "random_world_book_of_dev_desc"
							}
							10 = {
								set_name="random_world_book_of_dev_9"
								set_description = "random_world_book_of_dev_desc"
							}
							10 = {
								set_name="random_world_book_of_dev_10"
								set_description = "random_world_book_of_dev_desc"
							}
							10 = {
								set_name="random_world_book_of_dev_11"
								set_description = "random_world_book_of_dev_desc"
							}
							10 = {
								set_name="random_world_book_of_dev_12"
								set_description = "random_world_book_of_dev_desc"
							}
							10 = {
								set_name="random_world_book_of_dev_13"
								set_description = "random_world_book_of_dev_desc"
							}
							10 = {
								set_name="random_world_book_of_dev_14"
								set_description = "random_world_book_of_dev_desc"
							}
					}
				}
			}
		}
	}
}

# Referenced by Alternate Start religion name generation
randomize_religion_names_effect = {
	# Activate all religious heads

	# Landless, non-reformed religious head titles are activated.
	emf_activate_randomized_relhead_titles = yes

	# Set appropriate names for all rel head titles
	emf_randomize_relhead_title_names = yes
}

set_random_coa_effect = {
	random_independent_ruler = {
		limit = {
			any_realm_title = {
				tier = COUNT # Ensures we dont hit mercs/rel heads/holy orders with only one title and such
				NOT = {
					has_title_flag = used_for_coa
				}
			}
		}
		random_realm_title = {
			limit = {
				OR = {
					tier = COUNT
					tier = DUKE
				}
				NOT = {
					has_title_flag = used_for_coa
				}
			}
			save_event_target_as = coa_target
			set_title_flag = used_for_coa
		}
	}
	# FIXME: this is actually broken and may repeat CoAs
	set_coa = event_target:coa_target
}
