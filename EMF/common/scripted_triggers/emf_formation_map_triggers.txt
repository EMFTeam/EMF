# -*- ck2.scripted_triggers -*-

emf_has_eastern_marches_culture = {
	OR = {
		culture = german
		culture = old_frankish
		#culture = bavarian # SWMH
	}
}

emf_has_eastern_marches_duchy = {
	OR = {
		has_landed_title = d_bavaria
		has_landed_title = d_nordgau
		has_landed_title = d_salzburg
		has_landed_title = d_osterreich
		has_landed_title = d_styria
		has_landed_title = d_tyrol
		has_landed_title = d_friuli
		has_landed_title = d_carniola
		has_landed_title = d_carinthia
	}
}

emf_controls_all_eastern_marches_duchies = {
	k_bavaria = {
		show_scope_change = no
		custom_tooltip = {
			text = CONTROLS_ALL_DJ_VASSAL_COUNTIES_OF_THIS_KINGDOM
			NOT = {
				any_direct_de_jure_vassal_title = {
					is_titular = no
					emf_ROOT_completely_controls_counties = no
				}
			}
		}
	}
	k_carinthia = {
		show_scope_change = no
		custom_tooltip = {
			text = CONTROLS_ALL_DJ_VASSAL_COUNTIES_OF_THIS_KINGDOM
			NOT = {
				any_direct_de_jure_vassal_title = {
					is_titular = no
					emf_ROOT_completely_controls_counties = no
				}
			}
		}
	}
	d_bavaria = {
		show_scope_change = no
		trigger_if = {
			limit = {
				NOR = {
					de_jure_liege = k_bavaria
					de_jure_liege = k_carinthia
				}
			}
			emf_ROOT_completely_controls_counties = yes
		}
	}
	d_nordgau = {
		show_scope_change = no
		trigger_if = {
			limit = {
				NOR = {
					de_jure_liege = k_bavaria
					de_jure_liege = k_carinthia
				}
			}
			emf_ROOT_completely_controls_counties = yes
		}
	}
	d_salzburg = {
		show_scope_change = no
		trigger_if = {
			limit = {
				NOR = {
					de_jure_liege = k_bavaria
					de_jure_liege = k_carinthia
				}
			}
			emf_ROOT_completely_controls_counties = yes
		}
	}
	d_osterreich = {
		show_scope_change = no
		trigger_if = {
			limit = {
				NOR = {
					de_jure_liege = k_bavaria
					de_jure_liege = k_carinthia
				}
			}
			emf_ROOT_completely_controls_counties = yes
		}
	}
	d_styria = {
		show_scope_change = no
		trigger_if = {
			limit = {
				NOR = {
					de_jure_liege = k_bavaria
					de_jure_liege = k_carinthia
				}
			}
			emf_ROOT_completely_controls_counties = yes
		}
	}
	d_tyrol = {
		show_scope_change = no
		trigger_if = {
			limit = {
				NOR = {
					de_jure_liege = k_bavaria
					de_jure_liege = k_carinthia
				}
			}
			emf_ROOT_completely_controls_counties = yes
		}
	}
	d_friuli = {
		show_scope_change = no
		trigger_if = {
			limit = {
				NOR = {
					de_jure_liege = k_bavaria
					de_jure_liege = k_carinthia
				}
			}
			emf_ROOT_completely_controls_counties = yes
		}
	}
	d_carniola = {
		show_scope_change = no
		trigger_if = {
			limit = {
				NOR = {
					de_jure_liege = k_bavaria
					de_jure_liege = k_carinthia
				}
			}
			emf_ROOT_completely_controls_counties = yes
		}
	}
	d_carinthia = {
		show_scope_change = no
		trigger_if = {
			limit = {
				NOR = {
					de_jure_liege = k_bavaria
					de_jure_liege = k_carinthia
				}
			}
			emf_ROOT_completely_controls_counties = yes
		}
	}
}

emf_amalfi_extra_counties_allow = {}
