
emf_laws_change_succ_prestige_cost_trigger = {
	OR = {
		custom_tooltip = {
			text = emf_laws_ctt_baron_tier_and_requires_125_prestige_cost
			hidden_tooltip = {
				tier = BARON
				holder_scope = { prestige = 125 }
			}
		}
		custom_tooltip = {
			text = emf_laws_ctt_count_tier_and_requires_250_prestige_cost
			hidden_tooltip = {
				tier = COUNT
				holder_scope = { prestige = 250 }
			}
		}
		custom_tooltip = {
			text = emf_laws_ctt_duke_tier_and_requires_500_prestige_cost
			hidden_tooltip = {
				tier = DUKE
				holder_scope = { prestige = 500 }
			}
		}
		custom_tooltip = {
			text = emf_laws_ctt_king_tier_and_requires_750_prestige_cost
			hidden_tooltip = {
				tier = KING
				holder_scope = { prestige = 750 }
			}
		}
		custom_tooltip = {
			text = emf_laws_ctt_emperor_tier_and_requires_1000_prestige_cost
			hidden_tooltip = {
				tier = EMPEROR
				holder_scope = { prestige = 1000 }
			}
		}
	}
}

emf_laws_change_succ_allow_trigger = {
	emf_laws_change_succ_prestige_cost_trigger = yes
}

emf_laws_cognatic_potential_trigger = {
	holder_scope = {
		# Diff from vanilla:
		# - removed some logically redundant code related to merchant republics
		# - holders with a horde culture can be cognatic if a player
		# - cosmetic conversion of the excluded character classes into a NOR
		OR = {
			independent = yes
			NOT = {
				any_liege = {
					holy_order = yes
				}
			}
		}
		OR = {
			NOR = {
				religion_group = muslim
				religion = aztec
				religion = aztec_reformed
				is_tribal = yes
				is_nomadic = yes
				is_merchant_republic = yes
				is_patrician = yes
				AND = {
					has_horde_culture = yes
					ai = yes
				}
			}
			AND = {
				has_dlc = "Zeus"
				primary_title = {					
					OR = {
						has_law = status_of_women_3
						has_law = status_of_women_4
					}
				}
				OR = {
					is_patrician = no
					liege = {
						primary_title = {
							OR = {
								has_law = true_cognatic_succession
								has_law = cognatic_succession
							}
						}
					}
				}
			}
		}
	}
	OR = {
		AND = {
			tier = baron
			is_theocracy = no
			is_republic = no
		}
		holder_scope = {
			is_theocracy = no
			is_republic = no
		}
	}

	# Here, we've made an exception to the vanilla rule for landless/primary-type
	# titles if the title is temporary.  This should allow revolt titles to
	# be Absolute Cognatic if full Gender Equality is enabled. Here, we do exclude
	# adventurer titles (if that trigger even works-- I have my doubts) for safety,
	# as I'm already unsure whether Absolute Cognatic won't have any weird side
	# effects for revolt titles, and adventurers tend to be the wrong character
	# type anyhow.
	OR = {
		AND = {
			is_landless_type_title = no
			is_primary_type_title = no
		}
		AND = {
			has_global_flag = emf_gender_eq_law
			temporary = yes
			NOR = {
				adventurer = yes
				mercenary = yes
				clan = yes
				rebel = yes # major_revolt titles aren't rebel = yes
			}
		}
	}
}

# Used for most regular succession laws as PART of the potential. It's NOT common to every major succession type (e.g.,
# primogeniture and turkish succession don't use it); it's just a convenience to clarify the succession laws code.
emf_laws_succ_basic_potential_trigger = {
	holder_scope = {
		NOT = { religion_group = muslim }
		OR = {
			independent = yes
			NOR = {
				any_liege = { holy_order = yes }
				any_demesne_title = { is_vice_royalty = yes }
			}
		}
	}
	OR = {
		is_landless_type_title = no
		is_tribal_type_title = yes
		temporary = yes
	}
	is_primary_type_title = no
	is_vice_royalty = no
}

emf_laws_any_succ_change_opinion_trigger = {
	OR = {
		has_opinion_modifier = { who = PREV modifier = opinion_succ_law_change }
		has_opinion_modifier = { who = PREV modifier = opinion_good_succ_law_change }
		has_opinion_modifier = { who = PREV modifier = opinion_bad_succ_law_change }
	}
}
