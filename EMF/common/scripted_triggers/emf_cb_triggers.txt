
# In attacker scope, FROM is war defender
#
# False when defender does not pay tribute to attacker
# and no liege of attacker either pays tribute to
# defender or defender pays tribute to them.
emf_cb_tribute_block_trigger = {
	or = {
		pays_tribute_to = FROM
		any_liege = {
			or = {
				pays_tribute_to = FROM
				FROM = {
					pays_tribute_to = PREV
				}
			}
		}
	}
}


emf_cb_revolter_block_trigger = {
	custom_tooltip = {
		text = emf_cb_ctt_revolter_block_trigger
		hidden_tooltip = {
			NOR = {
				any_war = { # Secondary participant revolter
					any_attacker = { character = PREVPREV } # Non-faction participant in this war or revolt leader
					pf_cb_trigger = yes
				}
				AND = { # Faction member revolter (also works for revolt leaders)
					in_revolt = yes
					liege = { # Liege is a PF-style revolt leader
						in_revolt = yes
						any_war = {
							attacker = { character = PREVPREV }
							pf_cb_trigger = yes
						}
					}
				}
			}
		}
	}
}
